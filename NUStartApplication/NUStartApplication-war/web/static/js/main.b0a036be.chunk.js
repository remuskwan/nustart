(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{158:function(e,t,s){},309:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(68),r=s.n(c),n=(s(158),s(5)),i=s(40),l=s(27),o=function(){var e=sessionStorage.getItem("userId");return console.log(e),e?JSON.parse(e).userId:null},d=function(e){sessionStorage.setItem("userId",JSON.stringify(e))},m=function(){sessionStorage.removeItem("userId")},u=s(1),j=["component"];function x(e){var t=e.component,s=Object(l.a)(e,j);return Object(u.jsx)(n.b,Object(i.a)(Object(i.a)({},s),{},{render:function(e){return o()?Object(u.jsx)(n.a,{to:{pathname:"/"}}):Object(u.jsx)(t,Object(i.a)({},e))}}))}var b=["component"];function h(e){var t=e.component,s=Object(l.a)(e,b);return Object(u.jsx)(n.b,Object(i.a)(Object(i.a)({},s),{},{render:function(e){return o()?Object(u.jsx)(t,Object(i.a)({},e)):Object(u.jsx)(n.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var f=s(2),p=s(14),g=s(9),O=s(311),v=s(10),y=s(3),N=s(314),w=s(313);function S(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function k(e){var t=e.user,s=Object(n.g)();return Object(u.jsxs)(N.a,{as:"div",className:"flex-shrink-0 relative ml-5",children:[Object(u.jsx)("div",{children:Object(u.jsxs)(N.a.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-rose-500",children:[Object(u.jsx)("span",{className:"sr-only",children:"Open user menu"}),"default"===t.profilePicture?Object(u.jsx)("div",{className:"max-w-md mx-auto my-3",children:Object(u.jsx)("div",{className:"flex justify-center items-center content-center bg-gradient-to-br from-pink-300 to-pink-600 hover:shadow-lg h-10 w-10 rounded-full fill-current text-white",children:Object(u.jsx)("h2",{style:{fontSize:18},children:t.username.substring(0,1)})})}):Object(u.jsx)("img",{className:"h-10 w-10 rounded-full sm:h-10 sm:w-10",src:t.profilePicture,alt:t.username.substring(0,1)})]})}),Object(u.jsx)(w.a,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(u.jsxs)(N.a.Items,{className:"origin-top-right absolute z-10 right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 py-1 focus:outline-none",children:[Object(u.jsx)(N.a.Item,{children:function(e){var a=e.active;return Object(u.jsx)("button",{className:S(a?"bg-gray-100":"","w-full text-left py-2 px-4 text-sm text-gray-700"),onClick:function(){s.push("/profile/".concat(t.id)),window.location.reload()},children:"Your Profile"})}},"Your Profile"),Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsx)("button",{className:S(t?"bg-gray-100":"","w-full text-left py-2 px-4 text-sm text-gray-700"),onClick:function(){m(),s.push("/login")},children:"Sign out"})}},"Sign out")]})})]})}var C=s(315);function T(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function F(e){var t=e.options,s=e.searchType,c=e.setSearchType;return Object(u.jsx)(C.a,{value:s,onChange:c,children:function(e){var c=e.open;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"relative",children:[Object(u.jsxs)(C.a.Button,{className:"bg-white relative w-full border-t border-r border-b border-gray-300 rounded-r-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:s.name}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{show:c,as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:t.map((function(e){return Object(u.jsx)(C.a.Option,{className:function(e){return T(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:T(s?"font-semibold":"font-normal","block truncate"),children:e.name}),s?Object(u.jsx)("span",{className:T(a?"text-white":"text-rose-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)}))})})]})})}})}function E(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function A(e){var t=e.component,s=e.disableButton,c=void 0!==s&&s,r=e.disableSearch,i=void 0!==r&&r,l=e.editProfile,o=void 0!==l&&l,d=e.user,j=e.searchString,x=void 0===j?"":j,b=e.setSearchString,h=e.searchTypes,f=e.searchType,N=e.setSearchType,w=Object(n.g)(),S=Object(n.i)().url,C=o?[{name:"Account",path:"/account/edit",icon:y.q},{name:"Password",path:"/account/edit/password",icon:y.k}]:[{name:"Forums",path:"/",icon:v.g},{name:"Guides",path:"/categories",icon:v.k}].concat(Object(p.a)("ADMIN"===d.accountType?[{name:"Categories",path:"/admin/categories",icon:v.r},{name:"Users",path:"/users",icon:v.r}]:[]));return Object(u.jsx)(O.a,{as:"header",className:function(e){return E(e.open?"fixed inset-0 z-40 overflow-y-auto":"","bg-white shadow-sm lg:static lg:overflow-y-visible")},children:function(e){var s=e.open;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(u.jsxs)("div",{className:"relative flex justify-between xl:grid xl:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"flex md:absolute md:left-0 md:inset-y-0 lg:static xl:col-span-2",children:Object(u.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(u.jsx)(g.b,{to:"/",children:Object(u.jsx)("img",{className:"block h-8 w-auto",src:"https://nustart.s3.ap-southeast-1.amazonaws.com/nustartlogo.png",alt:"NUStart"})})})}),Object(u.jsx)("div",{className:"min-w-0 flex-1 md:px-8 lg:px-0 xl:col-span-8",children:Object(u.jsx)("div",{className:"flex items-center px-6 py-4 md:max-w-3xl md:mx-auto lg:max-w-none lg:mx-0 xl:px-0",children:i?Object(u.jsx)("div",{className:"h-9"}):Object(u.jsx)("div",{className:"flex w-full",children:Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),Object(u.jsxs)("div",{className:"relative flex-1",children:[Object(u.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:Object(u.jsx)(y.n,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),Object(u.jsx)("input",{id:"search",name:"search",className:"block w-full bg-white border border-gray-300 rounded-l-md py-2 pl-10 pr-3 text-sm placeholder-gray-500 focus:outline-none focus:text-gray-900 focus:placeholder-gray-400 focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",placeholder:"Search",type:"search",value:x,onChange:function(e){return b(e.target.value)}})]}),Object(u.jsx)("div",{className:"flex-2",children:Object(u.jsx)(F,{options:h,searchType:f,setSearchType:N})})]})})})}),Object(u.jsx)("div",{className:"flex items-center md:absolute md:right-0 md:inset-y-0 lg:hidden",children:Object(u.jsxs)(O.a.Button,{className:"-mx-2 rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-rose-500",children:[Object(u.jsx)("span",{className:"sr-only",children:"Open menu"}),s?Object(u.jsx)(v.s,{className:"block h-6 w-6","aria-hidden":"true"}):Object(u.jsx)(v.o,{className:"block h-6 w-6","aria-hidden":"true"})]})}),Object(u.jsxs)("div",{className:"hidden lg:flex lg:items-center lg:justify-end xl:col-span-2",children:[!c&&t&&t,Object(u.jsx)(k,{user:d})]})]})}),Object(u.jsxs)(O.a.Panel,{as:"nav",className:"lg:hidden","aria-label":"Global",children:[Object(u.jsx)("div",{className:"max-w-3xl mx-auto px-2 pt-2 pb-3 space-y-1 sm:px-4",children:C.map((function(e){return Object(u.jsx)(g.c,{to:e.path,"aria-current":e.path===S?"page":void 0,className:E(e.path===S?"bg-gray-100 text-gray-900":"hover:bg-gray-50","block rounded-md py-2 px-3 text-base font-medium"),children:e.name},e.name)}))}),Object(u.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[Object(u.jsx)("div",{className:"max-w-3xl mx-auto px-4 flex items-center sm:px-6",children:Object(u.jsxs)("div",{className:"ml-1",children:[Object(u.jsx)("div",{className:"text-base font-medium text-gray-800",children:d&&d.username}),Object(u.jsx)("div",{className:"text-sm font-medium text-gray-500",children:d&&d.email})]})}),Object(u.jsxs)("div",{className:"mt-3 max-w-3xl mx-auto px-2 space-y-1 sm:px-4",children:[Object(u.jsx)("button",{className:"w-full block rounded-md py-2 px-3 text-base text-left font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-900",onClick:function(){w.push("/profile/".concat(d.id)),window.location.reload()},children:"Your Profile"}),Object(u.jsx)("button",{className:"w-full block rounded-md py-2 px-3 text-base text-left font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-900",onClick:function(){m(),w.push("/login")},children:"Sign out"})]})]}),Object(u.jsx)("div",{className:"mt-6 max-w-3xl mx-auto px-4 sm:px-6",children:!c&&t&&t})]})]})}})}function I(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function U(e){var t=e.editProfile,s=void 0!==t&&t,a=e.user,c=Object(n.i)().url,r=s?[{name:"Account",path:"/account/edit",icon:v.q},{name:"Password",path:"/account/edit/password",icon:v.l}]:[{name:"Forums",path:"/",icon:v.g},{name:"Guides",path:"/categories",icon:v.d},{name:"Campus",path:"/campus",icon:v.n}];return Object(u.jsxs)("nav",{"aria-label":"Sidebar",className:"sticky top-4 divide-y divide-gray-300",children:[Object(u.jsx)("div",{className:"pb-8 space-y-1",children:r.map((function(e){return Object(u.jsxs)(g.c,{to:e.path,className:I(e.path===c?"bg-gray-200 text-gray-900":"text-gray-600 hover:bg-gray-50","group flex items-center px-3 py-2 text-sm font-medium rounded-md"),"aria-current":e.path===c?"page":void 0,children:[Object(u.jsx)(e.icon,{className:I(e.path===c?"text-gray-500":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"),"aria-hidden":"true"}),Object(u.jsx)("span",{className:"truncate",children:e.name})]},e.name)}))}),"ADMIN"===a.accountType&&Object(u.jsxs)("div",{className:"pt-10",children:[Object(u.jsx)("p",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",id:"communities-headline",children:"Admin Console"}),Object(u.jsx)("div",{className:"mt-3 space-y-2","aria-labelledby":"communities-headline",children:[{id:1,name:"Campus",path:"/admin/campus"},{id:2,name:"Categories",path:"/admin/categories"},{id:3,name:"Users",path:"/users"}].map((function(e){return Object(u.jsx)(g.c,{to:e.path,className:"group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:text-gray-900 hover:bg-gray-50",children:Object(u.jsx)("span",{className:"truncate",children:e.name})},e.id)}))})]})]})}var P=["placeholder","required","autoFocus","maxLength","autoCapitalize","className"];function B(e){var t=e.placeholder,s=void 0===t?"":t,a=e.required,c=void 0!==a&&a,r=e.autoFocus,n=void 0!==r&&r,i=e.maxLength,o=void 0===i?255:i,d=e.autoCapitalize,m=void 0===d?"none":d,j=e.className,x=void 0===j?"shadow-sm focus:ring-rose-500 focus:border-rose-500 block w-full sm:text-sm border-gray-300 rounded-md":j,b=Object(l.a)(e,P);return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"input",className:"block text-sm font-medium text-gray-700",children:b.label}),Object(u.jsx)("div",{className:"mt-1 relative rounded-md shadow-sm",children:Object(u.jsx)("input",{type:b.type,name:b.name,id:b.id,className:x,placeholder:s,autoComplete:b.autoComplete,autoFocus:n,required:c,"aria-invalid":"true",maxLength:o,autoCapitalize:m,value:b.value,onChange:b.onChange})})]})}var D=["placeholder","required","autoFocus","rows","helpText"];function M(e){var t=e.placeholder,s=void 0===t?"":t,a=(e.required,e.autoFocus),c=void 0!==a&&a,r=e.rows,n=void 0===r?3:r,i=e.helpText,o=void 0===i?"":i,d=Object(l.a)(e,D);return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700",children:d.label}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("textarea",{id:d.id,name:d.name,rows:n,placeholder:s,required:!0,autoFocus:c,className:"shadow-sm focus:ring-rose-500 focus:border-rose-500 block w-full sm:text-sm border-gray-300 rounded-md",value:d.value,onChange:d.onChange})}),Object(u.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:o})]})}var L=s(8),z=s.n(L),G={login:function(e){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/users/login",e)},register:function(e){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/users",e)},getUsers:function(){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/users")},getUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o();return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/users/".concat(e))},getContactSize:function(){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/users/contactsId")},getCategories:function(){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/categories")},getCategory:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/categories/".concat(e))},getGuides:function(){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/guides")},getGuide:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/guides/".concat(e))},getGuideCategory:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/guides/".concat(e,"/category"))},getMap:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/admin/maps/".concat(e))},getMaps:function(){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/admin/maps")},getUserGuide:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/users/".concat(e,"/guides"))},createGuide:function(e,t){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/categories/".concat(e,"/guides"),t)},getComments:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/guides/".concat(e))},getCommentReplies:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/guides/".concat(e))},getForums:function(){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/forums")},getForum:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/forums/".concat(e))},getThread:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/threads/".concat(e))},getThreadForum:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/threads/".concat(e,"/forum"))},getUserThread:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/users/".concat(e,"/threads"))},getPostThread:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/threads/".concat(e,"/post"))},getUserPost:function(e){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/users/".concat(e,"/posts"))},editComment:function(e,t){return z.a.put("http://localhost:8080/NUStartApplication-war/webresources/guides/".concat(e,"/comments"),t)},editMap:function(e,t){return z.a.put("http://localhost:8080/NUStartApplication-war/webresources/admin/maps/".concat(e),t)},editUser:function(e,t){return z.a.put("http://localhost:8080/NUStartApplication-war/webresources/users/".concat(e),t)},editGuide:function(e,t){return z.a.put("http://localhost:8080/NUStartApplication-war/webresources/categories/".concat(e,"/guides"),t)},editThread:function(e,t){return z.a.put("http://localhost:8080/NUStartApplication-war/webresources/forums/".concat(e,"/threads"),t)},editPost:function(e,t,s){return z.a.put("http://localhost:8080/NUStartApplication-war/webresources/forums/".concat(e,"/threads/").concat(t,"/posts"),s)},editCategory:function(e,t){return z.a.put("http://localhost:8080/NUStartApplication-war/webresources/categories/".concat(e),t)},createComment:function(e,t){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/guides/".concat(e,"/comments"),t)},createForum:function(e){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/forums",e)},createPost:function(e,t,s){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/forums/".concat(e,"/threads/").concat(t,"/posts"),s)},createThread:function(e,t){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/forums/".concat(e,"/threads"),t)},createCategory:function(e){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/categories",e)},createMap:function(e){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/admin/maps",e)},createContact:function(e,t){return z.a.post("http://localhost:8080/NUStartApplication-war/webresources/users/".concat(e,"/contacts"),t)},deletePost:function(e,t,s){return z.a.delete("http://localhost:8080/NUStartApplication-war/webresources/forums/".concat(e,"/threads/").concat(t,"/posts/").concat(s))},deleteGuide:function(e,t){return z.a.delete("http://localhost:8080/NUStartApplication-war/webresources/categories/".concat(e,"/guides/").concat(t))},deleteThread:function(e,t){return z.a.delete("http://localhost:8080/NUStartApplication-war/webresources/forums/".concat(e,"/threads/").concat(t))},deleteCategory:function(e){return z.a.delete("http://localhost:8080/NUStartApplication-war/webresources/categories/".concat(e))},deleteComment:function(e,t){return z.a.delete("http://localhost:8080/NUStartApplication-war/webresources/guides/".concat(e,"/comments/").concat(t))},deleteContact:function(e,t){return z.a.delete("http://localhost:8080/NUStartApplication-war/webresources/users/".concat(e,"/contact/").concat(t))},deleteMap:function(e){return z.a.delete("http://localhost:8080/NUStartApplication-war/webresources/admin/maps/".concat(e))}},R=G;function q(){var e=Object(n.g)(),t=Object(a.useState)(null),s=Object(f.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)(""),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(""),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(a.useState)(null),p=Object(f.a)(h,2),g=(p[0],p[1]);return Object(a.useEffect)((function(){R.getUser().then((function(e){return r(e.data)})).catch((function(e){return g(e)}))}),[]),c&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{disableButton:!0,disableSearch:!0,user:c}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:c})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsx)("div",{className:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9",children:Object(u.jsx)("form",{onSubmit:function(t){t.preventDefault(),R.createForum({title:o,description:x,creator:c}).then((function(){return e.goBack()})).catch((function(e){return g(e)})),alert("Successfully created forum.")},children:Object(u.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[Object(u.jsxs)("div",{className:"bg-white py-6 px-4 space-y-6 sm:p-6",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"New Forum"})}),Object(u.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)(B,{type:"text",name:"title",id:"title",label:"Title",autoComplete:"title",autoFocus:!0,required:!0,value:o,onChange:function(e){return d(e.target.value)}})}),Object(u.jsx)("div",{className:"col-span-3",children:Object(u.jsx)(M,{name:"description",id:"description",label:"Description",required:!0,value:x,maxLength:1e3,onChange:function(e){return b(e.target.value)}})})]})]}),Object(u.jsxs)("div",{className:"px-4 py-3 bg-gray-50 flex justify-end sm:px-6",children:[Object(u.jsx)("button",{type:"button",className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",onClick:function(){return e.goBack()},children:"Cancel"}),Object(u.jsx)("button",{type:"submit",className:"ml-5 bg-rose-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Create"})]})]})})})})]})})]})}var Y=s(44),H=s.n(Y),V=s(45),W=s(26);s(67);function J(){var e=Object(n.g)(),t=Object(n.h)().id,s=Object(a.useState)(null),c=Object(f.a)(s,2),r=c[0],i=c[1],l=Object(a.useState)(""),o=Object(f.a)(l,2),d=o[0],m=o[1],j=Object(a.useState)(null),x=Object(f.a)(j,2),b=(x[0],x[1]),h=Object(a.useState)((function(){return W.EditorState.createEmpty()})),p=Object(f.a)(h,2),g=p[0],O=p[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return i(e.data)})).catch((function(e){return b(e)}))}),[]),r&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{disableButton:!0,disableSearch:!0,user:r}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:r})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsx)("div",{className:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9",children:Object(u.jsx)("form",{onSubmit:function(s){s.preventDefault(),R.createThread(t,{title:d,creator:r,posts:[{content:H()(Object(W.convertToRaw)(g.getCurrentContent())),creator:r}]}).then((function(){return e.goBack()})).catch((function(e){return b(e)})),alert("Successfully created thread.")},children:Object(u.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[Object(u.jsxs)("div",{className:"bg-white py-6 px-4 space-y-6 sm:p-6",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"New Thread"}),Object(u.jsx)("p",{className:"mt-1 text-sm text-gray-500"})]}),Object(u.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)(B,{type:"text",name:"title",id:"title",label:"Title",autoComplete:"title",autoFocus:!0,required:!0,value:d,onChange:function(e){return m(e.target.value)}})}),Object(u.jsx)("div",{className:"col-span-3",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700",children:"Post"}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("div",{className:"shadow block w-full sm:text-sm rounded-md",style:{padding:"10px",minHeight:"400px"},children:Object(u.jsx)(V.Editor,{editorState:g,onEditorStateChange:O})})})]})})]})]}),Object(u.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:[Object(u.jsx)("button",{type:"button",className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",onClick:function(){return e.goBack()},children:"Cancel"}),Object(u.jsx)("button",{type:"submit",className:"ml-5 bg-rose-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Create"})]})]})})})})]})})]})}function K(){var e=Object(n.g)(),t=Object(n.h)(),s=t.forumId,c=t.threadId,r=Object(a.useState)(null),i=Object(f.a)(r,2),l=i[0],o=i[1],d=Object(a.useState)(null),m=Object(f.a)(d,2),j=(m[0],m[1]),x=Object(a.useState)((function(){return W.EditorState.createEmpty()})),b=Object(f.a)(x,2),h=b[0],p=b[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return o(e.data)})).catch((function(e){return j(e)}))}),[]),l&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{disableButton:!0,disableSearch:!0,user:l}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:l})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsx)("div",{className:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9",children:Object(u.jsx)("form",{onSubmit:function(t){t.preventDefault(),console.log(h.getCurrentContent()),R.createPost(s,c,{content:H()(Object(W.convertToRaw)(h.getCurrentContent())),creator:l}).then((function(){return e.goBack()})).catch((function(e){return j(e)})),alert("Successfully added post.")},children:Object(u.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[Object(u.jsxs)("div",{className:"bg-white py-6 px-4 space-y-6 sm:p-6",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"New Post"})}),Object(u.jsx)("div",{className:"grid grid-cols-3 gap-6",children:Object(u.jsx)("div",{className:"col-span-3",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700",children:"Post"}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("div",{className:"shadow block w-full sm:text-sm rounded-md",style:{padding:"10px",minHeight:"400px"},children:Object(u.jsx)(V.Editor,{editorState:h,onEditorStateChange:p})})})]})})})]}),Object(u.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:[Object(u.jsx)("button",{type:"button",className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",onClick:function(){return e.goBack()},children:"Cancel"}),Object(u.jsx)("button",{type:"submit",className:"ml-5 bg-rose-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Create"})]})]})})})})]})})]})}var Z=s(7),Q=s.n(Z),$=s(16),_=s(19),X=s.n(_);function ee(e){var t=e.guide,s=Object(a.useState)(null),c=Object(f.a)(s,2),r=c[0],n=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getGuideCategory(t.id).then((function(e){return n(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.id]),r&&Object(u.jsxs)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:[Object(u.jsxs)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(u.jsxs)("div",{className:"truncate",children:[Object(u.jsxs)("div",{className:"flex text-sm items-center",children:[Object(u.jsx)("a",{href:"/categories/".concat(r.id,"/guides"),className:"block hover:bg-gray-50",children:Object(u.jsx)("p",{className:"text-xl font-medium text-rose-600 truncate",children:r.name})}),Object(u.jsx)(y.g,{className:"ml-2 flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsx)("a",{href:"/categories/".concat(r.id,"/guides/").concat(t.id),className:"block hover:bg-gray-50",children:Object(u.jsx)("p",{className:"text-xl font-small text-rose-500 truncate",children:t.title})}),Object(u.jsx)(v.g,{className:"ml-2 flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsxs)("p",{className:" flex-shrink-0 font-normal text-gray-500",children:[t.comments.length," comments "]})]}),Object(u.jsx)("div",{className:"mt-2 flex",children:Object(u.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[Object(u.jsx)(v.f,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsxs)("p",{children:["Created ",X()(t.dateCreated.slice(0,-5)).format("DD/MM/YY")]})]})})]}),Object(u.jsx)("div",{className:"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5",children:Object(u.jsx)("div",{className:"flex overflow-hidden -space-x-1"})})]}),Object(u.jsx)("div",{className:"ml-5 flex-shrink-0",children:Object(u.jsx)("a",{href:"/categories/".concat(r.id,"/guides/").concat(t.id),className:"block hover:bg-gray-50",children:Object(u.jsx)(y.g,{className:"h-7 w-7 text-gray-400","aria-hidden":"true"})})})]})}function te(e){var t=e.guides,s=void 0===t?[]:t;return Object(u.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:Object(u.jsx)("ul",{role:"list",className:"divide-y divide-gray-200",children:s.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(ee,{guide:e})},e.id)}))})})}var se=function(e){e.editMode;var t=e.value,s=void 0===t?"":t,c=e.id,r=void 0===c?0:c,n=e.onDone,i=Object(a.useRef)(),l=Object(a.useState)(s),o=Object(f.a)(l,2),d=o[0],m=o[1];function j(){m(s)}return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"mt-5 sm:flex sm:items-center",children:[Object(u.jsxs)("div",{className:"w-full sm:max-w-xs",children:[Object(u.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Contact"}),Object(u.jsx)("input",{ref:i,value:d,onChange:function(e){m(e.target.value)},type:"email",name:"contact",id:"contact",className:"shadow-sm focus:ring-rose-500 focus:border-rose-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"@telegramhandle"})]}),Object(u.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){n({id:r,value:d}),j()},children:"Add"})]})})};var ae=function(e){return Object(u.jsx)("div",{className:"px-4 py-5 sm:p-6",children:Object(u.jsxs)("div",{className:"sm:flex sm:items-start sm:justify-between",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:e.value})}),Object(u.jsx)("div",{className:"mt-5 sm:mt-0 sm:ml-6 sm:flex-shrink-0 sm:flex sm:items-center",children:Object(u.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 font-medium rounded-md text-rose-600 hover:text-rose-900",onClick:function(t){return e.onDelete(e.id)},children:"Delete"})})]})})};var ce=function(e){var t=e.contacts.map((function(t){return Object(u.jsx)(ae,{id:t.id,value:t.value,onEdit:function(t){return e.onEdit(t,!0)},onDelete:e.onDelete},t.id)}));return Object(u.jsx)("div",{className:"flex flex-col",children:Object(u.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(u.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(u.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(u.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(u.jsx)("thead",{className:"bg-gray-50",children:Object(u.jsx)("tr",{children:Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacts"})})}),Object(u.jsx)("tbody",{children:t})]})})})})})};function re(e){var t=e.editMode,s=void 0!==t&&t,c=e.user,r=Object(a.useState)({contacts:[],currentId:0}),n=Object(f.a)(r,2),i=n[0],l=n[1];function o(){return(o=Object($.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.deleteContact(c.id,t).then((function(e){return l({currentId:e.data.length+1,contacts:e.data})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object($.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.createContact(c.id,t).then((function(e){return l({currentId:e.data.length+1,contacts:e.data})})).then((function(){return console.log(i)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){var t=i.currentId,s=i.contacts;if(0===e.id){if(""===e.value.trim())return;e.id=t+1,l({currentId:e.id,contacts:[].concat(Object(p.a)(s),[e])}),function(e){d.apply(this,arguments)}(e)}else{if(""===e.value.trim())return;var a=s.map((function(t){return t.id===e.id?(e.editMode=!1,e):t}));l((function(e){return{currentId:e.currentId,contacts:a}}))}}Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getContactSize();case 2:t=e.sent,l({contacts:c.contacts,currentId:t.data+1}),console.log(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c.id]);var j=i.contacts;return Object(u.jsxs)("div",{className:"p-5 rounded-md shadow-sm -space-y-px",children:[Object(u.jsx)("div",{className:"bg-white sm:rounded-lg",children:Object(u.jsxs)("div",{className:"px-4 py-5 sm:p-3",children:[Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Contacts"}),Object(u.jsx)("span",{className:"text-sm text-gray-500",id:"email-optional",children:"Help others find you! This will be visible to other users."}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"note-container",children:[s?Object(u.jsx)(se,{onDone:m}):null,Object(u.jsx)("br",{}),Object(u.jsx)(ce,{contacts:j,onDelete:function(e){var t=i.contacts.filter((function(t){return t.id!==e}));l((function(e){return{currentId:e.currentId,contacts:t}})),function(e){o.apply(this,arguments)}(e)},onDone:m})]})]})}),Object(u.jsx)("br",{})]})}var ne=s(50);function ie(e){var t=e.accept,s=e.required,a=void 0!==s&&s,c=e.handleFileInput;return Object(u.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:Object(u.jsxs)("div",{className:"space-y-1 text-center",children:[Object(u.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:Object(u.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),Object(u.jsxs)("div",{className:"flex text-sm text-gray-600",children:[Object(u.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-rose-600 hover:text-rose-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-rose-500",children:[Object(u.jsx)("span",{children:"Upload a file"}),Object(u.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",accept:t,className:"sr-only",onChange:c,required:a})]}),Object(u.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),Object(u.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})}function le(e){var t=e.accept,s=e.handleProfileInput;return Object(u.jsx)("div",{className:"mt-1 flex justify-center px-6 pb-6",children:Object(u.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("span",{className:"h-12 w-12 rounded-full overflow-hidden bg-gray-100",children:Object(u.jsx)("svg",{className:"h-full w-full text-gray-300",fill:"currentColor",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})}),Object(u.jsxs)("label",{htmlFor:"profile-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-rose-600 hover:text-rose-500",children:[Object(u.jsx)("span",{className:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-rose-600 hover:bg-gray-50 ",children:"Change"}),Object(u.jsx)("input",{id:"profile-upload",name:"profile-upload",type:"file",accept:t,className:"sr-only",onChange:s})]})]})})})}var oe=[{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"},{id:6,name:"Part-time"},{id:7,name:"Graduate"},{id:8,name:"PhD"}],de=[{id:1,name:"Arts & Social Sciences"},{id:2,name:"Business"},{id:3,name:"Computing"},{id:4,name:"Continuing and Lifelong Education"},{id:5,name:"Dentistry"},{id:6,name:"Design & Environment"},{id:7,name:"Duke-NUS"},{id:8,name:"Engineering"},{id:9,name:"Integrative Sciences & Engineering"},{id:10,name:"Law"},{id:11,name:"Medicine"},{id:12,name:"Music"},{id:13,name:"Public Health"},{id:14,name:"Public Policy"},{id:15,name:"Science"},{id:16,name:"University Scholars Program"},{id:17,name:"Yale-NUS"}];function me(e){var t=e.editMode,s=void 0!==t&&t,c=e.uid,r=Object(a.useState)(null),i=Object(f.a)(r,2),l=i[0],o=i[1],d=Object(a.useState)(""),m=Object(f.a)(d,2),j=m[0],x=m[1],b=Object(a.useState)(""),h=Object(f.a)(b,2),p=h[0],g=h[1],O=Object(a.useState)(""),N=Object(f.a)(O,2),S=N[0],k=N[1],T=Object(a.useState)(oe[0]),F=Object(f.a)(T,2),E=F[0],A=F[1],I=Object(a.useState)(de[0]),U=Object(f.a)(I,2),P=U[0],D=U[1],M=Object(a.useState)(""),L=Object(f.a)(M,2),z=L[0],G=(L[1],Object(a.useState)("")),q=Object(f.a)(G,2),Y=q[0],H=q[1],V=Object(a.useState)(""),W=Object(f.a)(V,2),J=W[0],K=W[1],Z=Object(a.useState)(null),_=Object(f.a)(Z,2),ee=_[0],te=_[1],se=Object(a.useState)(null),ae=Object(f.a)(se,2),ce=ae[0],re=ae[1],me=Object(a.useState)(null),ue=Object(f.a)(me,2),je=(ue[0],ue[1]),xe=Object(n.g)(),be={bucketName:"nustart",region:"ap-southeast-1",accessKeyId:"AKIARTYBCSQYJNUGQWLJ",secretAccessKey:"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"};function he(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){var t,s,a,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getUser(c);case 2:t=e.sent,g(t.data.email),x(t.data.username),H(t.data.profilePicture),K(t.data.coverImage),"STUDENT"===t.data.accountType||"default"!==t.data.course&&"default"!==t.data.yr?(k(t.data.course),s=oe.filter((function(e){return e.name===t.data.yr.toString()}))[0],A(s),a=de.filter((function(e){return e.name===t.data.faculty}))[0],D(a)):"STAFF"===t.data.accountType&&(r=de.filter((function(e){return e.name===t.data.faculty}))[0],D(r)),o(t.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]);var fe=function(){var e=Object($.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(ne.uploadFile)(t,be).then((function(e){ge([e.location])})).catch((function(e){return je(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object($.a)(Q.a.mark((function e(t){var s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[],Object(ne.uploadFile)(t[0],be).then((function(e){return s.push(e.location)})).then((function(){return Object(ne.uploadFile)(t[1],be).then((function(e){return s.push(e.location)})).then((function(){return ge(s)}))})).catch((function(e){return je(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"STAFF"===l.accountType?l.faculty=P.name:"STUDENT"===l.accountType&&(l.course=S,l.yr=E.name,l.faculty=P.name),l.email=p,l.username=j,l.profilePicture=null!==ee?e[0]:Y,l.coverImage=null!==ee&&null!==ce?e[1]:null===ee&&null!==ce?e[0]:J,R.editUser(l.id,l).then((function(e){return o(e.data)})).then((function(){return window.location.reload()}))}function Oe(){return Object(u.jsxs)("div",{className:"h-full flex",children:[Object(u.jsx)("div",{className:"hidden lg:flex lg:flex-shrink-0"}),Object(u.jsx)("div",{className:"flex flex-col min-w-0 flex-1 overflow-hidden",children:Object(u.jsx)("div",{className:"flex-1 relative z-0 flex overflow-hidden",children:Object(u.jsx)("main",{className:"flex-1 relative z-0 overflow-y-auto focus:outline-none xl:order-last",children:Object(u.jsx)("article",{children:Object(u.jsxs)("div",{className:"mt-6 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[Object(u.jsxs)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2",children:[Object(u.jsxs)("div",{className:"sm:col-span-1",children:[Object(u.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),Object(u.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:l.email})]},"email"),Object(u.jsxs)("div",{className:"sm:col-span-2",children:[Object(u.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Joined"}),Object(u.jsx)("dd",{className:"mt-1 max-w-prose text-sm text-gray-900 space-y-5",children:X()(l.created.slice(0,-5)).format("DD/MM/YY")})]}),Object(u.jsxs)("div",{className:"sm:col-span-2",children:[Object(u.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),Object(u.jsx)("dd",{className:"mt-1 max-w-prose text-sm text-gray-900 space-y-5",children:l.username})]}),"STUDENT"===l.accountType&&"default"==l.course&&"0"==l.yr?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"sm:col-span-2",children:[Object(u.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Course"}),Object(u.jsx)("dd",{className:"mt-1 max-w-prose text-sm text-gray-900 space-y-5",children:l.course})]}),Object(u.jsxs)("div",{className:"sm:col-span-2",children:[Object(u.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Year"}),Object(u.jsx)("dd",{className:"mt-1 max-w-prose text-sm text-gray-900 space-y-5",children:l.yr})]})]}):null]}),Object(u.jsx)("div",{className:"mt-8 max-w-5xl mx-auto px-1 pb-12 sm:px-1 lg:px-1"})]})})})})})]})}return l&&Object(u.jsx)("div",{children:s?Object(u.jsx)("div",{className:"pt-3 space-y-6 sm:pt-5 sm:space-y-5",children:Object(u.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),null===ee&&null===ce)ge();else if(null!==ee&&null!==ce){console.log("multiple"),pe([ee,ce])}else{console.log("single"),fe(null===ce?ee:ce)}},children:Object(u.jsxs)("div",{className:"p-5 space-y-3 sm:space-y-5",children:[z&&Object(u.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:Object(u.jsx)(v.h,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),Object(u.jsxs)("div",{className:"ml-3",children:[Object(u.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Your profile was updated successfully"}),Object(u.jsx)("div",{className:"mt-2 text-sm text-green-700",children:z.message})]})]})}),Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start",children:[Object(u.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Name"}),Object(u.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2 max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md",children:Object(u.jsx)(B,{type:"text",name:"username",id:"username",autoComplete:"given-name",required:!0,value:j,onChange:function(e){return x(e.target.value)}})})]}),Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(u.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Email"}),Object(u.jsx)("div",{className:"col-span-2 shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md",children:Object(u.jsx)(B,{type:"email",name:"email",id:"email",autoComplete:"email",required:!0,value:p,onChange:function(e){return g(e.target.value)}})})]}),Object(u.jsxs)("div",{className:"col-span-3",children:[Object(u.jsx)("label",{className:"block pb-4 sm:border-t sm:border-gray-200 sm:pt-5 text-sm font-medium text-gray-700",children:"Profile picture"}),ee?Object(u.jsxs)("div",{className:"relative inline-flex items-center rounded-full border border-gray-300 px-3 py-0.5 ",children:[ee.name,Object(u.jsx)("button",{className:"text-gray-700",onClick:function(){return te(null)},children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-1 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):Object(u.jsx)("div",{children:Object(u.jsx)(le,{handleProfileInput:function(e){te(e.target.files[0])},accept:".jpg, .png, .gif"})})]}),Object(u.jsxs)("div",{className:"col-span-3",children:[Object(u.jsx)("label",{className:"block pb-4 sm:border-t sm:border-gray-200 sm:pt-5 text-sm font-medium text-gray-700",children:"Cover Image"}),ce?Object(u.jsxs)("div",{className:"relative inline-flex items-center rounded-full border border-gray-300 px-3 py-0.5 ",children:[ce.name,Object(u.jsx)("button",{className:"text-gray-700",onClick:function(){return re(null)},children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-1 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):Object(u.jsx)("div",{children:Object(u.jsx)(ie,{handleFileInput:function(e){re(e.target.files[0])},accept:".jpg, .png, .gif"})})]}),"STUDENT"===l.accountType?Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(u.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Year"}),Object(u.jsx)(C.a,{value:E,onChange:A,children:Object(u.jsxs)("div",{className:"mt-1 relative",children:[Object(u.jsxs)(C.a.Button,{className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:E.name}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 max-w-lg block w-full bg-white shadow-sm max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:max-w-xs sm:text-sm",children:oe.map((function(e){return Object(u.jsx)(C.a.Option,{className:function(e){return he(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-8 pr-4")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:he(s?"font-semibold":"font-normal","block truncate"),children:e.name}),s?Object(u.jsx)("span",{className:he(a?"text-white":"text-rose-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)}))})})]})})]}):null,"ADMIN"!==l.accountType?Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(u.jsx)("label",{htmlFor:"street-address",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Faculty"}),Object(u.jsx)(C.a,{value:P,onChange:D,children:Object(u.jsxs)("div",{className:"mt-3 relative",children:[Object(u.jsxs)(C.a.Button,{className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:P.name}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:de.map((function(e){return Object(u.jsx)(C.a.Option,{className:function(e){return he(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-8 pr-4")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:he(s?"font-semibold":"font-normal","block truncate"),children:e.name}),s?Object(u.jsx)("span",{className:he(a?"text-white":"text-rose-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)}))})})]})})]}):null,"STUDENT"===l.accountType?Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(u.jsx)("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Course"}),Object(u.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(u.jsx)("input",{type:"text",name:"course",id:"course",autoComplete:"course",value:S,onChange:function(e){return k(e.target.value)},className:"max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md"})})]}):null,Object(u.jsx)("div",{className:"pt-5",children:Object(u.jsxs)("div",{className:"flex justify-end",children:[Object(u.jsx)("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){return xe.goBack()},children:"Cancel"}),Object(u.jsx)("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Save"})]})})]})})}):Object(u.jsx)(Oe,{})})}function ue(e){var t=e.thread,s=Object(a.useState)(null),c=Object(f.a)(s,2),r=c[0],n=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getThreadForum(t.id).then((function(e){return n(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.id]),r&&Object(u.jsxs)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:[Object(u.jsxs)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(u.jsxs)("div",{className:"truncate",children:[Object(u.jsxs)("div",{className:"flex text-sm sm:items-center",children:[Object(u.jsx)("a",{href:"/".concat(r.id,"/threads"),className:"block hover:bg-gray-50",children:Object(u.jsx)("p",{className:"mr-3 text-xl font-medium hover:text-rose-600 text-gray-500 truncate",children:r.title})}),Object(u.jsxs)("p",{children:[" ",Object(u.jsx)(y.g,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"})," "]}),Object(u.jsx)("p",{className:"text-xl font-medium text-rose-500 truncate",children:t.title})]}),Object(u.jsxs)("div",{className:"mt-2 flex",children:[Object(u.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[Object(u.jsx)(v.f,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsxs)("p",{children:["Created ",X()(t.created.slice(0,-5)).format("DD/MM/YY")]})]}),Object(u.jsxs)("div",{className:"ml-5 flex items-center text-sm text-gray-500",children:[Object(u.jsx)(v.b,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsxs)("p",{children:[t.posts.length," posts"]})]})]})]}),Object(u.jsx)("div",{className:"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5",children:Object(u.jsx)("div",{className:"flex overflow-hidden -space-x-1"})})]}),Object(u.jsx)("div",{children:Object(u.jsx)(g.b,{to:"/".concat(r.id,"/threads/").concat(t.id,"/posts"),className:"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50",children:"View"})})]})}function je(e){var t=e.threads,s=void 0===t?[]:t;return Object(u.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:Object(u.jsx)("ul",{role:"list",className:"divide-y divide-gray-200",children:s.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(ue,{thread:e})},e.id)}))})})}function xe(e){var t=e.p,s=Object(a.useState)(null),c=Object(f.a)(s,2),r=c[0],n=c[1],i=Object(a.useState)(null),l=Object(f.a)(i,2),o=l[0],d=l[1];function m(e){return j.apply(this,arguments)}function j(){return(j=Object($.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getThreadForum(t).then((function(e){return d(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getPostThread(t.id).then((function(e){n(e.data),m(e.data.id)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.id]),o&&Object(u.jsxs)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:[Object(u.jsxs)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(u.jsxs)("div",{className:"truncate",children:[Object(u.jsxs)("div",{className:"flex text-sm sm:items-center",children:[Object(u.jsx)("a",{href:"/".concat(o.id,"/threads"),className:"block hover:bg-gray-50",children:Object(u.jsx)("p",{className:"mr-3 text-xl font-medium hover:text-rose-600 text-gray-500 truncate",children:o.title})}),Object(u.jsxs)("p",{children:[" ",Object(u.jsx)(v.i,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"})," "]}),Object(u.jsx)("a",{href:"/".concat(o.id,"/threads/").concat(r.id,"/posts"),className:"block hover:bg-gray-50",children:Object(u.jsx)("p",{className:"mr-3 text-xl font-medium text-rose-500 truncate",children:r.title})})]}),Object(u.jsx)("div",{className:"mt-2 flex",children:Object(u.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[Object(u.jsx)(v.f,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsxs)("p",{children:["Posted ",X()(r.created.slice(0,-5)).format("DD/MM/YY")]})]})}),Object(u.jsx)("div",{className:"mt-2 flex",children:Object(u.jsx)("div",{className:"flex items-center text-sm text-gray-500",children:Object(u.jsx)("div",{className:"text-xl font-medium text-rose-500 truncate",dangerouslySetInnerHTML:{__html:postMessage.content}})})})]}),Object(u.jsx)("div",{className:"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5",children:Object(u.jsx)("div",{className:"flex overflow-hidden -space-x-1"})})]}),Object(u.jsx)("div",{children:Object(u.jsx)(g.b,{to:"/".concat(o.id,"/threads/").concat(r.id,"/posts"),className:"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50",children:"View"})})]})}function be(e){var t=e.posts;return Object(u.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:Object(u.jsx)("ul",{role:"list",className:"divide-y divide-gray-200",children:t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(xe,{p:e})},e.creator.email)}))})})}function he(e){var t=e.user,s=Object(a.useState)(""),c=Object(f.a)(s,2),r=c[0],n=c[1],i=Object(a.useState)(""),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(""),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(a.useState)(""),p=Object(f.a)(h,2),g=p[0],O=p[1],v=Object(a.useState)(""),N=Object(f.a)(v,2),w=N[0],S=N[1],k=Object(a.useState)(""),C=Object(f.a)(k,2),T=C[0],F=C[1];Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getUser(t.id).then((function(e){return n(e.data.password)})).then((function(){return console.log(r)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.id]);function E(){return(E=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.password=x,e.next=3,R.editUser(t.id,t).then((function(e){return console.log(e.data)})).then((function(){return S("Your password has been updated.")})).then((function(){return console.log(w)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t&&Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"pt-3 space-y-6 sm:pt-5 sm:space-y-5",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),r===o?x.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")?x===g?function(){E.apply(this,arguments)}():alert("Passwords do not match!"):F("Passwords must be minimum eight characters long and contain at least one uppercase letter, one lowercase letter, one number and one special character."):alert("Wrong current password!")},children:Object(u.jsxs)("div",{className:"p-5 space-y-3 sm:space-y-5",children:[w&&Object(u.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:Object(u.jsx)(y.e,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),Object(u.jsxs)("div",{className:"ml-3",children:[Object(u.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),Object(u.jsx)("div",{className:"mt-2 text-sm text-green-700",children:w})]})]})}),T&&Object(u.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:Object(u.jsx)(y.s,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),Object(u.jsxs)("div",{className:"ml-3",children:[Object(u.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),Object(u.jsx)("div",{className:"mt-2 text-sm text-red-700",children:T})]})]})}),Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start",children:[Object(u.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Current Password"}),Object(u.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2 max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md",children:Object(u.jsx)(B,{type:"password",name:"password",id:"password",required:!0,value:o,onChange:function(e){return d(e.target.value)}})})]}),Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5",children:[Object(u.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"New Password"}),Object(u.jsx)("div",{className:"col-span-2 shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md",children:Object(u.jsx)(B,{type:"password",name:"newPassword",id:"newPassword",required:!0,value:x,onChange:function(e){return b(e.target.value)}})})]}),Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:pt-5",children:[Object(u.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Confirm Password"}),Object(u.jsx)("div",{className:"col-span-2 shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm rounded-md",children:Object(u.jsx)(B,{type:"password",name:"confirmPassword",id:"confirmPassword",required:!0,value:g,onChange:function(e){return O(e.target.value)}})})]}),Object(u.jsx)("div",{className:"pt-5",children:Object(u.jsxs)("div",{className:"flex justify-end",children:[Object(u.jsx)("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){return window.location.reload()},children:"Cancel"}),Object(u.jsx)("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Save"})]})})]})})})})}var fe=[{name:"Profile",href:"#",current:!0},{name:"Password",href:"#",current:!1},{name:"Contacts",href:"#",current:!1},{name:"Guides",href:"#",current:!1},{name:"Threads",href:"#",current:!1},{name:"Posts",href:"#",current:!1}];function pe(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function ge(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)(null),i=Object(f.a)(r,2),l=i[0],o=i[1],d=Object(a.useState)(fe[0]),m=Object(f.a)(d,2),j=(m[0],m[1]),x=Object(a.useState)(""),b=Object(f.a)(x,2),h=b[0],p=b[1],g=Object(a.useState)([]),O=Object(f.a)(g,2),N=O[0],w=O[1],S=Object(a.useState)([]),k=Object(f.a)(S,2),C=k[0],T=k[1],F=Object(a.useState)([]),E=Object(f.a)(F,2),I=E[0],P=E[1],B=Object(a.useState)(!1),D=Object(f.a)(B,2),M=D[0],L=D[1],z=Object(n.h)().uid;function G(e){fe.filter((function(e){return!0===e.current})).map((function(e){return e.current=!1}));var t=fe.filter((function(t){return t.name===e})).map((function(e){return e.current=!0}));j(t)}function q(){var e=fe.filter((function(e){return!0===e.current}));return"Profile"===e[0].name?Object(u.jsx)(me,{editMode:M,uid:z}):"Contacts"===e[0].name?Object(u.jsx)(re,{editMode:M,user:s}):"Guides"===e[0].name?Object(u.jsx)(te,{guides:N}):"Posts"===e[0].name?Object(u.jsx)(be,{posts:I}):"Threads"===e[0].name?Object(u.jsx)(je,{threads:C}):Object(u.jsx)(he,{user:s})}function Y(){return"STAFF"===l.accountType?Object(u.jsxs)("div",{className:"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:mt-0 sm:space-x-6",children:[Object(u.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[Object(u.jsx)(v.e,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Staff"]}),Object(u.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[Object(u.jsx)(v.m,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),l.faculty]})]}):"ADMIN"===l.accountType?Object(u.jsx)("div",{className:"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:mt-0 sm:space-x-6",children:Object(u.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[Object(u.jsx)(y.q,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Administrator"]})}):Object(u.jsxs)("div",{className:"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:mt-0 sm:space-x-6",children:[Object(u.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[Object(u.jsx)(v.a,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Student"]}),Object(u.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[Object(u.jsx)(v.m,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),l.faculty]})]})}function H(){if(M){if("STUDENT"===s.accountType){var e=fe.filter((function(e){return"Guides"!==e.name}));return Object(u.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:e.map((function(e){return Object(u.jsx)("a",{href:e.href,className:pe(e.current?"border-pink-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),"aria-current":e.current?"page":void 0,onClick:function(){G(e.name)},children:e.name},e.name)}))})}return Object(u.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:fe.map((function(e){return Object(u.jsx)("a",{href:e.href,className:pe(e.current?"border-pink-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),"aria-current":e.current?"page":void 0,onClick:function(){G(e.name)},children:e.name},e.name)}))})}var t=[],a=fe.filter((function(e){return"Password"!==e.name}));return t="STUDENT"===l.accountType?a.filter((function(e){return"Guides"!==e.name})):a,Object(u.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:t.map((function(e){return Object(u.jsx)("a",{href:e.href,className:pe(e.current?"border-pink-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),"aria-current":e.current?"page":void 0,onClick:function(){G(e.name)},children:e.name},e.name)}))})}function V(){return s&&Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-9 bg-white rounded-md",children:Object(u.jsxs)("article",{children:[Object(u.jsxs)("div",{children:["default"!==s.coverImage?Object(u.jsx)("div",{className:"h-18 w-full object-cover lg:h-28 xl:h-40 rounded-md",children:Object(u.jsx)("img",{className:"h-32 w-full object-cover lg:h-48 xl:h-56 rounded-md",src:s.coverImage,alt:""})}):Object(u.jsx)("div",{className:"h-10 w-full object-cover lg:h-28 xl:h-20 rounded-md"}),Object(u.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[Object(u.jsx)("div",{className:"-mt-12 sm:-mt-16 sm:flex sm:items-end sm:space-x-5",children:Object(u.jsx)("div",{className:"flex",children:"default"===h?Object(u.jsx)("div",{class:"max-w-md mx-auto my-3",children:Object(u.jsx)("div",{class:"flex justify-center items-center content-center bg-gradient-to-br from-pink-300 to-pink-600 shadow-md h-24 w-24 rounded-full fill-current text-white",children:Object(u.jsx)("h2",{style:{fontSize:24},children:s.username.substring(0,1)})})}):Object(u.jsx)("img",{className:"h-24 w-24 rounded-full sm:h-32 sm:w-32",src:h,alt:s.username.substring(0,1)})})}),Object(u.jsxs)("div",{className:"flex-1 min-w-0",children:[Object(u.jsx)("h2",{className:"p-2 text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:s.username}),Object(u.jsx)(Y,{})]})]})]}),Object(u.jsx)("div",{className:"mt-6 sm:mt-2 2xl:mt-5",children:Object(u.jsx)("div",{className:"border-b border-gray-200",children:Object(u.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(u.jsx)(H,{})})})}),Object(u.jsx)(q,{})]})})}function W(){return l&&Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-9 bg-white rounded-md",children:Object(u.jsxs)("article",{children:[Object(u.jsxs)("div",{children:["default"!==l.coverImage?Object(u.jsx)("div",{className:"h-18 w-full object-cover lg:h-28 xl:h-40 rounded-md",children:Object(u.jsx)("img",{className:"h-32 w-full object-cover lg:h-48 xl:h-56 rounded-md",src:l.coverImage,alt:""})}):Object(u.jsx)("div",{className:"h-10 w-full object-cover lg:h-28 xl:h-20 rounded-md"}),Object(u.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(u.jsxs)("div",{className:"-mt-12 sm:-mt-16 sm:flex sm:items-end sm:space-x-5",children:[Object(u.jsx)("div",{className:"flex",children:"default"===l.profilePicture?Object(u.jsx)("div",{class:"max-w-md mx-auto my-3",children:Object(u.jsx)("div",{class:"flex justify-center items-center content-center bg-gradient-to-br from-pink-300 to-pink-600 shadow-md hover:shadow-lg h-24 w-24 rounded-full fill-current text-white",children:Object(u.jsx)("h2",{style:{fontSize:24},children:l.username.substring(0,1)})})}):Object(u.jsx)("img",{className:"h-24 w-24 rounded-full sm:h-32 sm:w-32",src:l.profilePicture,alt:l.username.substring(0,1)})}),Object(u.jsxs)("div",{className:"flex-1 min-w-0",children:[Object(u.jsx)("h2",{className:"p-2 text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:l.username}),Object(u.jsx)(Y,{}),Object(u.jsx)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:"ACTIVE"===l.accountStatus?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v.h,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-green-400","aria-hidden":"true"}),l.accountStatus]}):null})]})]})})]}),Object(u.jsx)("div",{className:"mt-6 sm:mt-2 2xl:mt-5",children:Object(u.jsx)("div",{className:"border-b border-gray-200",children:Object(u.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(u.jsx)(H,{})})})}),Object(u.jsx)(q,{})]})})}return Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getUser().then((function(e){c(e.data),p(e.data.profilePicture),L(e.data.id.toString()===z)})).then(Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=3;break}return e.next=3,R.getUser(z).then((function(e){return o(e.data)}));case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getUserGuide(z).then((function(e){w(e.data)})).then((function(){return console.log(N)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getUserThread(z).then((function(e){T(e.data)})).then((function(){return console.log(C)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getUserPost(z).then((function(e){return P(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),s&&l&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{disableButton:!0,disableSearch:!0,user:s}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:s})}),M?Object(u.jsx)(V,{}):Object(u.jsx)(W,{})]})})]})}function Oe(e){var t=e.content,s=e.path;return Object(u.jsx)(g.b,{to:s,children:Object(u.jsxs)("button",{className:"ml-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:["New ",t.charAt(0).toUpperCase()+t.slice(1)]})})}var ve=s(312),ye=["open","action","params"];function Ne(e){var t=e.open,s=e.action,c=void 0===s?"delete":s,r=e.params,n=void 0===r?[]:r,i=Object(l.a)(e,ye);return Object(u.jsx)(w.a.Root,{show:t,as:a.Fragment,children:Object(u.jsx)(ve.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:function(){return i.setOpen(!1)},children:Object(u.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(ve.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(u.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(u.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[Object(u.jsx)("div",{className:"hidden sm:block absolute top-0 right-0 pt-4 pr-4",children:Object(u.jsxs)("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){return i.setOpen(!1)},children:[Object(u.jsx)("span",{className:"sr-only",children:"Close"}),Object(u.jsx)(v.s,{className:"h-6 w-6","aria-hidden":"true"})]})}),Object(u.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(u.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:Object(u.jsx)(v.j,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),Object(u.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(u.jsx)(ve.a.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:c.charAt(0).toUpperCase()+c.slice(1)+" "+i.title}),Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to ",c," ",i.title,"?"]})})]})]}),Object(u.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[Object(u.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){i.onConfirm.apply(i,Object(p.a)(n)),i.setOpen(!1)},children:c.charAt(0).toUpperCase()+c.slice(1)}),Object(u.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:function(){return i.setOpen(!1)},children:"Cancel"})]})]})})]})})})}function we(e){var t=e.forum,s=e.setForums,c=e.open,r=e.setOpen,n=Object(a.useState)(t.title),i=Object(f.a)(n,2),l=i[0],o=i[1],d=Object(a.useState)(t.description),m=Object(f.a)(d,2),j=m[0],x=m[1],b=Object(a.useState)(null),h=Object(f.a)(b,2),p=(h[0],h[1]);return Object(u.jsx)(w.a.Root,{show:c,as:a.Fragment,children:Object(u.jsx)(ve.a,{as:"div",className:"fixed z-50 inset-0 overflow-y-auto",onClose:function(){o(t.title),x(t.description),r(!1)},children:Object(u.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(ve.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),""!==l&&""!==j&&(t.title=l,t.description=j,z.a.put("http://localhost:8080/NUStartApplication-war/webresources/forums/".concat(t.id),t).then((function(){z.a.get("http://localhost:8080/NUStartApplication-war/webresources/forums").then((function(e){return s(e.data)}))})).catch((function(e){return p(e)})),r(!1),alert("Successfully edited forum."))},children:Object(u.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[Object(u.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[Object(u.jsx)(ve.a.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Edit forum"}),Object(u.jsxs)("div",{className:"grid grid-cols-3 gap-6 text-left",children:[Object(u.jsx)("div",{className:"col-span-3",children:Object(u.jsx)(B,{type:"text",name:"title",id:"title",label:"Title",placeholder:"Enter a forum title",autoComplete:"title",required:!0,value:l,onChange:function(e){return o(e.target.value)}})}),Object(u.jsx)("div",{className:"col-span-3",children:Object(u.jsx)(M,{name:"desc",id:"desc",label:"Description",required:!0,helpText:"Enter a description for this forum.",value:j,onChange:function(e){return x(e.target.value)}})})]})]}),Object(u.jsx)("div",{className:"mt-5 sm:mt-6",children:Object(u.jsx)("button",{type:"submit",className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-rose-600 text-base font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 sm:text-sm",children:"Save"})})]})})})]})})})}function Se(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function ke(e){var t=e.forum,s=e.setForums,c=Object(a.useState)(!1),r=Object(f.a)(c,2),n=r[0],i=r[1],l=Object(a.useState)(!1),o=Object(f.a)(l,2),d=o[0],m=o[1];return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsxs)(N.a,{as:"div",className:"relative inline-block text-left z-10",children:[Object(u.jsx)("div",{children:Object(u.jsxs)(N.a.Button,{className:"-m-2 p-2 rounded-full flex items-center text-gray-400 hover:text-gray-600",children:[Object(u.jsx)("span",{className:"sr-only",children:"Open options"}),Object(u.jsx)(y.h,{className:"h-5 w-5","aria-hidden":"true"})]})}),Object(u.jsx)(w.a,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(u.jsx)(N.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(u.jsxs)("div",{className:"py-1",children:[Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsxs)("button",{className:Se(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex px-4 py-2 text-sm"),onClick:function(){return m(!0)},children:[Object(u.jsx)(y.l,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsx)("span",{children:"Edit forum"})]})}}),Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsxs)("button",{className:Se(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex px-4 py-2 text-sm"),onClick:function(){return i(!0)},children:[Object(u.jsx)(v.p,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsx)("span",{children:"Delete forum"})]})}})]})})})]}),Object(u.jsx)(Ne,{title:"forum",item:t,open:n,setOpen:i,onConfirm:function(){z.a.delete("http://localhost:8080/NUStartApplication-war/webresources/forums/".concat(t.id)).then((function(){return z.a.get("http://localhost:8080/NUStartApplication-war/webresources/forums").then((function(e){return s(e.data)}))}))}}),Object(u.jsx)(we,{forum:t,setForums:s,open:d,setOpen:m})]})}function Ce(e){var t=e.items,s=e.contentType,a=e.setForums,c=e.user,r=Object(n.i)().url;return Object(u.jsx)("div",{children:t&&t.length?Object(u.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:t.map((function(e){return Object(u.jsxs)("div",{className:"relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-rose-500",children:[Object(u.jsx)("div",{className:"flex-1 min-w-0",children:Object(u.jsxs)(g.b,{to:"".concat(r).concat("/"===r?"":"/").concat(e.id,"/threads"),className:"focus:outline-none",children:[Object(u.jsx)("span",{className:"absolute inset-0","aria-hidden":"true"}),Object(u.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),Object(u.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.description})]})}),c&&"ADMIN"===c.accountType&&Object(u.jsx)("div",{className:"flex-shrink-0 self-center flex",children:Object(u.jsx)(ke,{forum:e,setForums:a})})]},e.id)}))}):Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(u.jsx)("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),Object(u.jsxs)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:["No ",s]}),"ADMIN"===c.accountType&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new forum."}),Object(u.jsx)("div",{className:"mt-6",children:Object(u.jsx)(Oe,{content:"forum",path:"/create"})})]})]})})}function Te(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function Fe(e){var t=e.options,s=e.sortType,c=e.setSortType;return s&&Object(u.jsx)(C.a,{value:s,onChange:c,children:function(e){var c=e.open;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.a.Label,{className:"block text-sm font-medium text-gray-700",children:"Sort by"}),Object(u.jsxs)("div",{className:"relative",children:[Object(u.jsxs)(C.a.Button,{className:"mt-1 bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:s.name.charAt(0)+s.name.slice(1)}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{show:c,as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:t.length?t.map((function(e){return Object(u.jsx)(C.a.Option,{className:function(e){return Te(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:Te(s?"font-semibold":"font-normal","block truncate"),children:e.name}),s?Object(u.jsx)("span",{className:Te(a?"text-white":"text-rose-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)})):Object(u.jsx)(C.a.Option,{className:function(e){return Te(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:null,children:"No categories"},"No sort types")})})]})]})}})}var Ee=[{id:1,name:"Recent",sortType:"created",reverse:!1},{id:2,name:"Title",sortType:"title",reverse:!0}],Ae=[{id:1,name:"Title",searchType:"title"},{id:2,name:"Creator",searchType:"creator"}];function Ie(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)([]),n=Object(f.a)(r,2),i=n[0],l=n[1],o=Object(a.useState)(null),d=Object(f.a)(o,2),m=d[0],j=d[1],x=Object(a.useState)(Ee[0]),b=Object(f.a)(x,2),h=b[0],g=b[1],O=Object(a.useState)(""),v=Object(f.a)(O,2),y=v[0],N=v[1],w=Object(a.useState)(Ae[0]),S=Object(f.a)(w,2),k=S[0],C=S[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return c(e.data)})).catch((function(e){return j(e)}))}),[]),Object(a.useEffect)((function(){R.getForums().then((function(e){!function(t,s,a){var c={created:"created",title:"title"}[t],r={title:"title",creator:"creator"}[a],n=Object(p.a)(e.data).filter((function(e){if(""===s)return e;if("creator"===r){if(e[r].username.toLowerCase().includes(s.toLowerCase()))return e}else if(e[r].toLowerCase().includes(s.toLowerCase()))return e})),i=Object(p.a)(n).sort((function(e,t){return t[c].localeCompare(e[c])||t.created.localeCompare(e.created)}));l(i)}(h.sortType,y,k.searchType)})).catch((function(e){return j(e)}))}),[h.sortType,y,k.searchType]),m?"Error: ".concat(m.message):s&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"forum",disableButton:"ADMIN"!==s.accountType,component:Object(u.jsx)(Oe,{content:"forum",path:"/create"}),user:s,searchString:y,setSearchString:N,searchTypes:Ae,searchType:k,setSearchType:C}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:s})}),Object(u.jsxs)("main",{className:"lg:col-span-9 xl:col-span-10",children:[Object(u.jsx)(Fe,{options:Ee,sortType:h,setSortType:g}),Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("h1",{className:"sr-only",children:"Forums"}),Object(u.jsx)(Ce,{items:i,contentType:"forums",path:"/forumDetails",setForums:l,user:s})]})]})]})})]})}function Ue(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function Pe(e){var t=e.thread,s=Object(n.i)().url;return Object(u.jsx)("li",{children:Object(u.jsx)(g.b,{to:"".concat(s,"/").concat(t.id,"/posts"),className:"block hover:bg-gray-50",children:Object(u.jsxs)("div",{className:Ue(t.pinned&&"bg-indigo-50","px-4 py-4 sm:px-6"),children:[Object(u.jsxs)("div",{className:"flex items-center justify-between",children:[Object(u.jsx)("p",{className:"text-sm font-medium truncate",children:t.title}),Object(u.jsx)("div",{className:"ml-2 flex-shrink-0 flex",children:Object(u.jsx)("p",{className:Ue(t.closed?"bg-red-100 text-red-800":"bg-green-100 text-green-800","px-2 inline-flex text-xs leading-5 font-semibold rounded-full"),children:t.closed?"Closed":"Open"})})]}),Object(u.jsxs)("div",{className:"mt-2 sm:flex sm:justify-between",children:[Object(u.jsxs)("div",{className:"sm:flex",children:[Object(u.jsxs)("p",{className:"flex items-center text-sm text-gray-500",children:[Object(u.jsx)(y.r,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),t.creator.username]}),Object(u.jsxs)("p",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:[Object(u.jsx)(y.c,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),X()().subtract(X()().diff(t.created.slice(0,-5))).calendar()]})]}),Object(u.jsx)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:Object(u.jsxs)("p",{children:[t.posts.length," post",1!==t.posts.length&&"s"]})})]})]})})},t.id)}function Be(e){var t=e.items,s=Object(n.i)().url;return t&&t.length?Object(u.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-t-md",children:Object(u.jsx)("ul",{className:"divide-y divide-gray-200",children:t.map((function(e){return Object(u.jsx)(Pe,{thread:e})}))})}):Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(u.jsx)("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),Object(u.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No threads"}),Object(u.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new thread."}),Object(u.jsx)("div",{className:"mt-6",children:Object(u.jsx)(Oe,{content:"thread",path:"".concat(s,"/create")})})]})}function De(e){var t=e.pages,s=Object(n.i)().url;return Object(u.jsx)("nav",{className:"bg-white border-b border-gray-200 flex","aria-label":"Breadcrumb",children:Object(u.jsxs)("ol",{className:"max-w-screen-xl w-full mx-auto px-4 flex space-x-4 sm:px-6 lg:px-8",children:[Object(u.jsx)("li",{className:"flex",children:Object(u.jsx)("div",{className:"flex items-center",children:Object(u.jsxs)(g.b,{to:"/",className:"text-gray-400 hover:text-gray-500",children:[Object(u.jsx)(y.j,{className:"flex-shrink-0 h-5 w-5","aria-hidden":"true"}),Object(u.jsx)("span",{className:"sr-only",children:"Home"})]})})}),t&&t.map((function(e){return Object(u.jsx)("li",{className:"flex",children:Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("svg",{className:"flex-shrink-0 w-6 h-full text-gray-200",viewBox:"0 0 24 44",preserveAspectRatio:"none",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:Object(u.jsx)("path",{d:"M.293 0l22 22-22 22h1.414l22-22-22-22H.293z"})}),Object(u.jsx)(g.b,{to:e.path,className:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700","aria-current":e.path===s?"page":void 0,children:e.name})]})},e.name)}))]})})}var Me=["data","component","dataLimit"];function Le(e){var t=e.data,s=e.component,c=e.dataLimit,r=Object(l.a)(e,Me),n=Object(a.useState)(Math.ceil(t.length/c)),o=Object(f.a)(n,2),d=o[0],m=o[1],j=Object(a.useState)(1),x=Object(f.a)(j,2),b=x[0],h=x[1],p=b*c-c,g=p+c;return Object(a.useEffect)((function(){m(Math.ceil(t.length/c))}),[t.length,c]),Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("div",{className:"dataContainer",children:Object(u.jsx)(s,Object(i.a)({items:function(){var e=b*c-c,s=e+c;return t.slice(e,s)}()},r))}),t.length>0&&Object(u.jsxs)("nav",{className:"bg-white shadow overflow-hidden px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:rounded-b-md sm:px-6","aria-label":"Pagination",children:[Object(u.jsx)("div",{className:"hidden sm:block",children:Object(u.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",Object(u.jsx)("span",{className:"font-medium",children:p+1})," to ",Object(u.jsx)("span",{className:"font-medium",children:t.length>g?g:t.length})," of"," ",Object(u.jsx)("span",{className:"font-medium",children:t.length})," results"]})}),Object(u.jsxs)("div",{className:"flex-1 flex justify-between sm:justify-end",children:[1!==b&&Object(u.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:function(){return h((function(e){return e-1}))},children:"Previous"}),b!==d&&d>1&&Object(u.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:function(){return h((function(e){return e+1}))},children:"Next"})]})]})]})}var ze=[{id:1,name:"Title",searchType:"title"},{id:2,name:"Creator",searchType:"creator"}],Ge=[{id:1,name:"Recent",sortType:"created",reverse:!1},{id:2,name:"Topic",sortType:"title",reverse:!0},{id:3,name:"Most Posts",sortType:"posts",reverse:!1}];function Re(){var e=Object(n.h)().id,t=Object(n.i)().url,s=Object(a.useState)(null),c=Object(f.a)(s,2),r=c[0],i=c[1],l=Object(a.useState)(null),o=Object(f.a)(l,2),d=o[0],m=o[1],j=Object(a.useState)(null),x=Object(f.a)(j,2),b=x[0],h=x[1],g=Object(a.useState)([]),O=Object(f.a)(g,2),v=O[0],y=O[1],N=Object(a.useState)(Ge[0]),w=Object(f.a)(N,2),S=w[0],k=w[1],C=Object(a.useState)(""),T=Object(f.a)(C,2),F=T[0],E=T[1],I=Object(a.useState)(ze[0]),P=Object(f.a)(I,2),B=P[0],D=P[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return i(e.data)})).catch((function(e){return h(e)}))}),[]),Object(a.useEffect)((function(){R.getForum(e).then((function(e){m(e.data),function(t,s,a){var c={created:"created",title:"title",posts:"posts"}[t],r={title:"title",creator:"creator"}[a];console.log(c);var n=Object(p.a)(e.data.threads).filter((function(e){if(""===s)return e;if("creator"===r){if(e[r].username.toLowerCase().includes(s.toLowerCase()))return e}else if(e[r].toLowerCase().includes(s.toLowerCase()))return e})),i=Object(p.a)(n).sort((function(e,t){return"posts"===c?t.posts.length-e.posts.length:t[c].localeCompare(e[c])||t.created.localeCompare(e.created)})).sort((function(e,t){return t.pinned-e.pinned}));y(i)}(S.sortType,F,B.searchType)})).catch((function(e){return h(e)}))}),[e,S.sortType,F,B.searchType]),b?b.message:r&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"thread",component:Object(u.jsx)(Oe,{content:"thread",path:"".concat(t,"/create")}),user:r,searchString:F,setSearchString:E,searchTypes:ze,searchType:B,setSearchType:D}),Object(u.jsx)(De,{}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:r})}),d&&Object(u.jsxs)("main",{className:"lg:col-span-9 xl:col-span-10",children:[Object(u.jsxs)("div",{className:"pb-5 border-b border-gray-200",children:[Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:d.title}),Object(u.jsx)("p",{className:"mt-2 max-w-4xl text-sm text-gray-500",children:d.description})]}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsx)(Fe,{options:Ge,sortType:S,setSortType:k})}),Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("h1",{className:"sr-only",children:"Threads"}),Object(u.jsx)(Le,{data:v,component:Be,dataLimit:8})]})]})]})})]})}function qe(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)(""),i=Object(f.a)(r,2),l=i[0],o=i[1],m=Object(a.useState)(null),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(n.g)();return Object(u.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(u.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(u.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://nustart.s3.ap-southeast-1.amazonaws.com/nustartlogo.png",alt:"Workflow"}),Object(u.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),Object(u.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",Object(u.jsx)(g.b,{to:"/register",className:"font-medium text-rose-600 hover:text-rose-500",children:"create an account"},"register")]})]}),Object(u.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(u.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[x&&Object(u.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:Object(u.jsx)(y.s,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),Object(u.jsxs)("div",{className:"ml-3",children:[Object(u.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"There were errors when attempting to sign in"}),Object(u.jsx)("div",{className:"mt-2 text-sm text-red-700",children:x.message})]})]})}),Object(u.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault(),R.login({email:s,password:l}).then((function(e){d({userId:e.data})})).then((function(){return h.push("/")})).catch((function(e){e.response?404===e.response.status?b(new Error(e.response.data.error)):b("Something went wrong. Please try again later."):b(new Error("Failed to connect to server"))}))},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",autoFocus:!0,required:!0,value:s,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm",onChange:function(e){return c(e.target.value)}})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:l,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm",onChange:function(e){return o(e.target.value)}})})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Sign in"})})]})]})})]})}var Ye=[{id:1,name:"Student"},{id:2,name:"Staff"}],He=[{id:1,name:"Arts & Social Sciences"},{id:2,name:"Business"},{id:3,name:"Computing"},{id:4,name:"Continuing and Lifelong Education"},{id:5,name:"Dentistry"},{id:6,name:"Design & Environment"},{id:7,name:"Duke-NUS"},{id:8,name:"Engineering"},{id:9,name:"Integrative Sciences & Engineering"},{id:10,name:"Law"},{id:11,name:"Medicine"},{id:12,name:"Music"},{id:13,name:"Public Health"},{id:14,name:"Public Policy"},{id:15,name:"Science"},{id:16,name:"University Scholars Program"},{id:17,name:"Yale-NUS"}],Ve=[{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"},{id:6,name:"Part-time"},{id:7,name:"Graduate"},{id:8,name:"PhD"}];function We(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function Je(){var e=Object(n.g)(),t=Object(a.useState)(Ye[0]),s=Object(f.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)(He[0]),l=Object(f.a)(i,2),o=l[0],m=l[1],j=Object(a.useState)(Ve[0]),x=Object(f.a)(j,2),b=x[0],h=x[1],O=Object(a.useState)(""),v=Object(f.a)(O,2),N=v[0],S=v[1],k=Object(a.useState)({contacts:[],currentId:0}),T=Object(f.a)(k,2),F=T[0],E=T[1],A=Object(a.useState)(""),I=Object(f.a)(A,2),U=I[0],P=I[1],B=Object(a.useState)(""),D=Object(f.a)(B,2),M=D[0],L=D[1],z=Object(a.useState)(""),G=Object(f.a)(z,2),q=G[0],Y=G[1],H=Object(a.useState)(""),V=Object(f.a)(H,2),W=V[0],J=V[1],K=Object(a.useState)(""),Z=Object(f.a)(K,2),_=Z[0],X=Z[1],ee=Object(a.useState)(null),te=Object(f.a)(ee,2),ae=te[0],re=te[1],ne=Object(a.useState)(null),ie=Object(f.a)(ne,2),le=ie[0],oe=ie[1];function de(e){var t=F.currentId,s=F.contacts;if(0===e.id){if(""===e.value.trim())return;e.id=t+1,E({currentId:e.id,contacts:[].concat(Object(p.a)(s),[e])})}else{if(""===e.value.trim())return void function(e,t){var s=F.contacts.map((function(s){return s.id===e&&(s.editMode=t),s}));E((function(e){return{currentId:e.currentId,contacts:s}}))}(e.id,!1);var a=s.map((function(t){return t.id===e.id?(e.editMode=!1,e):t}));E((function(e){return{currentId:e.currentId,contacts:a}}))}}Object(a.useEffect)(Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getContactSize();case 2:t=e.sent,E({contacts:[],currentId:t.data+1});case 4:case"end":return e.stop()}}),e)}))),[]);var me=F.contacts;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Object(u.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://nustart.s3.ap-southeast-1.amazonaws.com/nustartlogo.png",alt:"Workflow"}),Object(u.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Register a new account"}),Object(u.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",Object(u.jsx)(g.b,{to:"/login",className:"font-medium text-rose-600 hover:text-rose-500",children:"log in"})]})]}),le&&Object(u.jsx)("div",{className:"py-4",children:Object(u.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:Object(u.jsx)(y.s,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),Object(u.jsxs)("div",{className:"ml-3",children:[Object(u.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"There were errors when attempting to create account"}),Object(u.jsx)("div",{className:"mt-2 text-sm text-red-700",children:le.message})]})]})})}),Object(u.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(t){t.preventDefault(),W!==_?re(new Error("Passwords do not match.")):W.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")?R.register({email:q,password:W,username:"".concat(U," ").concat(M),accountType:1===c.id?"STUDENT":"STAFF",accountStatus:1===c.id?"ACTIVE":"UNAPPROVED",faculty:o.name,yr:b.name,course:N,contacts:F.contacts}).then((function(e){1===c.id&&d({userId:e.data})})).then((function(){1===c.id?e.push("/"):2===c.id&&e.push("/pending-approval")})).catch((function(e){e.response||oe(new Error("Failed to connect to server")),404===e.response.status?oe(new Error("Account already exists")):oe(new Error("Something went wrong. Please try again later."))})).then((function(){return e.push("/pending-approval")})).catch((function(e){"UNAPPROVED"===e.response.accountStatus&&oe(new Error("Account is yet to be approved, please wait"))})):re(new Error("Passwords must be minimum eight characters long and contain at least one uppercase letter, one lowercase letter, one number and one special character."))},children:[Object(u.jsx)(C.a,{value:c,onChange:r,children:Object(u.jsxs)("div",{className:"mt-1 relative",children:[Object(u.jsx)(C.a.Label,{className:"m-1 block text-sm font-medium text-gray-700",children:"Position"}),Object(u.jsxs)(C.a.Button,{className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:c.name}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:Ye.map((function(e){return Object(u.jsx)(C.a.Option,{className:function(e){return We(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-8 pr-4")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:We(s?"font-semibold":"font-normal","block truncate"),children:e.name}),s?Object(u.jsx)("span",{className:We(a?"text-white":"text-rose-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)}))})})]})}),Object(u.jsx)(C.a,{value:o,onChange:m,children:Object(u.jsxs)("div",{className:"mt-1 relative",children:[Object(u.jsx)(C.a.Label,{className:"m-1 block text-sm font-medium text-gray-700",children:"Faculty"}),Object(u.jsxs)(C.a.Button,{className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:o.name}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:He.map((function(e){return Object(u.jsx)(C.a.Option,{className:function(e){return We(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-8 pr-4")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:We(s?"font-semibold":"font-normal","block truncate"),children:e.name}),s?Object(u.jsx)("span",{className:We(a?"text-white":"text-rose-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)}))})})]})}),1===c.id?Object(u.jsxs)("div",{children:[Object(u.jsx)(C.a,{value:b,onChange:h,children:Object(u.jsxs)("div",{className:"mt-1 relative",children:[Object(u.jsx)(C.a.Label,{className:"m-1 block text-sm font-medium text-gray-700",children:"Year"}),Object(u.jsxs)(C.a.Button,{className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:b.name}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:Ve.map((function(e){return Object(u.jsx)(C.a.Option,{className:function(e){return We(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-8 pr-4")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:We(s?"font-semibold":"font-normal","block truncate"),children:e.name}),s?Object(u.jsx)("span",{className:We(a?"text-white":"text-rose-600","absolute inset-y-0 left-0 flex items-center pl-1.5"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)}))})})]})}),Object(u.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(u.jsx)("div",{className:"mt-2 rounded-md shadow-sm -space-y-px",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"course",className:"sr-only",children:"Course"}),Object(u.jsx)("input",{id:"course",name:"course",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm",placeholder:"Course",value:N,onChange:function(e){return S(e.target.value)}})]})})]}):null,Object(u.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(u.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"first-name",className:"sr-only",children:"First name"}),Object(u.jsx)("input",{id:"first-name",name:"firstName",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm",placeholder:"First name",value:U,onChange:function(e){return P(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"last-name",className:"sr-only",children:"Last name"}),Object(u.jsx)("input",{id:"last-name",name:"lastName",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm",placeholder:"Last name",value:M,onChange:function(e){return L(e.target.value)}})]}),Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)("div",{className:"flex rounded-md shadow-sm",children:Object(u.jsx)("input",{type:"email",name:"email",id:"email",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm",placeholder:"@",value:q,onChange:function(e){return Y(e.target.value)}})})})]}),Object(u.jsxs)("div",{className:"rounded-md -space-y-px",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(u.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(u.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:We(ae?"block w-full pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm rounded-md":"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm"),placeholder:"Password",value:W,onChange:function(e){return J(e.target.value)}}),ae&&Object(u.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:Object(u.jsx)(y.i,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm password"}),Object(u.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(u.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"password",required:!0,className:We(ae?"block w-full pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm rounded-md":"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm"),placeholder:"Confirm password",value:_,onChange:function(e){return X(e.target.value)}}),ae&&Object(u.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:Object(u.jsx)(y.i,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),ae&&Object(u.jsx)("p",{className:"mt-2 text-sm text-red-600",id:"input-error",children:ae.message})]})]}),Object(u.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(u.jsx)("div",{className:"bg-white shadow sm:rounded-lg",children:Object(u.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add contacts"}),Object(u.jsx)("span",{className:"text-sm text-gray-500",id:"email-optional",children:"Optional"}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"note-container",children:[Object(u.jsx)(se,{onDone:de}),Object(u.jsx)("br",{}),Object(u.jsx)(ce,{contacts:me,onDelete:function(e){var t=F.contacts.filter((function(t){return t.id!==e}));E((function(e){return{currentId:e.currentId,contacts:t}}))},onDone:de})]})]})}),Object(u.jsx)("br",{})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Register"})})]})]})})})}var Ke=s(86),Ze=s.n(Ke);function Qe(e){var t=e.forumId,s=e.threadId,c=e.setThread,r=e.post,n=e.open,i=e.setOpen,l=Object(a.useState)(),o=Object(f.a)(l,2),d=o[0],m=o[1],j=Object(a.useState)(null),x=Object(f.a)(j,2),b=(x[0],x[1]);return Object(a.useEffect)((function(){var e=function(e){var t=Ze()(e),s=t.contentBlocks,a=t.entityMap,c=W.ContentState.createFromBlockArray(s,a);return W.EditorState.createWithContent(c)}(r.content);m((function(){return e}))}),[r.content]),Object(u.jsx)(w.a.Root,{show:n,as:a.Fragment,children:Object(u.jsx)(ve.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:i,children:Object(u.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(ve.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),d.getCurrentContent().hasText()?(r.content=H()(Object(W.convertToRaw)(d.getCurrentContent())),R.editPost(t,s,r).then((function(e){c(e.data)})).catch((function(e){return b(e)})),i(!1),alert("Successfully edited thread.")):alert("Content cannot be empty")},children:Object(u.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[Object(u.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[Object(u.jsx)(ve.a.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Edit post"}),Object(u.jsx)("div",{className:"mt-2 gap-6 text-left",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700",children:"Post"}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{style:{border:"1px solid black",padding:"2px",minHeight:"400px"},children:Object(u.jsx)(V.Editor,{editorState:d,onEditorStateChange:m})})})]})})]}),Object(u.jsx)("div",{className:"mt-5 sm:mt-6",children:Object(u.jsx)("button",{type:"submit",className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-rose-600 text-base font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 sm:text-sm",children:"Save"})})]})})})]})})})}function $e(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function _e(e){var t=e.forumId,s=e.threadId,c=e.setThread,r=e.post,n=e.setPosts,i=Object(a.useState)(!1),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(!1),j=Object(f.a)(m,2),x=j[0],b=j[1];return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsxs)(N.a,{as:"div",className:"relative inline-block text-left",children:[Object(u.jsx)("div",{children:Object(u.jsxs)(N.a.Button,{className:"-m-2 p-2 rounded-full flex items-center text-gray-400 hover:text-gray-600",children:[Object(u.jsx)("span",{className:"sr-only",children:"Open options"}),Object(u.jsx)(y.h,{className:"h-5 w-5","aria-hidden":"true"})]})}),Object(u.jsx)(w.a,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(u.jsx)(N.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(u.jsxs)("div",{className:"py-1",children:[Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsxs)("button",{className:$e(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-left px-4 py-2 text-sm"),onClick:function(){b(!0)},children:[Object(u.jsx)(y.l,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsx)("span",{children:"Edit post"})]})}}),Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsxs)("button",{className:$e(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-left px-4 py-2 text-sm"),onClick:function(){d(!0)},children:[Object(u.jsx)(y.p,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsx)("span",{children:"Delete post"})]})}})]})})})]}),Object(u.jsx)(Ne,{title:"post",open:o,setOpen:d,onConfirm:function(){R.deletePost(t,s,r.id).then((function(e){c(e.data),n(e.data.posts)}))}}),Object(u.jsx)(Qe,{forumId:t,threadId:s,setThread:c,post:r,open:x,setOpen:b})]})}function Xe(e){var t=e.user,s=(e.setUser,e.post),a=e.forumId,c=e.threadId,r=e.setThread,n=e.setPosts;return Object(u.jsx)("li",{className:"bg-white px-4 py-6 shadow sm:p-6 sm:rounded-lg",children:Object(u.jsx)("article",{"aria-labelledby":"post-title-"+s.id,children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"flex space-x-3",children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:"default"===s.creator.profilePicture?Object(u.jsx)("div",{className:"flex justify-center items-center content-center bg-gradient-to-br from-rose-300 to-rose-600 shadow-md hover:shadow-lg h-10 w-10 rounded-full fill-current text-white",children:Object(u.jsx)("h2",{className:"text-xs",children:s.creator.username.substring(0,1)})}):Object(u.jsx)("img",{className:"h-10 w-10 rounded-full",src:s.creator.profilePicture,alt:s.creator.username.substring(0,1)})}),Object(u.jsxs)("div",{className:"min-w-0 flex-1",children:[Object(u.jsx)("p",{className:"text-sm font-medium text-gray-900",children:Object(u.jsx)(g.b,{to:"/profile/".concat(s.creator.id),className:"hover:underline",children:s.creator.username})}),Object(u.jsx)("p",{className:"text-sm text-gray-500",children:X()().subtract(X()().diff(s.createdAt.slice(0,-5))).calendar()})]}),(s.creator.id===t.id||"ADMIN"===t.accountType)&&Object(u.jsx)("div",{className:"flex-shrink-0 self-center flex",children:Object(u.jsx)(_e,{forumId:a,threadId:c,post:s,setThread:r,setPosts:n})})]}),Object(u.jsx)("h2",{id:"post-title-"+s.id,className:"mt-4 text-base font-medium text-gray-900",children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:s.content}})})]})})},s.id)}function et(e){var t=e.user,s=e.setUser,a=e.items,c=e.forumId,r=e.threadId,i=e.setThread,l=e.setPosts,o=Object(n.i)().url;return a&&a.length?Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("h1",{className:"sr-only",children:"Posts"}),Object(u.jsx)("ul",{className:"space-y-4",children:a.map((function(e){return Object(u.jsx)(Xe,{user:t,setUser:s,forumId:c,threadId:r,post:e,setThread:i,setPosts:l})}))})]}):Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(u.jsx)("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),Object(u.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No posts"}),Object(u.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new post."}),Object(u.jsx)("div",{className:"mt-6",children:Object(u.jsx)(g.b,{to:"".concat(o,"/create"),children:Object(u.jsxs)("button",{className:"ml-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:[Object(u.jsx)(y.m,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"New Post"]})})})]})}function tt(e){var t=e.title,s=e.creator,a=e.date,c=e.open,r=e.menu,n=e.disableMenu;return Object(u.jsx)("div",{className:"pb-5 border-b border-gray-200",children:Object(u.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-baseline",children:[Object(u.jsxs)("div",{className:"sm:w-0 sm:flex-1",children:[Object(u.jsx)("h1",{id:"message-heading",className:"text-lg font-medium text-gray-900",children:t}),Object(u.jsxs)("div",{className:"sm:flex",children:[Object(u.jsxs)("p",{className:"flex items-center text-sm text-gray-500",children:[Object(u.jsx)(y.r,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),s]}),Object(u.jsxs)("p",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:[Object(u.jsx)(y.c,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),a]})]})]}),Object(u.jsxs)("div",{className:"mt-4 flex items-center justify-between sm:mt-0 sm:ml-6 sm:flex-shrink-0 sm:justify-start",children:[c?Object(u.jsx)("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Open"}):Object(u.jsx)("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-red-100 text-red-800",children:"Closed"}),!n&&r]})]})})}function st(e){var t=e.forumId,s=e.thread,c=e.setThread,r=e.open,n=e.setOpen,i=Object(a.useState)(s.title),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(null),j=Object(f.a)(m,2),x=(j[0],j[1]);return Object(u.jsx)(w.a.Root,{show:r,as:a.Fragment,children:Object(u.jsx)(ve.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:n,children:Object(u.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(ve.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),""!==o&&(s.title=o,R.editThread(t,s).then((function(e){c(e.data)})).catch((function(e){return x(e)})),n(!1),alert("Successfully edited thread."))},children:Object(u.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[Object(u.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[Object(u.jsx)(ve.a.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Edit thread"}),Object(u.jsx)("div",{className:"mt-2 gap-6 text-left",children:Object(u.jsx)(B,{type:"text",name:"title",id:"title",label:"Title",placeholder:"Enter a forum title",autoComplete:"title",required:!0,value:o,onChange:function(e){return d(e.target.value)}})})]}),Object(u.jsx)("div",{className:"mt-5 sm:mt-6",children:Object(u.jsx)("button",{type:"submit",className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-rose-600 text-base font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 sm:text-sm",children:"Create"})})]})})})]})})})}function at(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function ct(e){var t=e.user,s=e.forumId,c=e.thread,r=e.setThread,i=Object(n.g)(),l=Object(a.useState)(""),o=Object(f.a)(l,2),d=o[0],m=o[1],j=Object(a.useState)(!1),x=Object(f.a)(j,2),b=x[0],h=x[1],p=Object(a.useState)(!1),g=Object(f.a)(p,2),O=g[0],v=g[1],S=Object(a.useState)(null),k=Object(f.a)(S,2),C=(k[0],k[1]);function T(e){R.editThread(s,e).then((function(e){return r(e.data)})).catch((function(e){return C(e)}))}return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsxs)(N.a,{as:"div",className:"ml-3 relative inline-block text-left z-50",children:[Object(u.jsx)("div",{children:Object(u.jsxs)(N.a.Button,{className:"-my-2 p-2 rounded-full bg-white flex items-center text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-rose-500",children:[Object(u.jsx)("span",{className:"sr-only",children:"Open options"}),Object(u.jsx)(y.h,{className:"h-5 w-5","aria-hidden":"true"})]})}),Object(u.jsx)(w.a,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(u.jsx)(N.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(u.jsxs)("div",{className:"py-1",children:[Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsx)("button",{className:at(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-right px-4 py-2 text-sm"),onClick:function(){return v(!0)},children:Object(u.jsx)("span",{children:"Edit thread"})})}}),!c.posts.length&&Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsx)("button",{className:at(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-right px-4 py-2 text-sm"),onClick:function(){m("delete"),h(!0)},children:Object(u.jsx)("span",{children:"Delete thread"})})}}),"ADMIN"===t.accountType&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsx)("button",{type:"button",className:at(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-right px-4 py-2 text-sm"),onClick:function(){m(c.closed?"open":"close"),h(!0)},children:Object(u.jsxs)("span",{children:[c.closed?"Open":"Close"," thread"]})})}}),Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsx)("button",{type:"button",className:at(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-right px-4 py-2 text-sm"),onClick:function(){!function(e){e.pinned=!e.pinned,T(e)}(c)},children:Object(u.jsxs)("span",{children:[c.pinned?"Unpin":"Pin"," thread"]})})}})]})]})})})]}),Object(u.jsx)(Ne,{title:"thread",open:b,setOpen:h,params:[c],action:d,onConfirm:"delete"===d?function(){R.deleteThread(s,c.id).then((function(){return i.push("/".concat(s,"/threads"))}))}:function(e){e.closed=!e.closed,T(e)}}),Object(u.jsx)(st,{open:O,setOpen:v,forumId:s,thread:c,setThread:r})]})}var rt=["data","component","dataLimit"];function nt(e){var t=e.data,s=e.component,c=e.dataLimit,r=Object(l.a)(e,rt),n=Object(a.useState)(1),o=Object(f.a)(n,2),d=o[0],m=o[1],j=Object(a.useState)(1),x=Object(f.a)(j,2),b=x[0],h=x[1];return Object(a.useEffect)((function(){m(Math.ceil(t.length/c))}),[t.length,c]),Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(s,Object(i.a)({items:function(){var e=b*c-c,s=e+c;return t.slice(e,s)}()},r)),d>1&&Object(u.jsxs)("nav",{className:"mt-5 border-t border-gray-200 px-4 flex items-center justify-between sm:px-0",children:[Object(u.jsx)("div",{className:"-mt-px w-0 flex-1 flex",children:1!==b&&Object(u.jsxs)("button",{className:"border-t-2 border-transparent pt-4 pr-1 inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300",onClick:function(){return h((function(e){return e-1}))},children:[Object(u.jsx)(y.a,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Previous"]})}),Object(u.jsx)("div",{className:"-mt-px w-0 flex-1 flex justify-end",children:b!==d&&Object(u.jsxs)("button",{className:"border-t-2 border-transparent pt-4 pl-1 inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300",onClick:function(){return h((function(e){return e+1}))},children:["Next",Object(u.jsx)(y.b,{className:"ml-3 h-5 w-5 text-gray-400","aria-hidden":"true"})]})})]})]})}var it=[{id:1,name:"Recent",sortType:"createdAt",reverse:!1},{id:2,name:"Content",sortType:"content",reverse:!0}],lt=[{id:1,name:"Content",searchType:"content"},{id:2,name:"Creator",searchType:"creator"}];function ot(){var e=Object(n.h)(),t=e.forumId,s=e.threadId,c=Object(a.useState)(null),r=Object(f.a)(c,2),i=r[0],l=r[1],o=Object(a.useState)(null),d=Object(f.a)(o,2),m=d[0],j=d[1],x=Object(a.useState)(null),b=Object(f.a)(x,2),h=b[0],g=b[1],O=Object(a.useState)([]),v=Object(f.a)(O,2),y=v[0],N=v[1],w=Object(a.useState)(null),S=Object(f.a)(w,2),k=S[0],C=S[1],T=Object(a.useState)(""),F=Object(f.a)(T,2),E=F[0],I=F[1],P=Object(a.useState)(lt[0]),B=Object(f.a)(P,2),D=B[0],M=B[1],L=Object(a.useState)(it[0]),z=Object(f.a)(L,2),G=z[0],q=z[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return l(e.data)})).catch((function(e){return C(e)}))}),[]),Object(a.useEffect)((function(){R.getForum(t).then((function(e){j(e.data)})).catch((function(e){return C(e)}))}),[t]),Object(a.useEffect)((function(){R.getThread(s).then((function(e){g(e.data),function(t,s,a){var c={createdAt:"createdAt",content:"content"}[t],r={creator:"creator",content:"content"}[a],n=Object(p.a)(e.data.posts).filter((function(e){if(""===s)return e;if("creator"===r){if(e[r].username.toLowerCase().includes(s.toLowerCase()))return e}else if(e[r].replace(/(<([^>]+)>)/gi,"").toLowerCase().includes(s.toLowerCase()))return e})),i=Object(p.a)(n).sort((function(e,t){return t[c].localeCompare(e[c])}));N(i)}(G.sortType,E,D.searchType)})).catch((function(e){return C(e)}))}),[s,G.sortType,E,D.searchType]),k?"Error: ".concat(k.message):i&&m&&h&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"post",disableButton:h.closed,user:i,component:Object(u.jsx)(Oe,{content:"post",path:"/".concat(t,"/threads/").concat(s,"/posts/create")}),searchString:E,setSearchString:I,searchTypes:lt,searchType:D,setSearchType:M}),Object(u.jsx)(De,{pages:[{name:m.title,path:{pathname:"/".concat(t,"/threads")}}]}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:i})}),h&&Object(u.jsxs)("main",{className:"lg:col-span-9 xl:col-span-10",children:[Object(u.jsx)(tt,{title:h.title,creator:h.creator.username,date:X()().subtract(X()().diff(h.created.slice(0,-5))).calendar(),open:!h.closed,disableMenu:h.creator.id!==i.id&&"ADMIN"!==i.accountType,menu:Object(u.jsx)(ct,{user:i,forumId:t,thread:h,setThread:g})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsx)(Fe,{options:it,sortType:G,setSortType:q})}),Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("h1",{className:"sr-only",children:"Posts"}),Object(u.jsx)(nt,{data:y,component:et,dataLimit:10,forumId:t,threadId:s,setThread:g,setPosts:N,contentType:"posts",user:i})]})]})]})})]})}function dt(e){var t=e.items;return Object(u.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:Object(u.jsx)("ul",{role:"list",className:"divide-y divide-gray-200",children:t&&t.length?t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"/profile/".concat(e.id),children:Object(u.jsxs)("div",{className:"px-4 py-4 flex items-center sm:px-6 hover:bg-gray-50",children:[Object(u.jsxs)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(u.jsxs)("div",{className:"truncate",children:[Object(u.jsxs)("div",{className:"flex text-sm items-center",children:[Object(u.jsx)("p",{className:"text-xl font-medium text-rose-500 truncate",children:e.email}),Object(u.jsx)("p",{className:"ml-3 flex-shrink-0 font-normal text-gray-500",children:e.accountType})]}),Object(u.jsx)("div",{className:"mt-2 flex",children:Object(u.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[e.accountStatus,Object(u.jsx)(v.f,{className:"ml-2 flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),X()(e.created.slice(0,-5)).format("MMMM Do YYYY [at] h:mm a")]})})]}),Object(u.jsx)("div",{className:"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5",children:Object(u.jsx)("div",{className:"flex overflow-hidden -space-x-1"})})]}),Object(u.jsx)("div",{className:"ml-5 flex items-center"})]})})},e.id)})):Object(u.jsx)("li",{children:Object(u.jsx)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:Object(u.jsx)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:Object(u.jsx)("div",{className:"truncate",children:Object(u.jsx)("div",{className:"flex text-sm items-center",children:Object(u.jsx)("p",{className:"text-xl font-medium text-rose-500 truncate",children:"No users"})})})})})},"No users")})})}var mt=[{id:1,name:"Recent",sortType:"created",reverse:!1},{id:2,name:"Email",sortType:"email",reverse:!0},{id:2,name:"Username",sortType:"username",reverse:!0},{id:2,name:"Role",sortType:"accountType",reverse:!0},{id:2,name:"Status",sortType:"accountStatus",reverse:!0}];function ut(e){var t=e.searchString,s=e.searchType,c=Object(a.useState)([]),r=Object(f.a)(c,2),n=r[0],i=r[1],l=Object(a.useState)(!1),o=Object(f.a)(l,2),d=(o[0],o[1],Object(a.useState)(mt[0])),m=Object(f.a)(d,2),j=m[0],x=m[1];Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=!0;return R.getUsers().then((function(a){!function(t,s,c){var r={created:"created",accountType:"accountType",accountStatus:"accountStatus",email:"email",username:"username"}[t],n={username:"username",email:"email"}[c],l=Object(p.a)(a.data).filter((function(e){return""===s||e[n].toLowerCase().includes(s.toLowerCase())?e:void 0})),o=Object(p.a)(l).sort((function(e,t){return t[r].localeCompare(e[r])||t.created.localeCompare(e.created)}));e&&i(o)}(j.sortType,t,s.searchType)})),function(){e=!1}}),[j.sortType,t,s.searchType]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"pt-6 pb-4",children:Object(u.jsx)(Fe,{options:mt,sortType:j,setSortType:x})}),Object(u.jsx)(Le,{data:n,component:dt,dataLimit:5})]})}function jt(e){var t=e.items,s=e.toggleBlock;return Object(u.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:Object(u.jsx)("ul",{className:"divide-y divide-gray-200",children:t&&t.length?t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:[Object(u.jsxs)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(u.jsxs)("div",{className:"truncate",children:[Object(u.jsxs)("div",{className:"flex text-sm items-center",children:[Object(u.jsx)("p",{className:"text-xl font-medium text-rose-500 truncate",children:e.email}),Object(u.jsx)("p",{className:"ml-3 flex-shrink-0 font-normal text-gray-500",children:e.accountType})]}),Object(u.jsx)("div",{className:"mt-2 flex",children:Object(u.jsx)("div",{className:"flex items-center text-sm text-gray-500",children:e.accountStatus})})]}),Object(u.jsx)("div",{className:"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5",children:Object(u.jsx)("div",{className:"flex overflow-hidden -space-x-1"})})]}),Object(u.jsx)("div",{className:"ml-5 flex items-center",children:"BLOCKED"===e.accountStatus?Object(u.jsxs)("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-rose-500 hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){s(e)},children:[Object(u.jsx)(v.h,{className:"-ml-0.5 mr-2 h-4 w-4","aria-hidden":"true"}),"Unblock"]}):Object(u.jsxs)("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-rose-500 hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){s(e)},children:[Object(u.jsx)(v.c,{className:"mr-3 h-4 w-4","aria-hidden":"true"}),"Block"]})})]})},e.id)})):Object(u.jsx)("li",{children:Object(u.jsx)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:Object(u.jsx)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:Object(u.jsx)("div",{className:"truncate",children:Object(u.jsx)("div",{className:"flex text-sm items-center",children:Object(u.jsx)("p",{className:"text-xl font-medium text-rose-500 truncate",children:"No users to block"})})})})})},"No users to block")})})}var xt=[{id:1,name:"Recent",sortType:"created",reverse:!1},{id:2,name:"Email",sortType:"email",reverse:!0},{id:2,name:"Username",sortType:"username",reverse:!0},{id:2,name:"Role",sortType:"accountType",reverse:!0},{id:2,name:"Status",sortType:"accountStatus",reverse:!0}];function bt(e){var t=e.searchString,s=e.searchType,c=Object(a.useState)([]),r=Object(f.a)(c,2),n=r[0],i=r[1],l=Object(a.useState)(xt[0]),o=Object(f.a)(l,2),d=o[0],m=o[1];return Object(a.useEffect)((function(){R.getUsers().then((function(e){!function(t,s,a){var c={created:"created",accountType:"accountType",accountStatus:"accountStatus",email:"email",username:"username"}[t],r={username:"username",email:"email"}[a],n=Object(p.a)(e.data.filter((function(e){return("ACTIVE"===e.accountStatus||"BLOCKED"===e.accountStatus)&&"ADMIN"!==e.accountType}))).filter((function(e){return""===s||e[r].toLowerCase().includes(s.toLowerCase())?e:void 0})),l=Object(p.a)(n).sort((function(e,t){return t[c].localeCompare(e[c])||t.created.localeCompare(e.created)}));i(l)}(d.sortType,t,s.searchType)}))}),[d.sortType,t,s.searchType]),n&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"pt-6 pb-4",children:Object(u.jsx)(Fe,{options:xt,sortType:d,setSortType:m})}),Object(u.jsx)(Le,{data:n,component:jt,dataLimit:8,toggleBlock:function(e){e.accountStatus="BLOCKED"===e.accountStatus?"ACTIVE":"BLOCKED",R.editUser(e.id,e).then((function(){R.getUsers().then((function(e){return i(e.data.filter((function(e){return("ACTIVE"===e.accountStatus||"BLOCKED"===e.accountStatus)&&"ADMIN"!==e.accountType})))}))}))}})]})}function ht(e){var t=e.items,s=e.approve,a=e.reject;return Object(u.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:Object(u.jsx)("ul",{className:"divide-y divide-gray-200",children:t&&t.length?t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:[Object(u.jsxs)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(u.jsxs)("div",{className:"truncate",children:[Object(u.jsxs)("div",{className:"flex text-sm items-center",children:[Object(u.jsx)("p",{className:"text-xl font-medium text-rose-500 truncate",children:e.email}),Object(u.jsx)("p",{className:"ml-3 flex-shrink-0 font-normal text-gray-500",children:e.accountType})]}),Object(u.jsx)("div",{className:"mt-2 flex",children:Object(u.jsx)("div",{className:"flex items-center text-sm text-gray-500",children:e.accountStatus})})]}),Object(u.jsx)("div",{className:"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5",children:Object(u.jsx)("div",{className:"flex overflow-hidden -space-x-1"})})]}),Object(u.jsxs)("div",{className:"ml-5 flex items-center",children:[Object(u.jsxs)("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-rose-500 hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){s(e)},children:[Object(u.jsx)(v.h,{className:"-ml-0.5 mr-2 h-4 w-4","aria-hidden":"true"}),"Approve"]}),"REJECTED"!==e.accountStatus&&Object(u.jsxs)("button",{type:"button",className:"ml-5 inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-rose-500 hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){a(e)},children:[Object(u.jsx)(v.c,{className:"mr-3 h-4 w-4","aria-hidden":"true"}),"Reject"]})]})]})},e.id)})):Object(u.jsx)("li",{children:Object(u.jsx)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:Object(u.jsx)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:Object(u.jsx)("div",{className:"truncate",children:Object(u.jsx)("div",{className:"flex text-sm items-center",children:Object(u.jsx)("p",{className:"text-xl font-medium text-rose-500 truncate",children:"No users to approve"})})})})})},"No users to approve")})})}var ft=[{id:1,name:"Recent",sortType:"created",reverse:!1},{id:2,name:"Email",sortType:"email",reverse:!0},{id:2,name:"Username",sortType:"username",reverse:!0},{id:2,name:"Status",sortType:"accountStatus",reverse:!0}];function pt(e){var t=e.searchString,s=e.searchType,c=Object(a.useState)([]),r=Object(f.a)(c,2),n=r[0],i=r[1],l=Object(a.useState)(ft[0]),o=Object(f.a)(l,2),d=o[0],m=o[1];return Object(a.useEffect)((function(){R.getUsers().then((function(e){!function(t,s,a){var c={created:"created",accountStatus:"accountStatus",email:"email",username:"username"}[t],r={username:"username",email:"email"}[a],n=Object(p.a)(e.data).filter((function(e){return("UNAPPROVED"===e.accountStatus||"REJECTED"===e.accountStatus)&&"STAFF"===e.accountType})).filter((function(e){return""===s||e[r].toLowerCase().includes(s.toLowerCase())?e:void 0})),l=Object(p.a)(n).sort((function(e,t){return t[c].localeCompare(e[c])||t.created.localeCompare(e.created)}));i(l)}(d.sortType,t,s.searchType)}))}),[d.sortType,t,s.searchType]),n&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"pt-6 pb-4",children:Object(u.jsx)(Fe,{options:ft,sortType:d,setSortType:m})}),Object(u.jsx)(Le,{data:n,component:ht,dataLimit:8,approve:function(e){e.accountStatus="ACTIVE",R.editUser(e.id,e).then((function(){R.getUsers().then((function(e){return i(e.data.filter((function(e){return("UNAPPROVED"===e.accountStatus||"REJECTED"===e.accountStatus)&&"STAFF"===e.accountType})))}))}))},reject:function(e){e.accountStatus="REJECTED",R.editUser(e.id,e).then((function(){R.getUsers().then((function(e){return i(e.data.filter((function(e){return("UNAPPROVED"===e.accountStatus||"REJECTED"===e.accountStatus)&&"STAFF"===e.accountType})))}))}))}})]})}var gt=[{name:"All Users",href:"#",current:!0},{name:"To Approve",href:"#",current:!1},{name:"Block",href:"#",current:!1}],Ot=[{id:1,name:"Name",searchType:"username"},{id:2,name:"Email",searchType:"email"}];function vt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function yt(){var e=Object(a.useState)(gt[0]),t=Object(f.a)(e,2),s=(t[0],t[1]),c=Object(a.useState)(null),r=Object(f.a)(c,2),n=r[0],i=r[1],l=Object(a.useState)(null),o=Object(f.a)(l,2),d=(o[0],o[1]),m=Object(a.useState)(""),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(a.useState)(Ot[0]),p=Object(f.a)(h,2),g=p[0],O=p[1];function v(){var e=gt.filter((function(e){return!0===e.current}));return"All Users"===e[0].name?Object(u.jsx)(ut,{searchString:x,searchType:g}):"To Approve"===e[0].name?Object(u.jsx)(pt,{searchString:x,searchType:g}):"Block"===e[0].name?Object(u.jsx)(bt,{user:n,searchString:x,searchType:g}):null}return Object(a.useEffect)((function(){R.getUser().then((function(e){i(e.data)})).catch((function(e){return d(e)}))}),[]),n&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"users",disableButton:"ADMIN"!==n.accountType,component:Object(u.jsx)(Oe,{content:"admin",path:"/users/create"}),user:n,searchString:x,setSearchString:b,searchTypes:Ot,searchType:g,setSearchType:O}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:n})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-9",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"sm:hidden",children:[Object(u.jsx)("label",{htmlFor:"tabs",className:"sr-only",children:"Select a tab"}),Object(u.jsx)("select",{id:"tabs",name:"tabs",className:"mb-5 block w-full focus:ring-rose-500 focus:border-rose-500 border-gray-300 rounded-md",defaultValue:gt.find((function(e){return e.current})).name,children:gt.map((function(e){return Object(u.jsx)("option",{children:e.name},e.name)}))})]}),Object(u.jsx)("div",{className:"hidden sm:block",children:Object(u.jsx)("nav",{className:"relative z-0 rounded-lg shadow flex divide-x divide-gray-200","aria-label":"Tabs",children:gt.map((function(e,t){return Object(u.jsxs)("button",{className:vt(e.current?"text-gray-900":"text-gray-500 hover:text-gray-700",0===t?"rounded-l-lg":"",t===gt.length-1?"rounded-r-lg":"","group relative min-w-0 flex-1 overflow-hidden bg-white py-4 px-4 text-sm font-medium text-center hover:bg-gray-50 focus:z-10"),"aria-current":e.current?"page":void 0,onClick:function(){!function(e){gt.filter((function(e){return!0===e.current})).map((function(e){return e.current=!1}));var t=gt.filter((function(t){return t.name===e})).map((function(e){return e.current=!0}));s(t)}(e.name)},children:[Object(u.jsx)("span",{children:e.name}),Object(u.jsx)("span",{"aria-hidden":"true",className:vt(e.current?"bg-rose-500":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5")})]},e.name)}))})})]}),Object(u.jsx)(v,{})]})})]})})]})}function Nt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function wt(e){var t=e.categories,s=e.selected,c=e.setSelected;return t.length&&s?Object(u.jsx)(C.a,{value:s,onChange:c,children:function(e){var c=e.open;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.a.Label,{className:"block text-sm font-medium text-gray-700",children:"Category"}),Object(u.jsxs)("div",{className:"mt-1 relative",children:[Object(u.jsxs)(C.a.Button,{className:"bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:s.name}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{show:c,as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:t.map((function(e){return Object(u.jsx)(g.b,{to:"/categories/".concat(e.id,"/guides"),children:Object(u.jsx)(C.a.Option,{className:function(e){return Nt(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:Nt(s?"font-semibold":"font-normal","block truncate"),children:e.name}),s?Object(u.jsx)("span",{className:Nt(a?"text-white":"text-rose-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)})}))})})]})]})}}):Object(u.jsx)("div",{children:"No categories"})}function St(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)([]),n=Object(f.a)(r,2),i=n[0],l=n[1],o=Object(a.useState)(null),d=Object(f.a)(o,2),m=d[0],j=d[1],x=Object(a.useState)(null),b=Object(f.a)(x,2),h=b[0],p=b[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return c(e.data)})).catch((function(e){return j(e)}))}),[]),Object(a.useEffect)((function(){R.getCategories().then((function(e){l(e.data),p(e.data[0])})).catch((function(e){return j(e)}))}),[]),m?"Error: ".concat(m.message):s&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"guide",disableButton:"STUDENT"===s.accountType||!i.length,component:Object(u.jsx)(Oe,{content:"guide",path:"/createGuide"}),disableSearch:!0,user:s}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:s})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:i.length&&h?Object(u.jsx)(wt,{categories:i,selected:h,setSelected:p}):Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(u.jsx)("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),Object(u.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No categories"})]})})]})})]})}function kt(e){var t=e.action,s=e.description,c=void 0===s?"":s,r=e.show,n=e.setShow;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start",children:Object(u.jsx)("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:Object(u.jsx)(w.a,{show:r,as:a.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)("div",{className:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden",children:Object(u.jsx)("div",{className:"p-4",children:Object(u.jsxs)("div",{className:"flex items-start",children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:Object(u.jsx)(v.h,{className:"h-6 w-6 text-green-400","aria-hidden":"true"})}),Object(u.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[Object(u.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Successfully ",t,"!"]}),Object(u.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c})]}),Object(u.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:Object(u.jsxs)("button",{className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){n(!1)},children:[Object(u.jsx)("span",{className:"sr-only",children:"Close"}),Object(u.jsx)(y.t,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})})})})})})}function Ct(e){var t=e.categoryId,s=e.guide,c=e.setGuide,r=e.open,n=e.setOpen,i=e.setNotifTitle,l=e.triggerNotification,o=Object(a.useState)(),d=Object(f.a)(o,2),m=d[0],j=d[1],x=Object(a.useState)(s.title),b=Object(f.a)(x,2),h=b[0],p=b[1],g=Object(a.useState)(null),O=Object(f.a)(g,2),v=(O[0],O[1]);return Object(a.useEffect)((function(){var e=function(e){var t=Ze()(e),s=t.contentBlocks,a=t.entityMap,c=W.ContentState.createFromBlockArray(s,a);return W.EditorState.createWithContent(c)}(s.content);j((function(){return e}))}),[s.content]),Object(u.jsx)(w.a.Root,{show:r,as:a.Fragment,children:Object(u.jsx)(ve.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:function(){p(s.title),n(!1)},children:Object(u.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(ve.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),""!==h&&m.getCurrentContent().hasText()?(s.title=h,s.content=H()(Object(W.convertToRaw)(m.getCurrentContent())),R.editGuide(t,s).then((function(e){c(e.data)})).catch((function(e){return v(e)})),i("saved guide"),l(),n(!1),window.location.reload()):""===h?alert("Title cannot be empty"):alert("Content cannot be empty")},children:Object(u.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[Object(u.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[Object(u.jsx)(ve.a.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Edit guide"}),Object(u.jsx)("div",{className:"mt-2 gap-6 text-left",children:Object(u.jsx)(B,{type:"text",name:"title",id:"title",label:"Title",placeholder:"Enter a forum title",autoComplete:"title",required:!0,value:h,onChange:function(e){return p(e.target.value)}})}),Object(u.jsxs)("div",{className:"mt-2 gap-6 text-left",children:[Object(u.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700",children:"Guide"}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{style:{border:"1px solid black",padding:"2px",minHeight:"400px"},children:Object(u.jsx)(V.Editor,{editorState:m,onEditorStateChange:j})})})]})]}),Object(u.jsx)("div",{className:"mt-5 sm:mt-6",children:Object(u.jsx)("button",{type:"submit",className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-rose-600 text-base font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 sm:text-sm",children:"Save"})})]})})})]})})})}function Tt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function Ft(e){var t=e.categoryId,s=e.guide,c=e.setGuide,r=Object(n.g)(),i=Object(a.useState)(!1),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(!1),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(a.useState)(!1),p=Object(f.a)(h,2),g=p[0],O=p[1],v=Object(a.useState)(""),S=Object(f.a)(v,2),k=S[0],C=S[1];return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsxs)(N.a,{as:"div",className:"relative inline-block text-left",children:[Object(u.jsx)("div",{children:Object(u.jsxs)(N.a.Button,{className:"-m-2 p-2 rounded-full flex items-center text-gray-400 hover:text-gray-600",children:[Object(u.jsx)("span",{className:"sr-only",children:"Open options"}),Object(u.jsx)(y.h,{className:"h-5 w-5","aria-hidden":"true"})]})}),Object(u.jsx)(w.a,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(u.jsx)(N.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(u.jsxs)("div",{className:"py-1",children:[Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsxs)("button",{className:Tt(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-left px-4 py-2 text-sm"),onClick:function(){b(!0)},children:[Object(u.jsx)(y.l,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsx)("span",{children:"Edit guide"})]})}}),Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsxs)("button",{className:Tt(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-left px-4 py-2 text-sm"),onClick:function(){d(!0)},children:[Object(u.jsx)(y.p,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsx)("span",{children:"Delete guide"})]})}})]})})})]}),Object(u.jsx)(Ne,{title:"guide",item:s,open:o,setOpen:d,onConfirm:function(){R.deleteGuide(t,s.id).then((function(){return r.goBack()}))}}),Object(u.jsx)(Ct,{categoryId:t,guide:s,setGuide:c,open:x,setOpen:b,setNotifTitle:C,triggerNotification:function(){O(!0),setTimeout((function(){return O(!1)}),3e3)}}),Object(u.jsx)(kt,{show:g,setShow:O,action:k})]})}function Et(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function At(e){var t=e.guideId,s=e.setGuide,c=e.comment,r=e.setComments,n=(e.edit,e.setEdit),i=Object(a.useState)(!1),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(!1),j=Object(f.a)(m,2),x=(j[0],j[1],Object(a.useState)(!1)),b=Object(f.a)(x,2),h=b[0],p=b[1],g=Object(a.useState)(""),O=Object(f.a)(g,2),v=O[0];O[1];return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsxs)(N.a,{as:"div",className:"relative inline-block text-left",children:[Object(u.jsx)("div",{children:Object(u.jsxs)(N.a.Button,{className:"-m-2 p-2 rounded-full flex items-center text-gray-400 hover:text-gray-600",children:[Object(u.jsx)("span",{className:"sr-only",children:"Open options"}),Object(u.jsx)(y.h,{className:"h-5 w-5","aria-hidden":"true"})]})}),Object(u.jsx)(w.a,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(u.jsx)(N.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(u.jsxs)("div",{className:"py-1",children:[Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsxs)("button",{className:Et(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-left px-4 py-2 text-sm"),onClick:function(){n(!0)},children:[Object(u.jsx)(y.l,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsx)("span",{children:"Edit comment"})]})}}),Object(u.jsx)(N.a.Item,{children:function(e){var t=e.active;return Object(u.jsxs)("button",{className:Et(t?"bg-gray-100 text-gray-900":"text-gray-700","w-full flex justify-left px-4 py-2 text-sm"),onClick:function(){d(!0)},children:[Object(u.jsx)(y.p,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsx)("span",{children:"Delete comment"})]})}})]})})})]}),Object(u.jsx)(Ne,{title:"comment",open:o,setOpen:d,onConfirm:function(){R.deleteComment(t,c.id).then((function(e){s(e.data),r(e.data.comments)}))}}),Object(u.jsx)(kt,{show:h,setShow:p,action:v})]})}function It(e){var t=e.user,s=e.comment,c=e.guideId,r=e.setGuide,n=e.setComments,i=Object(a.useState)(!1),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(s.content),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(a.useState)(null),p=Object(f.a)(h,2),O=(p[0],p[1]);return Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"flex space-x-3",children:[o?Object(u.jsx)("div",{className:"min-w-0 flex-1",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s.content=x,R.editComment(c,s).then((function(e){r(e.data),n(e.data.comments)})).catch((function(e){return O(e)})),d(!1)},children:[Object(u.jsx)("textarea",{id:"comment",name:"comment",rows:3,className:"shadow-sm block w-full focus:ring-rose-500 focus:border-rose-500 sm:text-sm border border-gray-300 rounded-md",placeholder:"Write a comment",required:!0,value:x,onChange:function(e){return b(e.target.value)}}),Object(u.jsxs)("div",{className:"mt-3 flex items-center justify-end",children:[Object(u.jsx)("button",{type:"button",className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",onClick:function(){return d(!1)},children:"Cancel"}),Object(u.jsx)("button",{type:"submit",className:"ml-5 inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Save"})]})]})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:"default"===s.creator.profilePicture?Object(u.jsx)("div",{className:"flex justify-center items-center content-center bg-gradient-to-br from-rose-300 to-rose-600 shadow-md hover:shadow-lg h-10 w-10 rounded-full fill-current text-white",children:Object(u.jsx)("h2",{className:"text-xs",children:s.creator.username.substring(0,1)})}):Object(u.jsx)("img",{className:"h-10 w-10 rounded-full",src:s.creator.profilePicture,alt:s.creator.username.substring(0,1)})}),Object(u.jsx)("div",{className:"min-w-0 flex-1",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"text-sm",children:Object(u.jsx)(g.b,{to:"/profile/".concat(s.creator.id),className:"font-medium text-gray-900",children:s.creator.username})}),Object(u.jsx)("div",{className:"mt-1 text-sm text-gray-700",children:Object(u.jsx)("p",{children:s.content})}),Object(u.jsxs)("div",{className:"mt-2 text-sm space-x-2",children:[Object(u.jsx)("span",{className:"text-gray-500 font-medium",children:X()().subtract(X()().diff(s.created.slice(0,-5))).calendar()})," "]})]})})]}),(t.id===s.creator.id||"ADMIN"===t.accountType)&&Object(u.jsx)("div",{className:"flex-shrink-0 self-center flex",children:Object(u.jsx)(At,{edit:o,setEdit:d,comment:s,guideId:c,setGuide:r,setComments:n})})]})},s.id)}function Ut(e){var t=e.user,s=e.comments,c=e.guideId,r=e.setGuide,n=e.setComments,i=Object(a.useState)(""),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(null),j=Object(f.a)(m,2),x=(j[0],j[1]);return Object(u.jsx)("section",{"aria-labelledby":"comments-title",className:"mt-8 xl:mt-10",children:Object(u.jsxs)("div",{className:"bg-white shadow sm:rounded-lg sm:overflow-hidden",children:[Object(u.jsxs)("div",{className:"divide-y divide-gray-200",children:[Object(u.jsx)("div",{className:"px-4 py-5 sm:px-6",children:Object(u.jsx)("h2",{id:"notes-title",className:"text-lg font-medium text-gray-900",children:"Comments"})}),Object(u.jsx)("div",{className:"px-4 py-6 sm:px-6",children:Object(u.jsx)("ul",{className:"space-y-8",children:s.length?s.map((function(e){return Object(u.jsx)(It,{user:t,comment:e,guideId:c,setGuide:r,setComments:n})})):Object(u.jsx)("li",{children:Object(u.jsx)("div",{className:"flex space-x-3",children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"text-sm",children:"No comments"})})})},"No comments")})})]}),Object(u.jsx)("div",{className:"bg-gray-50 px-4 py-6 sm:px-6",children:Object(u.jsx)("div",{className:"flex space-x-3",children:Object(u.jsx)("div",{className:"min-w-0 flex-1",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),R.createComment(c,{content:o,creator:t}).then((function(e){r(e.data),n(e.data.comments)})).catch((function(e){return x(e)})),d("")},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"comment",className:"sr-only",children:"Comments"}),Object(u.jsx)("textarea",{id:"comment",name:"comment",rows:3,className:"shadow-sm block w-full focus:ring-rose-500 focus:border-rose-500 sm:text-sm border border-gray-300 rounded-md",placeholder:"Write a comment",required:!0,value:o,onChange:function(e){return d(e.target.value)}})]}),Object(u.jsx)("div",{className:"mt-3 flex items-center justify-end",children:Object(u.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Comment"})})]})})})})]})})}function Pt(){var e=Object(n.h)(),t=e.categoryId,s=e.guideId,c=Object(a.useState)(null),r=Object(f.a)(c,2),i=r[0],l=r[1],o=Object(a.useState)(null),d=Object(f.a)(o,2),m=d[0],j=d[1],x=Object(a.useState)(null),b=Object(f.a)(x,2),h=b[0],p=b[1],O=Object(a.useState)(""),v=Object(f.a)(O,2),N=v[0],w=v[1],S=Object(a.useState)(""),k=Object(f.a)(S,2),C=k[0],T=k[1],F=Object(a.useState)([]),E=Object(f.a)(F,2),I=E[0],P=E[1],B=Object(a.useState)(null),D=Object(f.a)(B,2),M=(D[0],D[1]);return Object(a.useEffect)((function(){R.getUser().then((function(e){return l(e.data)})).catch((function(e){return M(e)}))}),[]),Object(a.useEffect)((function(){R.getGuide(s).then((function(e){p(e.data),w(e.data.title),T(e.data.content),P(e.data.comments)})).catch((function(e){return M(e)}))}),[s]),Object(a.useEffect)((function(){R.getCategory(t).then((function(e){j(e.data)})).catch((function(e){return M(e)}))}),[t]),i&&h&&m&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{disableButton:!0,disableSearch:!0,user:i}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:i})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsx)("div",{className:"py-8 xl:py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 xl:max-w-5xl xl:grid xl:grid-cols-3",children:[Object(u.jsx)("div",{className:"xl:col-span-2 xl:pr-8 xl:border-r xl:border-gray-200",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"md:flex md:items-center md:justify-between md:space-x-4 xl:border-b xl:pb-6",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:N}),Object(u.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["By",Object(u.jsx)(g.b,{to:"/profile/".concat(h.creator.id),className:"font-medium text-gray-900",children:" "+h.creator.username})]})]}),Object(u.jsx)("div",{className:"mt-4 flex space-x-3 md:mt-0",children:(h.creator.id===i.id||"ADMIN"===i.accountType)&&Object(u.jsx)(Ft,{categoryId:t,setCategory:j,guide:h,setGuide:p})})]}),Object(u.jsxs)("aside",{className:"mt-8 xl:hidden",children:[Object(u.jsx)("h2",{className:"sr-only",children:"Details"}),Object(u.jsxs)("div",{className:"space-y-5",children:[Object(u.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(u.jsx)(y.d,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsxs)("span",{className:"text-gray-900 text-sm font-medium",children:[h.comments.length," comments"]})]}),Object(u.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(u.jsx)(y.c,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsxs)("span",{className:"text-gray-900 text-sm font-medium",children:["Created on ",X()(h.dateCreated.slice(0,-5)).format("MMM Do, YYYY")]})]})]}),Object(u.jsx)("div",{className:"mt-6 border-t border-b border-gray-200 py-6 space-y-8",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Category"}),Object(u.jsx)("ul",{className:"mt-2 leading-8",children:Object(u.jsx)("li",{className:"inline",children:Object(u.jsxs)(g.b,{to:"/categories/".concat(t,"/guides"),className:"relative inline-flex items-center rounded-full border border-gray-300 px-3 py-0.5",children:[Object(u.jsx)("div",{className:"absolute flex-shrink-0 flex items-center justify-center",children:Object(u.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-rose-500","aria-hidden":"true"})}),Object(u.jsx)("div",{className:"ml-3.5 text-sm font-medium text-gray-900",children:m.name.charAt(0).toUpperCase()+m.name.slice(1)})]})})})]})})]}),Object(u.jsx)("img",{src:h.pictureUrl,alt:""}),Object(u.jsxs)("div",{className:"py-3 xl:pt-6 xl:pb-0",children:[Object(u.jsx)("h2",{className:"sr-only",children:"Content"}),Object(u.jsx)("div",{className:"prose max-w-none",children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:C}})})]}),Object(u.jsx)(Ut,{user:i,comments:I,guideId:s,setGuide:p,setComments:P})]})})}),Object(u.jsxs)("aside",{className:"hidden xl:block xl:pl-8",children:[Object(u.jsx)("h2",{className:"sr-only",children:"Details"}),Object(u.jsxs)("div",{className:"space-y-5",children:[Object(u.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(u.jsx)(y.d,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsxs)("span",{className:"text-gray-900 text-sm font-medium",children:[h.comments.length," comments"]})]}),Object(u.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(u.jsx)(y.c,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"}),Object(u.jsxs)("span",{className:"text-gray-900 text-sm font-medium",children:["Created on ",X()(h.dateCreated.slice(0,-5)).format("MMM D, YYYY")]})]})]}),Object(u.jsx)("div",{className:"mt-6 border-t border-gray-200 py-6 space-y-8",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Category"}),Object(u.jsx)("ul",{className:"mt-2 leading-8",children:Object(u.jsx)("li",{className:"inline",children:Object(u.jsxs)(g.b,{to:"/categories/".concat(t,"/guides"),className:"relative inline-flex items-center rounded-full border border-gray-300 px-3 py-0.5",children:[Object(u.jsx)("div",{className:"absolute flex-shrink-0 flex items-center justify-center",children:Object(u.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-rose-500","aria-hidden":"true"})}),Object(u.jsx)("div",{className:"ml-3.5 text-sm font-medium text-gray-900",children:m.name.charAt(0).toUpperCase()+m.name.slice(1)})]})})})]})})]})]})})})]})})]})}function Bt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function Dt(e){var t=e.options,s=e.category,c=e.setCategory;return s&&Object(u.jsx)(C.a,{value:s,onChange:c,children:function(e){var c=e.open;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.a.Label,{className:"block text-sm font-medium text-gray-700",children:"Category"}),Object(u.jsxs)("div",{className:"relative",children:[Object(u.jsxs)(C.a.Button,{className:"mt-1 bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:s.name.charAt(0)+s.name.slice(1)}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{show:c,as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:t.length?t.map((function(e){return Object(u.jsx)(C.a.Option,{className:function(e){return Bt(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:Bt(s?"font-semibold":"font-normal","block truncate"),children:e.name}),s?Object(u.jsx)("span",{className:Bt(a?"text-white":"text-rose-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)})):Object(u.jsx)(C.a.Option,{className:function(e){return Bt(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:null,children:"No categories"},"No categories")})})]})]})}})}var Mt={bucketName:"nustart",region:"ap-southeast-1",accessKeyId:"AKIARTYBCSQYJNUGQWLJ",secretAccessKey:"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"};function Lt(){var e=Object(n.g)(),t=Object(a.useState)(null),s=Object(f.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)(null),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)([]),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(a.useState)(""),p=Object(f.a)(h,2),g=p[0],O=p[1],v=Object(a.useState)(null),y=Object(f.a)(v,2),N=y[0],w=y[1],S=Object(a.useState)(null),k=Object(f.a)(S,2),C=k[0],T=k[1],F=Object(a.useState)((function(){return W.EditorState.createEmpty()})),E=Object(f.a)(F,2),I=E[0],P=E[1],D=function(){var e=Object($.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(ne.uploadFile)(t,Mt).then((function(e){M(e.location)})).catch((function(e){return w(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";R.createGuide(o.id,{title:g,content:H()(Object(W.convertToRaw)(I.getCurrentContent())),creator:c,pictureUrl:t}).then((function(){return e.goBack()})).catch((function(e){return w(e)}))}return Object(a.useEffect)((function(){R.getUser().then((function(e){return r(e.data)})).catch((function(e){return w(e)}))}),[]),Object(a.useEffect)((function(){R.getCategories().then((function(e){b(e.data),d(e.data[0])})).catch((function(e){return w(e)}))}),[]),N?"Error: ".concat(N.message):c&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{disableButton:!0,disableSearch:!0,user:c}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:c})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsx)("div",{className:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),null===C?M():D(C),alert("Successfully created guide.")},children:Object(u.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[Object(u.jsxs)("div",{className:"bg-white py-6 px-4 space-y-6 sm:p-6",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"New guide"})}),Object(u.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)(B,{type:"text",name:"title",id:"title",label:"Title",autoComplete:"title",autoFocus:!0,required:!0,value:g,onChange:function(e){return O(e.target.value)}})}),Object(u.jsx)("div",{className:"col-span-3 sm:col-span-1",children:Object(u.jsx)(Dt,{options:x,category:o,setCategory:d})}),Object(u.jsx)("div",{className:"col-span-3",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium text-gray-700",children:"Body"}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("div",{className:"shadow block w-full sm:text-sm rounded-md",style:{padding:"10px",minHeight:"400px"},children:Object(u.jsx)(V.Editor,{editorState:I,onEditorStateChange:P})})})]})}),Object(u.jsxs)("div",{className:"col-span-3",children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cover photo"}),C?Object(u.jsxs)("div",{className:"relative inline-flex items-center rounded-full border border-gray-300 px-3 py-0.5 ",children:[C.name,Object(u.jsx)("button",{className:"text-gray-700",onClick:function(){return T(null)},children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-1 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):Object(u.jsx)("div",{children:Object(u.jsx)(ie,{handleFileInput:function(e){T(e.target.files[0])},accept:".jpg, .png, .gif"})})]})]})]}),Object(u.jsx)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:Object(u.jsx)("button",{type:"submit",className:"bg-rose-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Create"})})]})})})})]})})]})}function zt(e){var t=e.item,s=e.open,c=e.setOpen,r=Object(a.useState)(t.title),n=Object(f.a)(r,2),i=n[0],l=n[1],o=Object(a.useState)(null),d=Object(f.a)(o,2);d[0],d[1];Object(a.useEffect)((function(){R.getCategory(t.id).then((function(e){l(e.data.name)}))}),[t]);return Object(u.jsx)(w.a.Root,{show:s,as:a.Fragment,children:Object(u.jsx)(ve.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:c,children:Object(u.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(ve.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),""!==i&&(t.name=i,R.editCategory(t.id,t),c(!1),alert("Successfully edited category."))},children:Object(u.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[Object(u.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[Object(u.jsx)(ve.a.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Edit category"}),Object(u.jsx)("div",{className:"mt-2 gap-6 text-left",children:Object(u.jsx)(B,{type:"text",name:"title",id:"title",label:"Title",autoComplete:"title",required:!0,value:i,onChange:function(e){return l(e.target.value)}})})]}),Object(u.jsx)("div",{className:"mt-5 sm:mt-6",children:Object(u.jsx)("button",{type:"submit",className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-rose-600 text-base font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 sm:text-sm",children:"Done"})})]})})})]})})})}var Gt=["action","cat"];function Rt(e){var t=e.action,s=void 0===t?"delete":t,c=e.cat,r=Object(l.a)(e,Gt);return Object(u.jsx)(w.a.Root,{show:r.open,as:a.Fragment,children:Object(u.jsx)(ve.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:r.setOpen,children:Object(u.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(ve.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(u.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(u.jsx)(w.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(u.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[Object(u.jsx)("div",{className:"hidden sm:block absolute top-0 right-0 pt-4 pr-4",children:Object(u.jsxs)("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){return r.setOpen(!1)},children:[Object(u.jsx)("span",{className:"sr-only",children:"Close"}),Object(u.jsx)(v.s,{className:"h-6 w-6","aria-hidden":"true"})]})}),Object(u.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(u.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:Object(u.jsx)(v.j,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),Object(u.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(u.jsx)(ve.a.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"".concat(s.charAt(0).toUpperCase()+s.slice(1)," ").concat(r.title)}),Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to ",s," ",r.title,"?"]})})]})]}),Object(u.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[Object(u.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){r.onConfirm(c.id),r.setOpen(!1)},children:s.charAt(0).toUpperCase()+s.slice(1)}),Object(u.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:function(){r.setOpen(!1)},children:"Cancel"})]})]})})]})})})}function qt(e){var t=e.items,s=(e.setSearchString,e.dataLimit),c=Object(a.useState)(!1),r=Object(f.a)(c,2),n=r[0],i=r[1],l=Object(a.useState)(!1),o=Object(f.a)(l,2),d=o[0],m=o[1],j=Object(a.useState)(null),x=Object(f.a)(j,2),b=x[0],h=x[1],p=Object(a.useState)(null),O=Object(f.a)(p,2),v=O[0],y=O[1],N=Object(a.useState)(null),w=Object(f.a)(N,2),S=(w[0],w[1]),k=Object(a.useState)(Math.ceil(t.length/s)),C=Object(f.a)(k,2),T=C[0],F=C[1],E=Object(a.useState)(1),A=Object(f.a)(E,2),I=A[0],U=A[1],P=I*s-s,B=P+s;return Object(a.useEffect)((function(){F(Math.ceil(t.length/s))}),[t.length,s]),Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("div",{className:"flex flex-col",children:Object(u.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(u.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:t&&t.length?Object(u.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(u.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(u.jsx)("thead",{className:"bg-gray-50",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guides"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),Object(u.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(u.jsx)("span",{className:"sr-only",children:"Options"})})]})}),Object(u.jsx)("tbody",{children:function(){var e=I*s-s,a=e+s;return t.slice(e,a)}().map((function(e,t){return Object(u.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Object(u.jsx)(g.b,{to:"/profile/".concat(e.id),className:"hover:underline",children:e.name})}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.guides.length}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X()(e.created.slice(0,-5)).format("MMMM Do YYYY [at] h:mm a")}),Object(u.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[Object(u.jsx)("button",{className:"text-rose-600 hover:text-rose-900",onClick:function(){y(e),m(!0)},children:"Edit"}),Object(u.jsx)("button",{className:"ml-5 text-rose-600 hover:text-rose-900",onClick:function(){h(e),i(!0)},children:"Delete"})]})]},e.id)}))}),Object(u.jsx)("tfoot",{className:"bg-gray-50",children:Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:"6",children:Object(u.jsxs)("nav",{className:"overflow-hidden px-4 py-3 flex items-center justify-between sm:px-6","aria-label":"Pagination",children:[Object(u.jsx)("div",{className:"hidden sm:block",children:Object(u.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",Object(u.jsx)("span",{className:"font-medium",children:P+1})," to ",Object(u.jsx)("span",{className:"font-medium",children:t.length>B?B:t.length})," of"," ",Object(u.jsx)("span",{className:"font-medium",children:t.length})," results"]})}),Object(u.jsxs)("div",{className:"flex-1 flex justify-between sm:justify-end",children:[1!==I&&Object(u.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:function(){return U((function(e){return e-1}))},children:"Previous"}),I!==T&&T>1&&Object(u.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:function(){return U((function(e){return e+1}))},children:"Next"})]})]})})})})]})}):Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No categories"})})})})}),b&&Object(u.jsx)(Rt,{title:"category",open:n,setOpen:i,cat:b,onConfirm:function(e){R.deleteCategory(e).then((function(){return window.location.reload()})).catch((function(e){return S(e)}))}}),v&&Object(u.jsx)(zt,{item:v,open:d,setOpen:m})]})}var Yt=[{id:1,name:"Name",searchType:"name"}];function Ht(){var e=Object(n.i)().url,t=Object(a.useState)(null),s=Object(f.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)([]),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(!0),j=Object(f.a)(m,2),x=(j[0],j[1],Object(a.useState)(null)),b=Object(f.a)(x,2),h=b[0],g=b[1],O=Object(a.useState)("created"),v=Object(f.a)(O,2),y=v[0],N=(v[1],Object(a.useState)("")),w=Object(f.a)(N,2),S=w[0],k=w[1],C=Object(a.useState)(Yt[0]),T=Object(f.a)(C,2),F=T[0],E=T[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return r(e.data)})).catch((function(e){return g(e)}))}),[]),Object(a.useEffect)((function(){R.getCategories().then((function(e){!function(t,s,a){var c={created:"created",name:"name"}[t],r={name:"name"}[a],n=Object(p.a)(e.data).filter((function(e){return""===s||e[r].toLowerCase().includes(s.toLowerCase())?e:void 0})),i=Object(p.a)(n).sort((function(e,t){return t[c].localeCompare(e[c])}));d(i)}(y,S,F.searchType)})).catch((function(e){return g(e)}))}),[y,S,F.searchType]),h?"Error: ".concat(h.message):c&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"forum",disableButton:"ADMIN"!==c.accountType,component:Object(u.jsx)(Oe,{content:"category",path:"".concat(e,"/create")}),user:c,searchString:S,setSearchString:k,searchTypes:Yt,searchType:F,setSearchType:E}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:c})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("h1",{className:"sr-only",children:"Categories"}),Object(u.jsx)(qt,{items:o,dataLimit:10})]})})]})})]})}function Vt(){var e=Object(n.g)(),t=Object(a.useState)(null),s=Object(f.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)(""),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(null),j=Object(f.a)(m,2),x=(j[0],j[1]);return Object(a.useEffect)((function(){R.getUser().then((function(e){return r(e.data)})).catch((function(e){return x(e)}))}),[]),c&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{disableButton:!0,disableSearch:!0,user:c}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:c})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsx)("div",{className:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9",children:Object(u.jsx)("form",{onSubmit:function(t){t.preventDefault(),R.createCategory({name:o,guides:[],creator:c}).then((function(){return e.goBack()})).catch((function(e){return x(e)})),alert("Successfully created category.")},children:Object(u.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[Object(u.jsxs)("div",{className:"bg-white py-6 px-4 space-y-6 sm:p-6",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"New Category"})}),Object(u.jsx)("div",{className:"grid grid-cols-3 gap-6",children:Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)(B,{type:"text",name:"title",id:"title",label:"Title",autoComplete:"title",autoFocus:!0,required:!0,value:o,onChange:function(e){return d(e.target.value)}})})})]}),Object(u.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:[Object(u.jsx)("button",{type:"button",className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",onClick:function(){return e.goBack()},children:"Cancel"}),Object(u.jsx)("button",{type:"submit",className:"ml-5 bg-rose-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Create"})]})]})})})})]})})]})}function Wt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function Jt(e){var t=e.id,s=e.title,a=e.creator,c=e.created,r=e.guide,i=Object(n.i)().url;return Object(u.jsx)(g.b,{to:"".concat(i,"/").concat(t),children:Object(u.jsxs)("article",{"aria-labelledby":"guide-title-"+t,children:[Object(u.jsxs)("div",{className:"flex",children:[""!==r.pictureUrl&&Object(u.jsx)("div",{className:"mr-5 flex-1",children:Object(u.jsx)("img",{src:r.pictureUrl,alt:"",className:Wt(r.current?"":"group-hover:opacity-75","object-cover pointer-events-none")})}),Object(u.jsxs)("div",{className:"flex-1",children:[Object(u.jsxs)("div",{className:"flex space-x-3",children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:"default"===r.creator.profilePicture?Object(u.jsx)("div",{className:"flex justify-center items-center content-center bg-gradient-to-br from-rose-300 to-rose-600 shadow-md hover:shadow-lg h-10 w-10 rounded-full fill-current text-white",children:Object(u.jsx)("h2",{className:"text-xs",children:r.creator.username.substring(0,1)})}):Object(u.jsx)("img",{className:"h-10 w-10 rounded-full",src:r.creator.profilePicture,alt:r.creator.username.substring(0,1)})}),Object(u.jsxs)("div",{className:"min-w-0 flex-1",children:[Object(u.jsx)("p",{className:"text-sm font-medium text-gray-900",children:Object(u.jsx)(g.b,{to:"/profile/".concat(a.id),className:"hover:underline",children:a.username})}),Object(u.jsx)("p",{className:"text-sm text-gray-500",children:Object(u.jsx)("p",{className:"hover:underline",children:X()().subtract(X()().diff(c.slice(0,-5))).calendar()})})]})]}),Object(u.jsx)("h2",{id:"guide-title-"+t,className:"mt-4 text-base font-medium text-gray-900",children:s})]})]}),Object(u.jsx)("div",{className:"mt-6 flex justify-between space-x-8",children:Object(u.jsx)("div",{className:"flex space-x-6",children:Object(u.jsx)("span",{className:"inline-flex items-center text-sm",children:Object(u.jsxs)("button",{type:"button",className:"inline-flex space-x-2 text-gray-400 hover:text-gray-500",children:[Object(u.jsx)(y.d,{className:"h-5 w-5","aria-hidden":"true"}),Object(u.jsx)("span",{className:"font-medium text-gray-900",children:r.comments.length}),Object(u.jsx)("span",{className:"sr-only",children:"comments"})]})})})})]})})}function Kt(e){var t=e.user,s=e.items,a=e.setGuides;return s&&s.length?Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("h1",{className:"sr-only",children:"Guides"}),Object(u.jsx)("ul",{className:"space-y-4",children:s.map((function(e){return Object(u.jsx)("li",{className:"bg-white px-4 py-6 shadow sm:p-6 sm:rounded-lg",children:Object(u.jsx)(Jt,{user:t,id:e.id,title:e.title,content:e.content,creator:e.creator,created:e.dateCreated,setGuides:a,guide:e})},e.id)}))})]}):Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(u.jsx)("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),Object(u.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No guides"}),"STUDENT"!==t.accountType&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new guide."}),Object(u.jsx)("div",{className:"mt-6",children:Object(u.jsx)(g.b,{to:"/createGuide",children:Object(u.jsxs)("button",{className:"ml-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:[Object(u.jsx)(y.m,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"New Guide"]})})})]})]})}var Zt=[{id:1,name:"Recent",sortType:"dateCreated",reverse:!1},{id:2,name:"Title",sortType:"title",reverse:!0}],Qt=[{id:1,name:"Title",searchType:"title"},{id:2,name:"Creator",searchType:"creator"}];function $t(){var e=Object(n.h)().id,t=Object(a.useState)(null),s=Object(f.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)([]),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(null),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(a.useState)([]),g=Object(f.a)(h,2),O=g[0],v=g[1],y=Object(a.useState)(null),N=Object(f.a)(y,2),w=N[0],S=N[1],k=Object(a.useState)(null),C=Object(f.a)(k,2),T=C[0],F=C[1],E=Object(a.useState)(Zt[0]),I=Object(f.a)(E,2),P=I[0],B=I[1],D=Object(a.useState)(""),M=Object(f.a)(D,2),L=M[0],z=M[1],G=Object(a.useState)(Qt[0]),q=Object(f.a)(G,2),Y=q[0],H=q[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return r(e.data)})).catch((function(e){return S(e)}))}),[]),Object(a.useEffect)((function(){R.getCategories().then((function(t){v(t.data),F(t.data.find((function(t){return t.id==e})))})).catch((function(e){return S(e)}))}),[e,P,L,Y.searchType]),Object(a.useEffect)((function(){R.getCategory(e).then((function(e){!function(t,s,a){var c={dateCreated:"dateCreated",title:"title"}[t],r={title:"title",creator:"creator"}[a],n=Object(p.a)(e.data.guides).filter((function(e){if(""===s)return e;if("creator"===r){if(e[r].username.toLowerCase().includes(s.toLowerCase()))return e}else if(e[r].replace(/(<([^>]+)>)/gi,"").toLowerCase().includes(s.toLowerCase()))return e})),i=Object(p.a)(n).sort((function(e,t){return t[c].localeCompare(e[c])||t.dateCreated.localeCompare(e.dateCreated)}));d(i)}(P.sortType,L,Y.searchType),b(e.data)})).catch((function(e){return S(e)}))}),[e,P.sortType,L,Y.searchType]),w?"Error: ".concat(w.message):c&&x&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"guide",disableButton:"STUDENT"===c.accountType,component:Object(u.jsx)(Oe,{content:"guide",path:"/createGuide"}),user:c,searchString:L,setSearchString:z,searchTypes:Qt,searchType:Y,setSearchType:H}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:c})}),Object(u.jsxs)("main",{className:"lg:col-span-9 xl:col-span-10",children:[Object(u.jsx)("div",{className:"px-4 sm:px-0 flex",children:O.length&&T&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mr-20 flex-1",children:Object(u.jsx)(wt,{categories:O,selected:T,setSelected:F})}),Object(u.jsx)("div",{className:"flex-1",children:Object(u.jsx)(Fe,{options:Zt,sortType:P,setSortType:B})})]})}),Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("h1",{className:"sr-only",children:"Guides"}),Object(u.jsx)(nt,{data:o,component:Kt,dataLimit:10,setGuides:d,user:c})]})]})]})})]})}var _t=["placeholder","required","autoFocus"];function Xt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function es(e){var t=e.placeholder,s=void 0===t?"":t,a=e.required,c=void 0!==a&&a,r=e.autoFocus,n=void 0!==r&&r,i=Object(l.a)(e,_t);return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"input",className:"block text-sm font-medium text-gray-700",children:i.label}),Object(u.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(u.jsx)("input",{type:i.type,name:i.name,id:i.id,className:Xt(i.error?"block w-full pr-10 border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm rounded-md":"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-rose-500 focus:border-rose-500 sm:text-sm"),placeholder:s,autoComplete:i.autoComplete,autoFocus:n,required:c,"aria-invalid":"true","aria-describedby":"input-error",value:i.value,onChange:i.onChange}),i.error&&Object(u.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:Object(u.jsx)(y.i,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})})]}),i.error&&Object(u.jsx)("p",{className:"mt-2 text-sm text-red-600",id:"input-error",children:i.error.message})]})}function ts(){var e=Object(n.g)(),t=Object(a.useState)(null),s=Object(f.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)(""),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(""),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(a.useState)(""),p=Object(f.a)(h,2),g=p[0],O=p[1],v=Object(a.useState)(""),N=Object(f.a)(v,2),w=N[0],S=N[1],k=Object(a.useState)(null),C=Object(f.a)(k,2),T=C[0],F=C[1],E=Object(a.useState)(null),I=Object(f.a)(E,2),P=I[0],D=I[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return r(e.data)})).catch((function(e){return F(e)}))}),[]),c&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{disableButton:!0,disableSearch:!0,user:c}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:c})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsx)("div",{className:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9",children:Object(u.jsx)("form",{onSubmit:function(t){t.preventDefault(),g!==w?F(new Error("Passwords do not match.")):g.match("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")?R.register({email:x,password:g,username:o,accountType:"ADMIN",accountStatus:"ACTIVE",course:"default",coverImage:"default",faculty:"default",yr:"default"}).then((function(){return e.goBack()})).catch((function(e){e.response||D(new Error("Failed to connect to server")),404===e.response.status?D(new Error("Account already exists")):D(new Error("Something went wrong. Please try again later."))})):F(new Error("Passwords must be minimum eight characters long and contain at least one uppercase letter, one lowercase letter, one number and one special character."))},children:Object(u.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[Object(u.jsxs)("div",{className:"bg-white py-6 px-4 space-y-6 sm:p-6",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"New Admin"})}),Object(u.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[P&&Object(u.jsx)("div",{className:"py-4 col-span-3",children:Object(u.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("div",{className:"flex-shrink-0",children:Object(u.jsx)(y.s,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),Object(u.jsxs)("div",{className:"ml-3",children:[Object(u.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"There were errors when attempting to create account"}),Object(u.jsx)("div",{className:"mt-2 text-sm text-red-700",children:P.message})]})]})})}),Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)(B,{label:"Username",id:"username",name:"username",type:"text",autoComplete:"username",value:o,autoFocus:!0,required:!0,onChange:function(e){return d(e.target.value)}})}),Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)(B,{label:"Email address",id:"email",name:"email",type:"email",value:x,autoComplete:"email",required:!0,onChange:function(e){return b(e.target.value)}})}),Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)(es,{label:"Password",id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:g,onChange:function(e){return O(e.target.value)},error:T})}),Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)(es,{label:"Confirm password",id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"current-password",required:!0,value:w,onChange:function(e){return S(e.target.value)},error:T})})]})]}),Object(u.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:[Object(u.jsx)("button",{type:"button",className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",onClick:function(){return e.goBack()},children:"Cancel"}),Object(u.jsx)("button",{type:"submit",className:"ml-5 bg-rose-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Create"})]})]})})})})]})})]})}function ss(){var e=Object(n.g)();return Object(u.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[Object(u.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:Object(u.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://nustart.s3.ap-southeast-1.amazonaws.com/nustartlogo.png",alt:"Workflow"})}),Object(u.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(u.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[Object(u.jsx)("h2",{children:"Staff account is pending approval, please wait."}),Object(u.jsx)("button",{className:"mt-5 group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",onClick:function(){return e.push("/")},children:"Back to sign in"})]})})]})}function as(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function cs(e){var t=e.options,s=e.map,c=e.setMap;return console.log(s),t.length&&s?Object(u.jsx)(C.a,{value:s,onChange:c,children:function(e){var c=e.open;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C.a.Label,{className:"block text-sm font-medium text-gray-700",children:"Maps"}),Object(u.jsxs)("div",{className:"relative",children:[Object(u.jsxs)(C.a.Button,{className:"mt-1 bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"block truncate",children:s.title.charAt(0)+s.title.slice(1)}),Object(u.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(y.o,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(w.a,{show:c,as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(C.a.Options,{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:t.length?t.map((function(e){return Object(u.jsx)(g.b,{to:"/campus/".concat(e.id),children:Object(u.jsx)(C.a.Option,{className:function(e){return as(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:e,children:function(t){var s=t.selected,a=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:as(s?"font-semibold":"font-normal","block truncate"),children:e.title}),s?Object(u.jsx)("span",{className:as(a?"text-white":"text-rose-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:Object(u.jsx)(y.f,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)})})):Object(u.jsx)(C.a.Option,{className:function(e){return as(e.active?"text-white bg-rose-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:null,children:"No categories"},"No sort types")})})]})]})}}):Object(u.jsx)("div",{children:"No maps"})}function rs(){Object(n.i)().url;var e=Object(a.useState)(null),t=Object(f.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)([]),i=Object(f.a)(r,2),l=i[0],o=i[1],d=Object(a.useState)(null),m=Object(f.a)(d,2),j=m[0],x=m[1],b=Object(a.useState)(null),h=Object(f.a)(b,2),p=(h[0],h[1]);return Object(a.useEffect)((function(){R.getUser().then((function(e){return c(e.data)})).catch((function(e){return p(e)}))}),[]),Object(a.useEffect)((function(){R.getMaps().then((function(e){o(e.data),x(e.data[0])})).catch((function(e){return p(e)}))}),[]),s&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"forum",disableButton:!0,user:s,disableSearch:!0}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:s})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:l.length&&j?Object(u.jsx)(cs,{options:l,map:j,setMap:x}):Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(u.jsx)("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),Object(u.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No maps"})]})})]})})]})}var ns={bucketName:"nustart",region:"ap-southeast-1",accessKeyId:"AKIARTYBCSQYJNUGQWLJ",secretAccessKey:"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"};function is(){var e=Object(n.g)(),t=Object(a.useState)(null),s=Object(f.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)(""),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)(null),j=Object(f.a)(m,2),x=(j[0],j[1]),b=Object(a.useState)(null),h=Object(f.a)(b,2),p=h[0],g=h[1],O=function(){var t=Object($.a)(Q.a.mark((function t(s){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(ne.uploadFile)(s,ns).then((function(t){var s;s=t.location,R.createMap({title:o,url:s}).then((function(){return e.goBack()})).catch((function(e){return x(e)}))})).catch((function(e){return x(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){R.getUser().then((function(e){return r(e.data)})).catch((function(e){return x(e)}))}),[]),c&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{disableButton:!0,disableSearch:!0,user:c}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:c})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsx)("div",{className:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),O(p),alert("Successfully created map.")},children:Object(u.jsxs)("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[Object(u.jsxs)("div",{className:"bg-white py-6 px-4 space-y-6 sm:p-6",children:[Object(u.jsx)("div",{children:Object(u.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"New Map"})}),Object(u.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[Object(u.jsx)("div",{className:"col-span-3 sm:col-span-2",children:Object(u.jsx)(B,{type:"text",name:"title",id:"title",label:"Title",autoComplete:"title",autoFocus:!0,required:!0,value:o,onChange:function(e){return d(e.target.value)}})}),Object(u.jsxs)("div",{className:"col-span-3",children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Map"}),p?Object(u.jsxs)("div",{className:"relative inline-flex items-center rounded-full border border-gray-300 px-3 py-0.5 ",children:[p.name,Object(u.jsx)("button",{className:"text-gray-700",onClick:function(){return g(null)},children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-1 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):Object(u.jsx)("div",{children:Object(u.jsx)(ie,{handleFileInput:function(e){g(e.target.files[0])},accept:".jpg, .png, .gif",required:!0})})]})]})]}),Object(u.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:[Object(u.jsx)("button",{type:"button",className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",onClick:function(){return e.goBack()},children:"Cancel"}),Object(u.jsx)("button",{type:"submit",className:"ml-5 bg-rose-600 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:"Create"})]})]})})})})]})})]})}function ls(){Object(n.i)().url;var e=Object(n.h)().id,t=Object(a.useState)(null),s=Object(f.a)(t,2),c=s[0],r=s[1],i=Object(a.useState)(null),l=Object(f.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)([]),j=Object(f.a)(m,2),x=j[0],b=j[1],h=Object(a.useState)(null),p=Object(f.a)(h,2),g=p[0],O=p[1],v=Object(a.useState)(null),y=Object(f.a)(v,2),N=y[0],w=y[1];return Object(a.useEffect)((function(){R.getMap(e).then((function(e){return d(e.data)})).catch((function(e){return w(e)}))}),[e]),Object(a.useEffect)((function(){R.getMaps().then((function(e){b(e.data),O(e.data[0])})).catch((function(e){return w(e)}))}),[]),Object(a.useEffect)((function(){R.getUser().then((function(e){return r(e.data)})).catch((function(e){return w(e)}))}),[]),N?"Error: ".concat(N.message):(console.log(x),c&&o&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"forum",disableButton:!0,user:c,disableSearch:!0}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:c})}),Object(u.jsxs)("main",{className:"lg:col-span-9 xl:col-span-10",children:[x.length&&g&&Object(u.jsx)(cs,{options:x,map:g,setMap:O}),Object(u.jsxs)("div",{className:"mt-4 flex",children:[Object(u.jsx)("h1",{className:"sr-only",children:"map"}),Object(u.jsx)("img",{src:o.url,alt:"",className:"flex-shrink-0 min-w-full"})]})]})]})})]}))}function os(e){var t=e.items,s=(e.setSearchString,e.dataLimit),c=Object(a.useState)(!1),r=Object(f.a)(c,2),n=r[0],i=r[1],l=Object(a.useState)(null),o=Object(f.a)(l,2),d=o[0],m=o[1],j=Object(a.useState)(null),x=Object(f.a)(j,2),b=x[0],h=x[1],p=Object(a.useState)(null),O=Object(f.a)(p,2),v=(O[0],O[1]),y=Object(a.useState)(Math.ceil(t.length/s)),N=Object(f.a)(y,2),w=N[0],S=N[1],k=Object(a.useState)(1),C=Object(f.a)(k,2),T=C[0],F=C[1],E=T*s-s,A=E+s;function I(e){R.deleteMap(e).then((function(){return window.location.reload()})).catch((function(e){return v(e)}))}return Object(a.useEffect)((function(){S(Math.ceil(t.length/s))}),[t.length,s]),Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("div",{className:"flex flex-col",children:Object(u.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(u.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:t&&t.length?Object(u.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(u.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(u.jsx)("thead",{className:"bg-gray-50",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image URL"}),Object(u.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(u.jsx)("span",{className:"sr-only",children:"Options"})})]})}),Object(u.jsx)("tbody",{children:function(){var e=T*s-s,a=e+s;return t.slice(e,a)}().map((function(e,t){return Object(u.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Object(u.jsx)(g.b,{to:"/profile/".concat(e.id),className:"hover:underline",children:e.title})}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.url}),Object(u.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[Object(u.jsx)("button",{className:"text-rose-600 hover:text-rose-900",onClick:function(){h(e),i(!0)},children:"Edit"}),Object(u.jsx)("button",{className:"ml-5 text-rose-600 hover:text-rose-900",onClick:function(){m(e),i(!0)},children:"Delete"})]})]},e.id)}))}),Object(u.jsx)("tfoot",{className:"bg-gray-50",children:Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:"6",children:Object(u.jsxs)("nav",{className:"overflow-hidden px-4 py-3 flex items-center justify-between sm:px-6","aria-label":"Pagination",children:[Object(u.jsx)("div",{className:"hidden sm:block",children:Object(u.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",Object(u.jsx)("span",{className:"font-medium",children:E+1})," to ",Object(u.jsx)("span",{className:"font-medium",children:t.length>A?A:t.length})," of"," ",Object(u.jsx)("span",{className:"font-medium",children:t.length})," results"]})}),Object(u.jsxs)("div",{className:"flex-1 flex justify-between sm:justify-end",children:[1!==T&&Object(u.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:function(){return F((function(e){return e-1}))},children:"Previous"}),T!==w&&w>1&&Object(u.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:function(){return F((function(e){return e+1}))},children:"Next"})]})]})})})})]})}):Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No maps"})})})})}),I&&Object(u.jsx)(Rt,{title:"map",open:n,setOpen:i,cat:d,onConfirm:I}),b&&Object(u.jsx)(zt,{item:b,open:n,setOpen:i})]})}function ds(){Object(n.i)().url;var e=Object(a.useState)(null),t=Object(f.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)([]),i=Object(f.a)(r,2),l=i[0],o=i[1],d=Object(a.useState)(!0),m=Object(f.a)(d,2),j=(m[0],m[1],Object(a.useState)(null)),x=Object(f.a)(j,2),b=x[0],h=x[1];return Object(a.useEffect)((function(){R.getUser().then((function(e){return c(e.data)})).catch((function(e){return h(e)}))}),[]),Object(a.useEffect)((function(){R.getMaps().then((function(e){o(e.data)})).catch((function(e){return h(e)}))}),[]),b?"Error: ".concat(b.message):s&&Object(u.jsxs)("div",{className:"relative min-h-screen bg-gray-100",children:[Object(u.jsx)(A,{buttonContent:"forum",disableButton:"ADMIN"!==s.accountType,component:Object(u.jsx)(Oe,{content:"map",path:"/admin/campus/create"}),user:s,disableSearch:!0}),Object(u.jsx)("div",{className:"py-10",children:Object(u.jsxs)("div",{className:"max-w-3xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(u.jsx)("div",{className:"hidden lg:block lg:col-span-3 xl:col-span-2",children:Object(u.jsx)(U,{user:s})}),Object(u.jsx)("main",{className:"lg:col-span-9 xl:col-span-10",children:Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("h1",{className:"sr-only",children:"Maps"}),Object(u.jsx)(os,{items:l,dataLimit:10})]})})]})})]})}var ms=function(){return Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)(n.d,{children:[Object(u.jsx)(h,{exact:!0,path:"/",component:Ie}),Object(u.jsx)(x,{path:"/login",component:qe}),Object(u.jsx)(x,{path:"/register",component:Je}),Object(u.jsx)(x,{path:"/pending-approval",component:ss}),Object(u.jsx)(h,{exact:!0,path:"/:id/threads",component:Re}),Object(u.jsx)(h,{exact:!0,path:"/:forumId/threads/:threadId/posts",component:ot}),Object(u.jsx)(h,{path:"/create",component:q}),Object(u.jsx)(h,{path:"/:id/threads/create",component:J}),Object(u.jsx)(h,{exact:!0,path:"/profile/:uid",component:ge}),Object(u.jsx)(h,{exact:!0,path:"/users",component:yt}),Object(u.jsx)(h,{path:"/users/create",component:ts}),Object(u.jsx)(h,{path:"/:forumId/threads/:threadId/posts/create",component:K}),Object(u.jsx)(h,{exact:!0,path:"/categories",component:St}),Object(u.jsx)(h,{exact:!0,path:"/categories/:id/guides",component:$t}),Object(u.jsx)(h,{path:"/categories/:categoryId/guides/:guideId",component:Pt}),Object(u.jsx)(h,{path:"/createGuide",component:Lt}),Object(u.jsx)(h,{path:"/admin/categories/create",component:Vt}),Object(u.jsx)(h,{exact:!0,path:"/admin/categories",component:Ht}),Object(u.jsx)(h,{exact:!0,path:"/admin/campus",component:ds}),Object(u.jsx)(h,{exact:!0,path:"/campus",component:rs}),Object(u.jsx)(h,{path:"/campus/:id",component:ls}),Object(u.jsx)(h,{path:"/admin/campus/create",component:is}),Object(u.jsx)(n.a,{exact:!0,from:"/:id",to:"/:id/threads"}),Object(u.jsx)(n.a,{exact:!0,from:"/:forumId/threads/:threadId",to:"/:forumId/threads/:threadId/posts"})]})})},us=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,316)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,n=t.getTTFB;s(e),a(e),c(e),r(e),n(e)}))};r.a.render(Object(u.jsx)(g.a,{children:Object(u.jsx)(ms,{})}),document.getElementById("root")),us()}},[[309,1,2]]]);
//# sourceMappingURL=main.b0a036be.chunk.js.map