{"ast":null,"code":"var _jsxFileName = \"/Users/remuskwan/development/nus/is3106/project/ui/src/app/components/commentsSection/index.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport Comment from \"../comment\";\nimport api from \"../../util/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CommentsSection({\n  user,\n  comments,\n  guideId,\n  setGuide,\n  setComments\n}) {\n  _s();\n\n  const [comment, setComment] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    addComment();\n    setComment(\"\");\n  };\n\n  function addComment() {\n    api.createComment(guideId, {\n      content: comment,\n      creator: user\n    }).then(response => {\n      setGuide(response.data);\n      setComments(response.data.comments);\n    }).catch(error => setError(error));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    \"aria-labelledby\": \"comments-title\",\n    className: \"mt-8 xl:mt-10\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow sm:rounded-lg sm:overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divide-y divide-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:px-6\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            id: \"notes-title\",\n            className: \"text-lg font-medium text-gray-900\",\n            children: \"Comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-6 sm:px-6\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-8\",\n            children: !comments.length ? /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm\",\n                    children: \"No comments\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 42,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 41,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 19\n              }, this)\n            }, \"No comments\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 17\n            }, this) : comments.map(comment => /*#__PURE__*/_jsxDEV(Comment, {\n              user: user,\n              comment: comment,\n              guideId: guideId,\n              setGuide: setGuide,\n              setComments: setComments\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 px-4 py-6 sm:px-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"min-w-0 flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"comment\",\n                  className: \"sr-only\",\n                  children: \"Comments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"comment\",\n                  name: \"comment\",\n                  rows: 3,\n                  className: \"shadow-sm block w-full focus:ring-rose-500 focus:border-rose-500 sm:text-sm border border-gray-300 rounded-md\",\n                  placeholder: \"Write a comment\",\n                  required: true,\n                  value: comment,\n                  onChange: e => setComment(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3 flex items-center justify-end\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\",\n                  children: \"Comment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CommentsSection, \"ID0t+UwWo7gjAL0kZctZwNdCffs=\");\n\n_c = CommentsSection;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentsSection\");","map":{"version":3,"sources":["/Users/remuskwan/development/nus/is3106/project/ui/src/app/components/commentsSection/index.js"],"names":["useState","Comment","api","CommentsSection","user","comments","guideId","setGuide","setComments","comment","setComment","error","setError","handleSubmit","evt","preventDefault","addComment","createComment","content","creator","then","response","data","catch","length","map","e","target","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\"\nimport Comment from \"../comment\"\nimport api from \"../../util/api\"\n\nexport default function CommentsSection({ user, comments, guideId, setGuide, setComments }) {\n  const [comment, setComment] = useState(\"\")\n  const [error, setError] = useState(null)\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault()\n    addComment()\n    setComment(\"\")\n  }\n\n  function addComment() {\n    api.createComment(guideId, {\n      content: comment,\n      creator: user,\n    })\n      .then((response) => {\n        setGuide(response.data)\n        setComments(response.data.comments)\n      })\n      .catch((error) => setError(error))\n  }\n\n  return (\n    <section aria-labelledby=\"comments-title\" className=\"mt-8 xl:mt-10\">\n      <div className=\"bg-white shadow sm:rounded-lg sm:overflow-hidden\">\n        <div className=\"divide-y divide-gray-200\">\n          <div className=\"px-4 py-5 sm:px-6\">\n            <h2 id=\"notes-title\" className=\"text-lg font-medium text-gray-900\">\n              Comments\n            </h2>\n          </div>\n          <div className=\"px-4 py-6 sm:px-6\">\n            <ul className=\"space-y-8\">\n              {!comments.length ?\n                <li key=\"No comments\">\n                  <div className=\"flex space-x-3\">\n                    <div>\n                      <div className=\"text-sm\">\n                        No comments\n                      </div>\n                    </div>\n                  </div>\n                </li>\n                : comments.map((comment) => (\n                  <Comment\n                    user={user}\n                    comment={comment}\n                    guideId={guideId}\n                    setGuide={setGuide}\n                    setComments={setComments} />\n                ))}\n            </ul>\n          </div>\n\n        </div>\n        <div className=\"bg-gray-50 px-4 py-6 sm:px-6\">\n          <div className=\"flex space-x-3\">\n            <div className=\"min-w-0 flex-1\">\n              <form onSubmit={handleSubmit}>\n                <div>\n                  <label htmlFor=\"comment\" className=\"sr-only\">\n                    Comments\n                  </label>\n                  <textarea\n                    id=\"comment\"\n                    name=\"comment\"\n                    rows={3}\n                    className=\"shadow-sm block w-full focus:ring-rose-500 focus:border-rose-500 sm:text-sm border border-gray-300 rounded-md\"\n                    placeholder=\"Write a comment\"\n                    required\n                    value={comment}\n                    onChange={(e) => setComment(e.target.value)}\n                  />\n                </div>\n                <div className=\"mt-3 flex items-center justify-end\">\n                  <button\n                    type=\"submit\"\n                    className=\"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\"\n                  >\n                    Comment\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}"]},"metadata":{},"sourceType":"module"}