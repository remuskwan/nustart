{"ast":null,"code":"var _jsxFileName = \"/Users/remuskwan/development/nus/is3106/project/ui/src/app/components/categoriesTable/index.js\",\n    _s = $RefreshSig$();\n\nimport moment from \"moment\";\nimport { Fragment, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../util/api\";\nimport DeleteConfirm from \"../deleteConfirm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CategoriesTable({\n  user,\n  items,\n  setSearchString,\n  dataLimit\n}) {\n  _s();\n\n  const [open, setOpen] = useState(false);\n  const [deleteCat, setDeleteCat] = useState(null);\n  const [error, setError] = useState(null);\n  const [pages, setPages] = useState(Math.ceil(items.length / dataLimit));\n  const [currentPage, setCurrentPage] = useState(1);\n  const startIndex = currentPage * dataLimit - dataLimit;\n  const endIndex = startIndex + dataLimit;\n\n  const goToNextPage = () => setCurrentPage(page => page + 1);\n\n  const goToPreviousPage = () => setCurrentPage(page => page - 1);\n\n  const getPaginatedData = () => {\n    const startIndex = currentPage * dataLimit - dataLimit;\n    const endIndex = startIndex + dataLimit;\n    return items.slice(startIndex, endIndex);\n  };\n\n  function deleteCategory(categoryId) {\n    api.deleteCategory(categoryId).then(() => setSearchString(\"\")).catch(error => setError(error));\n  }\n\n  useEffect(() => {\n    setPages(Math.ceil(items.length / dataLimit));\n  }, [items.length, dataLimit]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\",\n          children: !items || !items.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"mt-2 text-sm font-medium text-gray-900\",\n              children: \"No categories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full divide-y divide-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 52,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Guides\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 58,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Created\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"relative px-6 py-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"sr-only\",\n                      children: \"Options\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: getPaginatedData().map((item, itemIdx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: itemIdx % 2 === 0 ? 'bg-white' : 'bg-gray-50',\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/profile/${item.id}`,\n                      className: \"hover:underline\",\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                    children: item.guides.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                    children: moment(item.created.slice(0, -5)).format(\"DD/MM/YY\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"text-rose-600 hover:text-rose-900\",\n                      onClick: () => {\n                        setDeleteCat(item);\n                        setOpen(true);\n                      },\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"ml-5 text-rose-600 hover:text-rose-900\",\n                      onClick: () => {\n                        setDeleteCat(item);\n                        setOpen(true);\n                      },\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 27\n                  }, this)]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                      className: \"overflow-hidden px-4 py-3 flex items-center justify-between sm:px-6\",\n                      \"aria-label\": \"Pagination\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"hidden sm:block\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-700\",\n                          children: [\"Showing \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium\",\n                            children: startIndex + 1\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 122,\n                            columnNumber: 41\n                          }, this), \" to \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium\",\n                            children: items.length > endIndex ? endIndex : items.length\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 122,\n                            columnNumber: 98\n                          }, this), \" of\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium\",\n                            children: items.length\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 123,\n                            columnNumber: 33\n                          }, this), \" results\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 121,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1 flex justify-between sm:justify-end\",\n                        children: [currentPage !== 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",\n                          onClick: goToPreviousPage,\n                          children: \"Previous\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 128,\n                          columnNumber: 33\n                        }, this), currentPage !== pages && pages > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",\n                          onClick: goToNextPage,\n                          children: \"Next\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 136,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 126,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), deleteCat && /*#__PURE__*/_jsxDEV(DeleteConfirm, {\n      title: \"category\",\n      open: open,\n      setOpen: setOpen,\n      cat: deleteCat,\n      onConfirm: deleteCategory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CategoriesTable, \"3w1r0XQF/ovpFI7gc5gMfnmyBss=\");\n\n_c = CategoriesTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoriesTable\");","map":{"version":3,"sources":["/Users/remuskwan/development/nus/is3106/project/ui/src/app/components/categoriesTable/index.js"],"names":["moment","Fragment","useState","useEffect","Link","api","DeleteConfirm","CategoriesTable","user","items","setSearchString","dataLimit","open","setOpen","deleteCat","setDeleteCat","error","setError","pages","setPages","Math","ceil","length","currentPage","setCurrentPage","startIndex","endIndex","goToNextPage","page","goToPreviousPage","getPaginatedData","slice","deleteCategory","categoryId","then","catch","map","item","itemIdx","id","name","guides","created","format"],"mappings":"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","sourcesContent":["import moment from \"moment\";\nimport { Fragment, useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\";\nimport api from \"../../util/api\";\nimport DeleteConfirm from \"../deleteConfirm\";\n\nexport default function CategoriesTable({ user, items, setSearchString, dataLimit }) {\n  const [open, setOpen] = useState(false)\n  const [deleteCat, setDeleteCat] = useState(null)\n  const [error, setError] = useState(null);\n  const [pages, setPages] = useState(Math.ceil(items.length / dataLimit))\n  const [currentPage, setCurrentPage] = useState(1)\n\n  const startIndex = currentPage * dataLimit - dataLimit\n  const endIndex = startIndex + dataLimit\n\n  const goToNextPage = () => setCurrentPage((page) => page + 1)\n  const goToPreviousPage = () => setCurrentPage((page) => page - 1)\n\n  const getPaginatedData = () => {\n    const startIndex = currentPage * dataLimit - dataLimit\n    const endIndex = startIndex + dataLimit\n    return items.slice(startIndex, endIndex)\n  \n}\n  function deleteCategory(categoryId) {\n    api.deleteCategory(categoryId)\n      .then(() => setSearchString(\"\"))\n      .catch(error => setError(error))\n  }\n\n  useEffect(() => {\n    setPages(Math.ceil(items.length / dataLimit))\n  }, [items.length, dataLimit])\n\n  return (\n    <Fragment>\n      <div className=\"flex flex-col\">\n        <div className=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n          <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\n            {!items || !items.length\n              ? (\n                <div className=\"text-center\">\n                  <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No categories</h3>\n                </div>\n              )\n              : (\n                <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        <th\n                          scope=\"col\"\n                          className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                        >\n                          Name\n                        </th>\n                        <th\n                          scope=\"col\"\n                          className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                        >\n                          Guides\n                        </th>\n                        <th\n                          scope=\"col\"\n                          className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                        >\n                          Created\n                        </th>\n                        {/* <th scope=\"col\" className=\"relative px-6 py-3\">\n                          <span className=\"sr-only\">Edit</span>\n                        </th> */}\n                        <th scope=\"col\" className=\"relative px-6 py-3\">\n                          <span className=\"sr-only\">Options</span>\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {getPaginatedData().map((item, itemIdx) => (\n                        <tr key={item.id} className={itemIdx % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                            <Link to={`/profile/${item.id}`} className=\"hover:underline\">\n                              {item.name}\n                            </Link>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{item.guides.length}</td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {moment(item.created.slice(0, -5)).format(\"DD/MM/YY\")}\n                          </td>\n                          {/* <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                          </td> */}\n                          <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                            <button\n                              className=\"text-rose-600 hover:text-rose-900\"\n                              onClick={() => {\n                                setDeleteCat(item)\n                                setOpen(true)\n                              }}>\n                              Edit\n                            </button>\n                            <button\n                              className=\"ml-5 text-rose-600 hover:text-rose-900\"\n                              onClick={() => {\n                                setDeleteCat(item)\n                                setOpen(true)\n                              }}>\n                              Delete\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                    <tfoot className=\"bg-gray-50\">\n                      <tr>\n                        <td colSpan=\"6\">\n                          <nav\n                            className=\"overflow-hidden px-4 py-3 flex items-center justify-between sm:px-6\"\n                            aria-label=\"Pagination\"\n                          >\n                            <div className=\"hidden sm:block\">\n                              <p className=\"text-sm text-gray-700\">\n                                Showing <span className=\"font-medium\">{startIndex + 1}</span> to <span className=\"font-medium\">{items.length > endIndex ? (endIndex) : items.length}</span> of{' '}\n                                <span className=\"font-medium\">{items.length}</span> results\n                              </p>\n                            </div>\n                            <div className=\"flex-1 flex justify-between sm:justify-end\">\n                              {currentPage !== 1 &&\n                                <button\n                                  className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                                  onClick={goToPreviousPage}\n                                >\n                                  Previous\n                                </button>\n                              }\n                              {(currentPage !== pages && pages > 1) &&\n                                <button\n                                  className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                                  onClick={goToNextPage}\n                                >\n                                  Next\n                                </button>\n                              }\n                            </div>\n                          </nav>\n                        </td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              )}\n          </div>\n        </div>\n      </div>\n      {deleteCat &&\n        <DeleteConfirm\n          title=\"category\"\n          open={open}\n          setOpen={setOpen}\n          cat={deleteCat}\n          onConfirm={deleteCategory}\n        />\n      }\n      {/* {editCat &&\n      <EditThreadModal\n      open={openEdit}\n      setOpen={setOpenEdit}\n      category={category}\n      setCategory={setCategory}\n      setNotifTitle={setNotifTitle}\n      triggerNotification={triggerNotification}\n    />\n        } */}\n\n    </Fragment>\n  )\n}"]},"metadata":{},"sourceType":"module"}