{"ast":null,"code":"var _jsxFileName = \"/Users/remuskwan/development/nus/is3106/project/ui/src/app/containers/RegisterPage/index.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Listbox, Transition } from '@headlessui/react';\nimport { CheckIcon, SelectorIcon } from '@heroicons/react/solid';\nimport ContactForm from '../../components/contacts/ContactForm';\nimport ContactList from '../../components/contacts/ContactList';\nimport api from '../../util/api';\nimport { setUserSession } from '../../util/Common';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst accountType = [{\n  id: 1,\n  name: 'Student'\n}, {\n  id: 2,\n  name: 'Staff'\n}];\nconst faculties = [{\n  id: 1,\n  name: 'Arts & Social Sciences'\n}, {\n  id: 2,\n  name: 'Business'\n}, {\n  id: 3,\n  name: 'Computing'\n}, {\n  id: 4,\n  name: 'Continuing and Lifelong Education'\n}, {\n  id: 5,\n  name: 'Dentistry'\n}, {\n  id: 6,\n  name: 'Design & Environment'\n}, {\n  id: 7,\n  name: 'Duke-NUS'\n}, {\n  id: 8,\n  name: 'Engineering'\n}, {\n  id: 9,\n  name: 'Integrative Sciences & Engineering'\n}, {\n  id: 10,\n  name: 'Law'\n}, {\n  id: 11,\n  name: 'Medicine'\n}, {\n  id: 12,\n  name: 'Music'\n}, {\n  id: 13,\n  name: 'Public Health'\n}, {\n  id: 14,\n  name: 'Public Policy'\n}, {\n  id: 15,\n  name: 'Science'\n}, {\n  id: 16,\n  name: 'University Scholars Program'\n}, {\n  id: 17,\n  name: 'Yale-NUS'\n}];\nconst years = [{\n  id: 1,\n  name: '1'\n}, {\n  id: 2,\n  name: '2'\n}, {\n  id: 3,\n  name: '3'\n}, {\n  id: 4,\n  name: '4'\n}, {\n  id: 5,\n  name: '5'\n}, {\n  id: 6,\n  name: 'Part-time'\n}, {\n  id: 7,\n  name: 'Graduate'\n}, {\n  id: 8,\n  name: 'PhD'\n}];\n\nfunction classNames(...classes) {\n  return classes.filter(Boolean).join(' ');\n}\n\nexport default function RegisterPage() {\n  _s();\n\n  const history = useHistory();\n  const [position, setPosition] = useState(accountType[0]);\n  const [faculty, setFaculty] = useState(faculties[0]);\n  const [year, setYear] = useState(years[0]);\n  const [course, setCourse] = useState(\"\");\n  const [contactList, setContactsList] = useState({\n    contacts: [],\n    currentId: 0\n  });\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n  useEffect(async () => {\n    const size = await api.getContactSize();\n    setContactsList({\n      contacts: [],\n      currentId: size.data + 1\n    });\n  }, []);\n\n  function handleEdit(id, editMode) {\n    const {\n      contacts\n    } = contactList;\n    const updatedContacts = contacts.map(n => {\n      if (n.id === id) {\n        n.editMode = editMode;\n      }\n\n      return n;\n    });\n    setContactsList(oldContactList => ({\n      currentId: oldContactList.currentId,\n      contacts: updatedContacts\n    }));\n  } //end handleEdit\n\n\n  function handleDelete(id) {\n    const {\n      contacts\n    } = contactList;\n    const updatedContacts = contacts.filter(n => {\n      return n.id !== id;\n    });\n    setContactsList(oldContactList => ({\n      currentId: oldContactList.currentId,\n      contacts: updatedContacts\n    })); //console.log(\"###updatedContacts: \", updatedContacts);\n  } //end handleDelete\n\n\n  function handleAddEdit(contact) {\n    //console.log(\"###in handleAddEdit \", contact);\n    const {\n      currentId,\n      contacts\n    } = contactList;\n\n    if (contact.id === 0) {\n      //add action\n      if (contact.value.trim() === \"\") return;\n      contact.id = currentId + 1;\n      setContactsList({\n        currentId: contact.id,\n        contacts: [...contacts, contact]\n      });\n    } else {\n      //edit action\n      if (contact.value.trim() === \"\") {\n        //cancel edit\n        handleEdit(contact.id, false);\n        return;\n      } else {\n        //find the note\n        const updatedContacts = contacts.map(n => {\n          if (n.id === contact.id) {\n            contact.editMode = false;\n            return contact;\n          } else {\n            return n;\n          }\n        });\n        setContactsList(oldContactList => ({\n          currentId: oldContactList.currentId,\n          contacts: updatedContacts\n        }));\n      }\n    }\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    if (password !== confirmPassword) {\n      setError(new Error(\"Passwords do not match.\"));\n    } else if (!password.match(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)(?=.*[@$!%*?&])[A-Za-z\\\\d@$!%*?&]{8,}$\")) {\n      setError(new Error(\"Passwords must be minimum eight characters long and contain at least one uppercase letter, one lowercase letter, one number and one special character.\"));\n    } else {\n      register();\n    }\n  }\n\n  function register() {\n    //console.log(position.id === 1)\n    api.register({\n      email: email,\n      password: password,\n      username: `${firstName} ${lastName}`,\n      accountType: position.id === 1 ? 'STUDENT' : 'STAFF',\n      accountStatus: position.id === 1 ? 'ACTIVE' : 'UNAPPROVED',\n      faculty: faculty.name,\n      yr: year.name,\n      course: course,\n      contacts: contactList.contacts\n    }).then(response => {\n      setUserSession({\n        userId: response.data\n      });\n    }).then(() => history.push(\"/\")).catch(error => {\n      if (error.response.status === 404) setError(error.response.data.message);else setError(\"Something went wrong. Please try again later.\");\n    });\n  }\n\n  const {\n    contacts\n  } = contactList;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-md w-full space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"mx-auto h-12 w-auto\",\n            src: \"https://tailwindui.com/img/logos/workflow-mark.svg?color=rose&shade=500\",\n            alt: \"Workflow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mt-6 text-center text-3xl font-extrabold text-gray-900\",\n            children: \"Register a new account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-center text-sm text-gray-600\",\n            children: [\"Or\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              className: \"font-medium text-rose-600 hover:text-rose-500\",\n              children: \"log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"mt-8 space-y-6\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Listbox, {\n            value: position,\n            onChange: setPosition,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 relative\",\n              children: [/*#__PURE__*/_jsxDEV(Listbox.Label, {\n                className: \"m-1 block text-sm font-medium text-gray-700\",\n                children: \"Position\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Listbox.Button, {\n                className: \"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block truncate\",\n                  children: position.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\",\n                  children: /*#__PURE__*/_jsxDEV(SelectorIcon, {\n                    className: \"h-5 w-5 text-gray-400\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Transition, {\n                as: Fragment,\n                leave: \"transition ease-in duration-100\",\n                leaveFrom: \"opacity-100\",\n                leaveTo: \"opacity-0\",\n                children: /*#__PURE__*/_jsxDEV(Listbox.Options, {\n                  className: \"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\",\n                  children: accountType.map(account => /*#__PURE__*/_jsxDEV(Listbox.Option, {\n                    className: ({\n                      active\n                    }) => classNames(active ? 'text-white bg-rose-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-8 pr-4'),\n                    value: account,\n                    children: ({\n                      selected,\n                      active\n                    }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate'),\n                        children: account.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 216,\n                        columnNumber: 57\n                      }, this), selected ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(active ? 'text-white' : 'text-rose-600', 'absolute inset-y-0 left-0 flex items-center pl-1.5'),\n                        children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n                          className: \"h-5 w-5\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 227,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 61\n                      }, this) : null]\n                    }, void 0, true)\n                  }, account.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 45\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Listbox, {\n            value: faculty,\n            onChange: setFaculty,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 relative\",\n              children: [/*#__PURE__*/_jsxDEV(Listbox.Label, {\n                className: \"m-1 block text-sm font-medium text-gray-700\",\n                children: \"Faculty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Listbox.Button, {\n                className: \"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block truncate\",\n                  children: faculty.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\",\n                  children: /*#__PURE__*/_jsxDEV(SelectorIcon, {\n                    className: \"h-5 w-5 text-gray-400\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Transition, {\n                as: Fragment,\n                leave: \"transition ease-in duration-100\",\n                leaveFrom: \"opacity-100\",\n                leaveTo: \"opacity-0\",\n                children: /*#__PURE__*/_jsxDEV(Listbox.Options, {\n                  className: \"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\",\n                  children: faculties.map(faculty => /*#__PURE__*/_jsxDEV(Listbox.Option, {\n                    className: ({\n                      active\n                    }) => classNames(active ? 'text-white bg-rose-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-8 pr-4'),\n                    value: faculty,\n                    children: ({\n                      selected,\n                      active\n                    }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate'),\n                        children: faculty.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 263,\n                        columnNumber: 57\n                      }, this), selected ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(active ? 'text-white' : 'text-rose-600', 'absolute inset-y-0 left-0 flex items-center pl-1.5'),\n                        children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n                          className: \"h-5 w-5\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 274,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 268,\n                        columnNumber: 61\n                      }, this) : null]\n                    }, void 0, true)\n                  }, faculty.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 45\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Listbox, {\n            value: year,\n            onChange: setYear,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 relative\",\n              children: [/*#__PURE__*/_jsxDEV(Listbox.Label, {\n                className: \"m-1 block text-sm font-medium text-gray-700\",\n                children: \"Year\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Listbox.Button, {\n                className: \"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block truncate\",\n                  children: year.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\",\n                  children: /*#__PURE__*/_jsxDEV(SelectorIcon, {\n                    className: \"h-5 w-5 text-gray-400\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Transition, {\n                as: Fragment,\n                leave: \"transition ease-in duration-100\",\n                leaveFrom: \"opacity-100\",\n                leaveTo: \"opacity-0\",\n                children: /*#__PURE__*/_jsxDEV(Listbox.Options, {\n                  className: \"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\",\n                  children: years.map(y => /*#__PURE__*/_jsxDEV(Listbox.Option, {\n                    className: ({\n                      active\n                    }) => classNames(active ? 'text-white bg-rose-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-8 pr-4'),\n                    value: y,\n                    children: ({\n                      selected,\n                      active\n                    }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate'),\n                        children: y.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 57\n                      }, this), selected ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(active ? 'text-white' : 'text-rose-600', 'absolute inset-y-0 left-0 flex items-center pl-1.5'),\n                        children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n                          className: \"h-5 w-5\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 322,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 316,\n                        columnNumber: 61\n                      }, this) : null]\n                    }, void 0, true)\n                  }, y.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 45\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"hidden\",\n            name: \"remember\",\n            defaultValue: \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-md shadow-sm -space-y-px\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"course\",\n                className: \"sr-only\",\n                children: \"Course\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"course\",\n                name: \"course\",\n                required: true,\n                className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\",\n                placeholder: \"Course\",\n                value: course,\n                onChange: e => setCourse(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"hidden\",\n            name: \"remember\",\n            defaultValue: \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-md shadow-sm -space-y-px\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"first-name\",\n                className: \"sr-only\",\n                children: \"First name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"first-name\",\n                name: \"firstName\",\n                required: true,\n                className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\",\n                placeholder: \"First name\",\n                value: firstName,\n                onChange: e => setFirstName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"last-name\",\n                className: \"sr-only\",\n                children: \"Last name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"last-name\",\n                name: \"lastName\",\n                required: true,\n                className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\",\n                placeholder: \"Last name\",\n                value: lastName,\n                onChange: e => setLastName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-3 sm:col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex rounded-md shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  name: \"email\",\n                  id: \"email\",\n                  className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-bl-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\",\n                  placeholder: \"e0000000\",\n                  value: email,\n                  onChange: e => setEmail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-3 rounded-br-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm\",\n                  children: \"@u.nus.edu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-md shadow-sm -space-y-px\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                className: \"sr-only\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"password\",\n                name: \"password\",\n                type: \"password\",\n                autoComplete: \"current-password\",\n                required: true,\n                className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\",\n                placeholder: \"Password\",\n                value: password,\n                onChange: e => setPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"confirm-password\",\n                className: \"sr-only\",\n                children: \"Confirm password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"confirm-password\",\n                name: \"confirm-password\",\n                type: \"password\",\n                autoComplete: \"password\",\n                required: true,\n                className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\",\n                placeholder: \"Confirm password\",\n                value: confirmPassword,\n                onChange: e => setConfirmPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-md shadow-sm -space-y-px\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white shadow sm:rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-4 py-5 sm:p-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg leading-6 font-medium text-gray-900\",\n                  children: \"Add contacts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500\",\n                  id: \"email-optional\",\n                  children: \"Optional\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"note-container\",\n                  children: [/*#__PURE__*/_jsxDEV(ContactForm, {\n                    onDone: handleAddEdit\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n                    contacts: contacts,\n                    onDelete: handleDelete,\n                    onDone: handleAddEdit\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(RegisterPage, \"DZm/yk4vCZR8Itvcr0+7ciWxKic=\", false, function () {\n  return [useHistory];\n});\n\n_c = RegisterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"sources":["/Users/remuskwan/development/nus/is3106/project/ui/src/app/containers/RegisterPage/index.js"],"names":["Fragment","useState","useEffect","Link","useHistory","Listbox","Transition","CheckIcon","SelectorIcon","ContactForm","ContactList","api","setUserSession","accountType","id","name","faculties","years","classNames","classes","filter","Boolean","join","RegisterPage","history","position","setPosition","faculty","setFaculty","year","setYear","course","setCourse","contactList","setContactsList","contacts","currentId","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","size","getContactSize","data","handleEdit","editMode","updatedContacts","map","n","oldContactList","handleDelete","handleAddEdit","contact","value","trim","handleSubmit","evt","preventDefault","Error","match","register","username","accountStatus","yr","then","response","userId","push","catch","status","message","account","active","selected","y","e","target"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { Listbox, Transition } from '@headlessui/react'\nimport { CheckIcon, SelectorIcon } from '@heroicons/react/solid'\nimport ContactForm from '../../components/contacts/ContactForm'\nimport ContactList from '../../components/contacts/ContactList'\nimport api from '../../util/api'\nimport { setUserSession } from '../../util/Common'\n\nconst accountType = [\n    { id: 1, name: 'Student' },\n    { id: 2, name: 'Staff' },\n]\n\nconst faculties = [\n    { id: 1, name: 'Arts & Social Sciences' },\n    { id: 2, name: 'Business' },\n    { id: 3, name: 'Computing' },\n    { id: 4, name: 'Continuing and Lifelong Education' },\n    { id: 5, name: 'Dentistry' },\n    { id: 6, name: 'Design & Environment' },\n    { id: 7, name: 'Duke-NUS' },\n    { id: 8, name: 'Engineering' },\n    { id: 9, name: 'Integrative Sciences & Engineering' },\n    { id: 10, name: 'Law' },\n    { id: 11, name: 'Medicine' },\n    { id: 12, name: 'Music' },\n    { id: 13, name: 'Public Health' },\n    { id: 14, name: 'Public Policy' },\n    { id: 15, name: 'Science' },\n    { id: 16, name: 'University Scholars Program' },\n    { id: 17, name: 'Yale-NUS' },\n]\n\nconst years = [\n    { id: 1, name: '1' },\n    { id: 2, name: '2' },\n    { id: 3, name: '3' },\n    { id: 4, name: '4' },\n    { id: 5, name: '5' },\n    { id: 6, name: 'Part-time' },\n    { id: 7, name: 'Graduate' },\n    { id: 8, name: 'PhD' },\n]\n\nfunction classNames(...classes) {\n    return classes.filter(Boolean).join(' ')\n}\n\nexport default function RegisterPage() {\n    const history = useHistory()\n    const [position, setPosition] = useState(accountType[0])\n    const [faculty, setFaculty] = useState(faculties[0])\n    const [year, setYear] = useState(years[0])\n    const [course, setCourse] = useState(\"\")\n    const [contactList, setContactsList] = useState({ contacts: [], currentId: 0 })\n    const [firstName, setFirstName] = useState(\"\")\n    const [lastName, setLastName] = useState(\"\")\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [confirmPassword, setConfirmPassword] = useState(\"\")\n    const [error, setError] = useState(null);\n\n    useEffect(async () => {\n        const size = await api.getContactSize()\n        setContactsList({ contacts: [], currentId: size.data + 1})\n    }, [])\n\n    function handleEdit(id, editMode) {\n        const { contacts } = contactList;\n        const updatedContacts = contacts.map((n) => {\n            if (n.id === id) {\n                n.editMode = editMode;\n            }\n            return n;\n        });\n\n        setContactsList((oldContactList) => ({\n            currentId: oldContactList.currentId,\n            contacts: updatedContacts,\n        }));\n    } //end handleEdit\n\n    function handleDelete(id) {\n        const { contacts } = contactList;\n        const updatedContacts = contacts.filter((n) => {\n            return n.id !== id;\n        });\n\n        setContactsList((oldContactList) => ({\n            currentId: oldContactList.currentId,\n            contacts: updatedContacts,\n        }));\n\n        //console.log(\"###updatedContacts: \", updatedContacts);\n    } //end handleDelete\n\n    function handleAddEdit(contact) {\n        //console.log(\"###in handleAddEdit \", contact);\n        const { currentId, contacts } = contactList;\n        if (contact.id === 0) {\n            //add action\n            if (contact.value.trim() === \"\") return;\n\n            contact.id = currentId + 1;\n\n            setContactsList({\n                currentId: contact.id,\n                contacts: [...contacts, contact],\n            });\n        } else {\n            //edit action\n            if (contact.value.trim() === \"\") {\n                //cancel edit\n                handleEdit(contact.id, false);\n                return;\n            } else {\n                //find the note\n                const updatedContacts = contacts.map((n) => {\n                    if (n.id === contact.id) {\n                        contact.editMode = false;\n                        return contact;\n                    } else {\n                        return n;\n                    }\n                });\n\n                setContactsList((oldContactList) => ({\n                    currentId: oldContactList.currentId,\n                    contacts: updatedContacts,\n                }));\n            }\n        }\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault()\n        if (password !== confirmPassword) {\n            setError(new Error(\"Passwords do not match.\"))\n        } else if (!password.match(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\\\d)(?=.*[@$!%*?&])[A-Za-z\\\\d@$!%*?&]{8,}$\")) {\n            setError(new Error(\"Passwords must be minimum eight characters long and contain at least one uppercase letter, one lowercase letter, one number and one special character.\"))\n        } else {\n            register()\n        }\n    }\n\n    function register() {\n        //console.log(position.id === 1)\n        api.register({\n            email: email,\n            password: password,\n            username: `${firstName} ${lastName}`,\n            accountType: position.id === 1 ? 'STUDENT' : 'STAFF',\n            accountStatus: position.id === 1 ? 'ACTIVE' : 'UNAPPROVED',\n            faculty: faculty.name,\n            yr: year.name,\n            course: course,\n            contacts: contactList.contacts\n        })\n            .then((response) => {\n                setUserSession({ userId: response.data })\n            })\n            .then(() => history.push(\"/\"))\n            .catch(error => {\n                if (error.response.status === 404) setError(error.response.data.message)\n                else setError(\"Something went wrong. Please try again later.\")\n            })\n    }\n\n    const { contacts } = contactList;\n\n    return (\n        <>\n            <div className=\"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n                <div className=\"max-w-md w-full space-y-8\">\n                    <div>\n                        <img\n                            className=\"mx-auto h-12 w-auto\"\n                            src=\"https://tailwindui.com/img/logos/workflow-mark.svg?color=rose&shade=500\"\n                            alt=\"Workflow\"\n                        />\n                        <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Register a new account</h2>\n                        <p className=\"mt-2 text-center text-sm text-gray-600\">\n                            Or{' '}\n                            <Link to=\"/login\" className=\"font-medium text-rose-600 hover:text-rose-500\">\n                                log in\n                            </Link>\n                        </p>\n                    </div>\n                    <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n                        <Listbox value={position} onChange={setPosition}>\n                            <div className=\"mt-1 relative\">\n                                <Listbox.Label className=\"m-1 block text-sm font-medium text-gray-700\">Position</Listbox.Label>\n                                <Listbox.Button className=\"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\">\n                                    <span className=\"block truncate\">{position.name}</span>\n                                    <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                                        <SelectorIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                                    </span>\n                                </Listbox.Button>\n\n                                <Transition as={Fragment} leave=\"transition ease-in duration-100\" leaveFrom=\"opacity-100\" leaveTo=\"opacity-0\">\n                                    <Listbox.Options className=\"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\">\n                                        {accountType.map((account) => (\n                                            <Listbox.Option\n                                                key={account.id}\n                                                className={({ active }) =>\n                                                    classNames(\n                                                        active ? 'text-white bg-rose-600' : 'text-gray-900',\n                                                        'cursor-default select-none relative py-2 pl-8 pr-4'\n                                                    )\n                                                }\n                                                value={account}\n                                            >\n                                                {({ selected, active }) => (\n                                                    <>\n                                                        <span className={classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate')}>\n                                                            {account.name}\n                                                        </span>\n\n                                                        {selected ? (\n                                                            <span\n                                                                className={classNames(\n                                                                    active ? 'text-white' : 'text-rose-600',\n                                                                    'absolute inset-y-0 left-0 flex items-center pl-1.5'\n                                                                )}\n                                                            >\n                                                                <CheckIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                                                            </span>\n                                                        ) : null}\n                                                    </>\n                                                )}\n                                            </Listbox.Option>\n                                        ))}\n                                    </Listbox.Options>\n                                </Transition>\n                            </div>\n                        </Listbox>\n                        <Listbox value={faculty} onChange={setFaculty}>\n                            <div className=\"mt-1 relative\">\n                                <Listbox.Label className=\"m-1 block text-sm font-medium text-gray-700\">Faculty</Listbox.Label>\n                                <Listbox.Button className=\"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\">\n                                    <span className=\"block truncate\">{faculty.name}</span>\n                                    <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                                        <SelectorIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                                    </span>\n                                </Listbox.Button>\n\n                                <Transition as={Fragment} leave=\"transition ease-in duration-100\" leaveFrom=\"opacity-100\" leaveTo=\"opacity-0\">\n                                    <Listbox.Options className=\"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\">\n                                        {faculties.map((faculty) => (\n                                            <Listbox.Option\n                                                key={faculty.id}\n                                                className={({ active }) =>\n                                                    classNames(\n                                                        active ? 'text-white bg-rose-600' : 'text-gray-900',\n                                                        'cursor-default select-none relative py-2 pl-8 pr-4'\n                                                    )\n                                                }\n                                                value={faculty}\n                                            >\n                                                {({ selected, active }) => (\n                                                    <>\n                                                        <span className={classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate')}>\n                                                            {faculty.name}\n                                                        </span>\n\n                                                        {selected ? (\n                                                            <span\n                                                                className={classNames(\n                                                                    active ? 'text-white' : 'text-rose-600',\n                                                                    'absolute inset-y-0 left-0 flex items-center pl-1.5'\n                                                                )}\n                                                            >\n                                                                <CheckIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                                                            </span>\n                                                        ) : null}\n                                                    </>\n                                                )}\n                                            </Listbox.Option>\n                                        ))}\n                                    </Listbox.Options>\n                                </Transition>\n                            </div>\n                        </Listbox>\n\n                        <Listbox value={year} onChange={setYear}>\n                            <div className=\"mt-1 relative\">\n                                <Listbox.Label className=\"m-1 block text-sm font-medium text-gray-700\">Year</Listbox.Label>\n                                <Listbox.Button className=\"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\">\n                                    <span className=\"block truncate\">{year.name}</span>\n                                    <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                                        <SelectorIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                                    </span>\n                                </Listbox.Button>\n\n                                <Transition as={Fragment} leave=\"transition ease-in duration-100\" leaveFrom=\"opacity-100\" leaveTo=\"opacity-0\">\n                                    <Listbox.Options className=\"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\">\n                                        {years.map((y) => (\n                                            <Listbox.Option\n                                                key={y.id}\n                                                className={({ active }) =>\n                                                    classNames(\n                                                        active ? 'text-white bg-rose-600' : 'text-gray-900',\n                                                        'cursor-default select-none relative py-2 pl-8 pr-4'\n                                                    )\n                                                }\n                                                value={y}\n                                            >\n                                                {({ selected, active }) => (\n                                                    <>\n                                                        <span className={classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate')}>\n                                                            {y.name}\n                                                        </span>\n\n                                                        {selected ? (\n                                                            <span\n                                                                className={classNames(\n                                                                    active ? 'text-white' : 'text-rose-600',\n                                                                    'absolute inset-y-0 left-0 flex items-center pl-1.5'\n                                                                )}\n                                                            >\n                                                                <CheckIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                                                            </span>\n                                                        ) : null}\n                                                    </>\n                                                )}\n                                            </Listbox.Option>\n                                        ))}\n                                    </Listbox.Options>\n                                </Transition>\n                            </div>\n                        </Listbox>\n\n                        <input type=\"hidden\" name=\"remember\" defaultValue=\"true\" />\n                        <div className=\"rounded-md shadow-sm -space-y-px\">\n                            <div>\n                                <label htmlFor=\"course\" className=\"sr-only\">\n                                    Course\n                                </label>\n                                <input\n                                    id=\"course\"\n                                    name=\"course\"\n                                    required\n                                    className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\"\n                                    placeholder=\"Course\"\n                                    value={course}\n                                    onChange={(e) => setCourse(e.target.value)}\n                                />\n                            </div>\n                        </div>\n\n                        <input type=\"hidden\" name=\"remember\" defaultValue=\"true\" />\n                        <div className=\"rounded-md shadow-sm -space-y-px\">\n                            <div>\n                                <label htmlFor=\"first-name\" className=\"sr-only\">\n                                    First name\n                                </label>\n                                <input\n                                    id=\"first-name\"\n                                    name=\"firstName\"\n                                    required\n                                    className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\"\n                                    placeholder=\"First name\"\n                                    value={firstName}\n                                    onChange={(e) => setFirstName(e.target.value)}\n                                />\n                            </div>\n                            <div>\n                                <label htmlFor=\"last-name\" className=\"sr-only\">\n                                    Last name\n                                </label>\n                                <input\n                                    id=\"last-name\"\n                                    name=\"lastName\"\n                                    required\n                                    className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\"\n                                    placeholder=\"Last name\"\n                                    value={lastName}\n                                    onChange={(e) => setLastName(e.target.value)}\n                                />\n                            </div>\n                            <div className=\"col-span-3 sm:col-span-2\">\n                                <div className=\"flex rounded-md shadow-sm\">\n                                    <input\n                                        type=\"email\"\n                                        name=\"email\"\n                                        id=\"email\"\n                                        className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-bl-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\"\n                                        placeholder='e0000000'\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)}\n                                    />\n                                    <span className=\"inline-flex items-center px-3 rounded-br-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm\">\n                                        @u.nus.edu\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"rounded-md shadow-sm -space-y-px\">\n                            <div>\n                                <label htmlFor=\"password\" className=\"sr-only\">\n                                    Password\n                                </label>\n                                <input\n                                    id=\"password\"\n                                    name=\"password\"\n                                    type=\"password\"\n                                    autoComplete=\"current-password\"\n                                    required\n                                    className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\"\n                                    placeholder=\"Password\"\n                                    value={password}\n                                    onChange={(e) => setPassword(e.target.value)}\n                                />\n                            </div>\n                            <div>\n                                <label htmlFor=\"confirm-password\" className=\"sr-only\">\n                                    Confirm password\n                                </label>\n                                <input\n                                    id=\"confirm-password\"\n                                    name=\"confirm-password\"\n                                    type=\"password\"\n                                    autoComplete=\"password\"\n                                    required\n                                    className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-rose-500 focus:border-rose-500 focus:z-10 sm:text-sm\"\n                                    placeholder=\"Confirm password\"\n                                    value={confirmPassword}\n                                    onChange={(e) => setConfirmPassword(e.target.value)}\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"rounded-md shadow-sm -space-y-px\">\n                            <div className=\"bg-white shadow sm:rounded-lg\">\n                                <div className=\"px-4 py-5 sm:p-6\">\n                                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Add contacts</h3>\n                                    <span className=\"text-sm text-gray-500\" id=\"email-optional\">\n                                        Optional\n                                    </span>\n                                    <br />\n                                    <div className=\"note-container\">\n                                        <ContactForm onDone={handleAddEdit} />\n                                        <br />\n                                        <ContactList\n                                            contacts={contacts}\n                                            onDelete={handleDelete}\n                                            onDone={handleAddEdit}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                            <br />\n                        </div>\n\n                        <div>\n                            <button\n                                type=\"submit\"\n                                className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\"\n                            >\n                                Register\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}