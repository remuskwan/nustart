{"ast":null,"code":"var _jsxFileName = \"/Users/remuskwan/development/nus/is3106/project/ui/src/app/components/mapsTable/index.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport EditCategoryModal from \"../../containers/CategoriesPage/editCategory\";\nimport api from \"../../util/api\";\nimport DeleteConfirm from \"../deleteConfirm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MapsTable({\n  items,\n  setSearchString,\n  dataLimit\n}) {\n  _s();\n\n  const [open, setOpen] = useState(false);\n  const [deleteM, setDeleteM] = useState(null);\n  const [editCat, setEditCat] = useState(null);\n  const [error, setError] = useState(null);\n  const [pages, setPages] = useState(Math.ceil(items.length / dataLimit));\n  const [currentPage, setCurrentPage] = useState(1);\n  const startIndex = currentPage * dataLimit - dataLimit;\n  const endIndex = startIndex + dataLimit;\n\n  const goToNextPage = () => setCurrentPage(page => page + 1);\n\n  const goToPreviousPage = () => setCurrentPage(page => page - 1);\n\n  const getPaginatedData = () => {\n    const startIndex = currentPage * dataLimit - dataLimit;\n    const endIndex = startIndex + dataLimit;\n    return items.slice(startIndex, endIndex);\n  };\n\n  function deleteMap(mapId) {\n    api.deleteMap(mapId).then(() => window.location.reload()).catch(error => setError(error));\n  }\n\n  useEffect(() => {\n    setPages(Math.ceil(items.length / dataLimit));\n  }, [items.length, dataLimit]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\",\n          children: !items || !items.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"mt-2 text-sm font-medium text-gray-900\",\n              children: \"No maps\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full divide-y divide-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 53,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Image URL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 59,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    className: \"relative px-6 py-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"sr-only\",\n                      children: \"Options\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 66,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: getPaginatedData().map((item, itemIdx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: itemIdx % 2 === 0 ? 'bg-white' : 'bg-gray-50',\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/profile/${item.id}`,\n                      className: \"hover:underline\",\n                      children: item.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                    children: item.url\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"text-rose-600 hover:text-rose-900\",\n                      onClick: () => {\n                        setEditCat(item);\n                        setOpen(true);\n                      },\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 80,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"ml-5 text-rose-600 hover:text-rose-900\",\n                      onClick: () => {\n                        setDeleteM(item);\n                        setOpen(true);\n                      },\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 27\n                  }, this)]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                      className: \"overflow-hidden px-4 py-3 flex items-center justify-between sm:px-6\",\n                      \"aria-label\": \"Pagination\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"hidden sm:block\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-700\",\n                          children: [\"Showing \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium\",\n                            children: startIndex + 1\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 109,\n                            columnNumber: 41\n                          }, this), \" to \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium\",\n                            children: items.length > endIndex ? endIndex : items.length\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 109,\n                            columnNumber: 98\n                          }, this), \" of\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium\",\n                            children: items.length\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 110,\n                            columnNumber: 33\n                          }, this), \" results\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 108,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1 flex justify-between sm:justify-end\",\n                        children: [currentPage !== 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",\n                          onClick: goToPreviousPage,\n                          children: \"Previous\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 33\n                        }, this), currentPage !== pages && pages > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",\n                          onClick: goToNextPage,\n                          children: \"Next\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 123,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), deleteMap && /*#__PURE__*/_jsxDEV(DeleteConfirm, {\n      title: \"map\",\n      open: open,\n      setOpen: setOpen,\n      cat: deleteM,\n      onConfirm: deleteMap\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }, this), editCat && /*#__PURE__*/_jsxDEV(EditCategoryModal, {\n      item: editCat,\n      open: open,\n      setOpen: setOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MapsTable, \"TY2aiWavZGWCuZViO6cQieCO1rk=\");\n\n_c = MapsTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapsTable\");","map":{"version":3,"sources":["/Users/remuskwan/development/nus/is3106/project/ui/src/app/components/mapsTable/index.js"],"names":["Fragment","useState","useEffect","Link","EditCategoryModal","api","DeleteConfirm","MapsTable","items","setSearchString","dataLimit","open","setOpen","deleteM","setDeleteM","editCat","setEditCat","error","setError","pages","setPages","Math","ceil","length","currentPage","setCurrentPage","startIndex","endIndex","goToNextPage","page","goToPreviousPage","getPaginatedData","slice","deleteMap","mapId","then","window","location","reload","catch","map","item","itemIdx","id","title","url"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\";\nimport EditCategoryModal from \"../../containers/CategoriesPage/editCategory\";\nimport api from \"../../util/api\";\nimport DeleteConfirm from \"../deleteConfirm\";\n\nexport default function MapsTable({ items, setSearchString, dataLimit }) {\n  const [open, setOpen] = useState(false)\n  const [deleteM, setDeleteM] = useState(null)\n  const [editCat, setEditCat] = useState(null)\n  const [error, setError] = useState(null);\n  const [pages, setPages] = useState(Math.ceil(items.length / dataLimit))\n  const [currentPage, setCurrentPage] = useState(1)\n\n  const startIndex = currentPage * dataLimit - dataLimit\n  const endIndex = startIndex + dataLimit\n\n  const goToNextPage = () => setCurrentPage((page) => page + 1)\n  const goToPreviousPage = () => setCurrentPage((page) => page - 1)\n\n  const getPaginatedData = () => {\n    const startIndex = currentPage * dataLimit - dataLimit\n    const endIndex = startIndex + dataLimit\n    return items.slice(startIndex, endIndex)\n\n  }\n  function deleteMap(mapId) {\n    api.deleteMap(mapId)\n      .then(() => window.location.reload())\n      .catch(error => setError(error))\n  }\n\n  useEffect(() => {\n    setPages(Math.ceil(items.length / dataLimit))\n  }, [items.length, dataLimit])\n\n  return (\n    <Fragment>\n      <div className=\"flex flex-col\">\n        <div className=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n          <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\n            {!items || !items.length\n              ? (\n                <div className=\"text-center\">\n                  <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No maps</h3>\n                </div>\n              )\n              : (\n                <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        <th\n                          scope=\"col\"\n                          className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                        >\n                          Name\n                        </th>\n                        <th\n                          scope=\"col\"\n                          className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                        >\n                          Image URL\n                        </th>\n                        <th scope=\"col\" className=\"relative px-6 py-3\">\n                          <span className=\"sr-only\">Options</span>\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {getPaginatedData().map((item, itemIdx) => (\n                        <tr key={item.id} className={itemIdx % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                            <Link to={`/profile/${item.id}`} className=\"hover:underline\">\n                              {item.title}\n                            </Link>\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{item.url}</td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                            <button\n                              className=\"text-rose-600 hover:text-rose-900\"\n                              onClick={() => {\n                                setEditCat(item)\n                                setOpen(true)\n                              }}>\n                              Edit\n                            </button>\n                            <button\n                              className=\"ml-5 text-rose-600 hover:text-rose-900\"\n                              onClick={() => {\n                                setDeleteM(item)\n                                setOpen(true)\n                              }}>\n                              Delete\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                    <tfoot className=\"bg-gray-50\">\n                      <tr>\n                        <td colSpan=\"6\">\n                          <nav\n                            className=\"overflow-hidden px-4 py-3 flex items-center justify-between sm:px-6\"\n                            aria-label=\"Pagination\"\n                          >\n                            <div className=\"hidden sm:block\">\n                              <p className=\"text-sm text-gray-700\">\n                                Showing <span className=\"font-medium\">{startIndex + 1}</span> to <span className=\"font-medium\">{items.length > endIndex ? (endIndex) : items.length}</span> of{' '}\n                                <span className=\"font-medium\">{items.length}</span> results\n                              </p>\n                            </div>\n                            <div className=\"flex-1 flex justify-between sm:justify-end\">\n                              {currentPage !== 1 &&\n                                <button\n                                  className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                                  onClick={goToPreviousPage}\n                                >\n                                  Previous\n                                </button>\n                              }\n                              {(currentPage !== pages && pages > 1) &&\n                                <button\n                                  className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n                                  onClick={goToNextPage}\n                                >\n                                  Next\n                                </button>\n                              }\n                            </div>\n                          </nav>\n                        </td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              )}\n          </div>\n        </div>\n      </div>\n      {deleteMap &&\n        <DeleteConfirm\n          title=\"map\"\n          open={open}\n          setOpen={setOpen}\n          cat={deleteM}\n          onConfirm={deleteMap}\n        />\n      }\n      {editCat &&\n        <EditCategoryModal\n          item={editCat}\n          open={open}\n          setOpen={setOpen}\n        />\n      }\n\n    </Fragment>\n  )\n}"]},"metadata":{},"sourceType":"module"}