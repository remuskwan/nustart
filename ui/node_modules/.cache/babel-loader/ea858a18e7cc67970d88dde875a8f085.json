{"ast":null,"code":"var _jsxFileName = \"/Users/remuskwan/development/nus/is3106/project/ui/src/app/containers/ProfilePage/accountTab.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect } from 'react';\nimport { Listbox, Transition } from '@headlessui/react';\nimport InputText from '../../components/inputText';\nimport { uploadFile } from 'react-s3';\nimport UploadImage from '../../components/uploadImage';\nimport { ChevronRightIcon, CheckIcon, SelectorIcon, StarIcon, UserCircleIcon } from '@heroicons/react/solid';\nimport { CalendarIcon, HomeIcon, BriefcaseIcon, AcademicCapIcon, AnnotationIcon, LibraryIcon, CheckCircleIcon } from '@heroicons/react/outline';\nimport api from '../../util/api';\nimport { useHistory } from 'react-router'; // const defaultUser = {\n//     \"accountStatus\": \"ACTIVE\",\n//     \"accountType\": \"ADMIN\",\n//     \"contacts\": [],\n//     \"created\": \"2021-11-03T16:00:00Z[UTC]\",\n//     \"deleted\": false,\n//     \"email\": \"admin01@mail.com\",\n//     \"favoriteGuides\": [],\n//     \"favoritePosts\": [],\n//     \"id\": 1,\n//     \"password\": \"asdf\",\n//     \"username\": \"Admin01\",\n//     \"yr\": 0\n// }\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst years = [{\n  id: 1,\n  name: '1'\n}, {\n  id: 2,\n  name: '2'\n}, {\n  id: 3,\n  name: '3'\n}, {\n  id: 4,\n  name: '4'\n}, {\n  id: 5,\n  name: '5'\n}, {\n  id: 6,\n  name: 'Part-time'\n}, {\n  id: 7,\n  name: 'Graduate'\n}, {\n  id: 8,\n  name: 'PhD'\n}];\nconst faculties = [{\n  id: 1,\n  name: 'Arts & Social Sciences'\n}, {\n  id: 2,\n  name: 'Business'\n}, {\n  id: 3,\n  name: 'Computing'\n}, {\n  id: 4,\n  name: 'Continuing and Lifelong Education'\n}, {\n  id: 5,\n  name: 'Dentistry'\n}, {\n  id: 6,\n  name: 'Design & Environment'\n}, {\n  id: 7,\n  name: 'Duke-NUS'\n}, {\n  id: 8,\n  name: 'Engineering'\n}, {\n  id: 9,\n  name: 'Integrative Sciences & Engineering'\n}, {\n  id: 10,\n  name: 'Law'\n}, {\n  id: 11,\n  name: 'Medicine'\n}, {\n  id: 12,\n  name: 'Music'\n}, {\n  id: 13,\n  name: 'Public Health'\n}, {\n  id: 14,\n  name: 'Public Policy'\n}, {\n  id: 15,\n  name: 'Science'\n}, {\n  id: 16,\n  name: 'University Scholars Program'\n}, {\n  id: 17,\n  name: 'Yale-NUS'\n}];\nexport default function AccountTab() {\n  _s();\n\n  const [user, setUser] = useState(null);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [course, setCourse] = useState(\"\");\n  const [year, setYear] = useState(years[0]);\n  const [faculty, setFaculty] = useState(faculties[0]);\n  const [message, setMessage] = useState('');\n  const [profilePic, setProfilePic] = useState('');\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  const S3_BUCKET = 'nustart';\n  const REGION = 'ap-southeast-1';\n  const ACCESS_KEY = 'AKIARTYBCSQYJNUGQWLJ';\n  const SECRET_ACCESS_KEY = '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';\n  const config = {\n    bucketName: S3_BUCKET,\n    region: REGION,\n    accessKeyId: ACCESS_KEY,\n    secretAccessKey: SECRET_ACCESS_KEY\n  };\n  useEffect(() => {\n    async function getLogged() {\n      const u = await api.getUser(); // console.log(u.data)\n      // getLoggedInUser(u.data)\n\n      setEmail(u.data.email);\n      setName(u.data.username);\n      setProfilePic(u.data.profilePicture);\n\n      if (u.data.accountType === \"STUDENT\") {\n        setCourse(u.data.course);\n        const y = years.filter(y => y.name === u.data.yr.toString())[0];\n        setYear(y); // console.log(year)\n\n        const f = faculties.filter(f => f.name === u.data.faculty)[0]; //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n\n        setFaculty(f);\n      } else if (u.data.accountType === \"STAFF\") {\n        const f = faculties.filter(f => f.name === u.data.faculty)[0];\n        setFaculty(f);\n      }\n\n      setUser(u.data);\n    }\n\n    getLogged();\n  }, [year]); // function getLoggedInUser(u) {\n  //     console.log(u)\n  //     if (u.accountType === \"STUDENT\") {\n  //         setCourse(u.course)\n  //         const y = years.filter((y) => y.name === u.yr.toString())[0]\n  //         setYear(y)\n  //         console.log(year)\n  //         const f = faculties.filter((f) => f.name === u.faculty)[0]\n  //         //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n  //         setFaculty(f)\n  //         setEmail(u.email)\n  //         setName(u.username)\n  //         setProfilePic(u.profilePicture)\n  //     } else if (u.accountType === \"STAFF\") {\n  //         //console.log(year)\n  //         const f = faculties.filter((f) => f.name === u.faculty)[0]\n  //         //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n  //         setFaculty(f)\n  //         setEmail(u.email)\n  //         setName(u.username)\n  //         setProfilePic(u.profilePicture)\n  //     } else {\n  //         setEmail(u.email)\n  //         setName(u.username)\n  //         setProfilePic(u.profilePicture)\n  //     }\n  //     setUser(u)\n  // }\n\n  function classNames(...classes) {\n    return classes.filter(Boolean).join(' ');\n  }\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    console.log(selectedFile);\n\n    if (selectedFile === null) {\n      updateProfile(profilePic);\n    } else {\n      handleUpload(selectedFile);\n    }\n  };\n\n  const handleUpload = async file => {\n    uploadFile(file, config).then(data => {\n      updateProfile(data.location);\n    }).catch(error => setError(error));\n  };\n\n  const handleFileInput = e => {\n    setSelectedFile(e.target.files[0]); // setFiles([(prev) => prev].push(e.target.files[0]))\n  };\n\n  function updateProfile(picLocation = '') {\n    //console.log(user.accountType)\n    if (user.accountType === 'ADMIN') {\n      user.email = email;\n      user.username = name;\n      user.profilePicture = picLocation; // api.editUser(user.id, user\n      // {\n      //     email: email,\n      //     username: name,\n      //     profilePicture: picLocation,\n      //     course: user.course,\n      //     yr: user.yr,\n      //     faculty: user.faculty,\n      //     accountStatus: user.accountStatus,\n      //     accountType: user.accountType,\n      //     contacts: user.contacts,\n      //     created: user.created,\n      //     deleted: user.deleted,\n      //     likedGuides: user.likedGuides,\n      //     likedPosts: user.likedPosts,\n      //     password: user.password\n      // }\n      // ).then(response => setUser(response.data))\n      // .then(() => window.location.reload())\n      // .then(() => setMessage('Profile updated successfully.'))\n    } else if (user.accountType === 'STAFF') {\n      user.email = email;\n      user.username = name;\n      user.profilePicture = picLocation;\n      user.faculty = faculty.name; // api.editUser(user.id, user\n      // {\n      //     email: email,\n      //     username: name,\n      //     profilePicture: picLocation,\n      //     course: user.course,\n      //     yr: user.yr,\n      //     faculty: faculty.name,\n      //     accountStatus: user.accountStatus,\n      //     accountType: user.accountType,\n      //     contacts: user.contacts,\n      //     created: user.created,\n      //     deleted: user.deleted,\n      //     likedGuides: user.likedGuides,\n      //     likedPosts: user.likedPosts,\n      //     password: user.password\n      // }\n      // ).then(response => setUser(response.data))\n      //     .then(() => window.location.reload())\n      // .then(() => setMessage('Profile updated successfully.'))\n    } else {\n      user.email = email;\n      user.username = name;\n      user.profilePicture = picLocation;\n      user.course = course;\n      user.yr = year.name;\n      user.faculty = faculty.name; // api.editUser(user.id, user\n      // {\n      //     email: email,\n      //     username: name,\n      //     profilePicture: picLocation,\n      //     course: course,\n      //     yr: year.name,\n      //     faculty: faculty.name,\n      //     accountStatus: user.accountStatus,\n      //     accountType: user.accountType,\n      //     contacts: user.contacts,\n      //     created: user.created,\n      //     deleted: user.deleted,\n      //     likedGuides: user.likedGuides,\n      //     likedPosts: user.likedPosts,\n      //     password: user.password\n      // }\n      // ).then(response => setUser(response.data))\n      // .then(() => window.location.reload())\n      // .then(() => setMessage('Profile updated successfully.'))\n    }\n\n    api.editUser(user.id, user).then(response => console.log(response.data));\n  }\n\n  return user && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pt-3 space-y-6 sm:pt-5 sm:space-y-5\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-5 space-y-3 sm:space-y-5\",\n        children: [message && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-md bg-green-50 p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                className: \"h-5 w-5 text-green-400\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-sm font-medium text-green-800\",\n                children: \"Your profile was updated successfully\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 text-sm text-green-700\",\n                children: message.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 sm:mt-0 sm:col-span-2 max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\",\n            children: /*#__PURE__*/_jsxDEV(InputText, {\n              type: \"text\",\n              name: \"username\",\n              id: \"username\",\n              autoComplete: \"given-name\",\n              required: true,\n              value: name,\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2 shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\",\n            children: /*#__PURE__*/_jsxDEV(InputText, {\n              type: \"email\",\n              name: \"email\",\n              id: \"email\",\n              autoComplete: \"email\",\n              required: true,\n              value: email,\n              onChange: e => setEmail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block sm:border-t sm:border-gray-200 sm:pt-5 text-sm font-medium text-gray-700\",\n            children: \"Profile picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 25\n          }, this), !selectedFile ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(UploadImage, {\n              handleFileInput: handleFileInput,\n              accept: \".jpg, .png, .gif\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative inline-flex items-center rounded-full border border-gray-300 px-3 py-0.5 \",\n            children: [selectedFile.name, /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-gray-700\",\n              onClick: () => setSelectedFile(null),\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"ml-1 h-5 w-5\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M6 18L18 6M6 6l12 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this), user.accountType === \"STUDENT\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"country\",\n            className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n            children: \"Year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Listbox, {\n            value: year,\n            onChange: setYear,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 relative\",\n              children: [/*#__PURE__*/_jsxDEV(Listbox.Button, {\n                className: \"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block truncate\",\n                  children: year.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\",\n                  children: /*#__PURE__*/_jsxDEV(SelectorIcon, {\n                    className: \"h-5 w-5 text-gray-400\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Transition, {\n                as: Fragment,\n                leave: \"transition ease-in duration-100\",\n                leaveFrom: \"opacity-100\",\n                leaveTo: \"opacity-0\",\n                children: /*#__PURE__*/_jsxDEV(Listbox.Options, {\n                  className: \"absolute z-10 mt-1 max-w-lg block w-full bg-white shadow-sm max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:max-w-xs sm:text-sm\",\n                  children: years.map(y => /*#__PURE__*/_jsxDEV(Listbox.Option, {\n                    className: ({\n                      active\n                    }) => classNames(active ? 'text-white bg-rose-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-8 pr-4'),\n                    value: y,\n                    children: ({\n                      selected,\n                      active\n                    }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate'),\n                        children: y.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 365,\n                        columnNumber: 61\n                      }, this), selected ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(active ? 'text-white' : 'text-rose-600', 'absolute inset-y-0 left-0 flex items-center pl-1.5'),\n                        children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n                          className: \"h-5 w-5\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 376,\n                          columnNumber: 69\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 370,\n                        columnNumber: 65\n                      }, this) : null]\n                    }, void 0, true)\n                  }, y.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 49\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 25\n        }, this) : null, user.accountType !== \"ADMIN\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"street-address\",\n            className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n            children: \"Faculty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Listbox, {\n            value: faculty,\n            onChange: setFaculty,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 relative\",\n              children: [/*#__PURE__*/_jsxDEV(Listbox.Button, {\n                className: \"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"block truncate\",\n                  children: faculty.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\",\n                  children: /*#__PURE__*/_jsxDEV(SelectorIcon, {\n                    className: \"h-5 w-5 text-gray-400\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Transition, {\n                as: Fragment,\n                leave: \"transition ease-in duration-100\",\n                leaveFrom: \"opacity-100\",\n                leaveTo: \"opacity-0\",\n                children: /*#__PURE__*/_jsxDEV(Listbox.Options, {\n                  className: \"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\",\n                  children: faculties.map(faculty => /*#__PURE__*/_jsxDEV(Listbox.Option, {\n                    className: ({\n                      active\n                    }) => classNames(active ? 'text-white bg-rose-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-8 pr-4'),\n                    value: faculty,\n                    children: ({\n                      selected,\n                      active\n                    }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate'),\n                        children: faculty.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 61\n                      }, this), selected ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: classNames(active ? 'text-white' : 'text-rose-600', 'absolute inset-y-0 left-0 flex items-center pl-1.5'),\n                        children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n                          className: \"h-5 w-5\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 431,\n                          columnNumber: 69\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 65\n                      }, this) : null]\n                    }, void 0, true)\n                  }, faculty.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 49\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 27\n        }, this) : null, user.accountType === \"STUDENT\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"course\",\n            className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n            children: \"Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 sm:mt-0 sm:col-span-2\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"course\",\n              id: \"course\",\n              autoComplete: \"course\",\n              value: course,\n              onChange: e => setCourse(e.target.value),\n              className: \"max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 27\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\",\n              onClick: () => history.goBack(),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AccountTab, \"ip7xEpHkV2wfWfwwjoBRLuoZYWA=\", false, function () {\n  return [useHistory];\n});\n\n_c = AccountTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountTab\");","map":{"version":3,"sources":["/Users/remuskwan/development/nus/is3106/project/ui/src/app/containers/ProfilePage/accountTab.js"],"names":["Fragment","useState","useEffect","Listbox","Transition","InputText","uploadFile","UploadImage","ChevronRightIcon","CheckIcon","SelectorIcon","StarIcon","UserCircleIcon","CalendarIcon","HomeIcon","BriefcaseIcon","AcademicCapIcon","AnnotationIcon","LibraryIcon","CheckCircleIcon","api","useHistory","years","id","name","faculties","AccountTab","user","setUser","setName","email","setEmail","course","setCourse","year","setYear","faculty","setFaculty","message","setMessage","profilePic","setProfilePic","selectedFile","setSelectedFile","error","setError","history","S3_BUCKET","REGION","ACCESS_KEY","SECRET_ACCESS_KEY","config","bucketName","region","accessKeyId","secretAccessKey","getLogged","u","getUser","data","username","profilePicture","accountType","y","filter","yr","toString","f","classNames","classes","Boolean","join","handleSubmit","evt","preventDefault","console","log","updateProfile","handleUpload","file","then","location","catch","handleFileInput","e","target","files","picLocation","editUser","response","value","map","active","selected","goBack"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect } from 'react'\nimport { Listbox, Transition } from '@headlessui/react'\nimport InputText from '../../components/inputText'\nimport { uploadFile } from 'react-s3'\nimport UploadImage from '../../components/uploadImage'\nimport {\n    ChevronRightIcon,\n    CheckIcon,\n    SelectorIcon,\n    StarIcon,\n    UserCircleIcon,\n} from '@heroicons/react/solid'\nimport {\n    CalendarIcon,\n    HomeIcon,\n    BriefcaseIcon,\n    AcademicCapIcon,\n    AnnotationIcon,\n    LibraryIcon,\n    CheckCircleIcon,\n} from '@heroicons/react/outline'\nimport api from '../../util/api'\nimport { useHistory } from 'react-router'\n\n// const defaultUser = {\n//     \"accountStatus\": \"ACTIVE\",\n//     \"accountType\": \"ADMIN\",\n//     \"contacts\": [],\n//     \"created\": \"2021-11-03T16:00:00Z[UTC]\",\n//     \"deleted\": false,\n//     \"email\": \"admin01@mail.com\",\n//     \"favoriteGuides\": [],\n//     \"favoritePosts\": [],\n//     \"id\": 1,\n//     \"password\": \"asdf\",\n//     \"username\": \"Admin01\",\n//     \"yr\": 0\n// }\n\nconst years = [\n    { id: 1, name: '1' },\n    { id: 2, name: '2' },\n    { id: 3, name: '3' },\n    { id: 4, name: '4' },\n    { id: 5, name: '5' },\n    { id: 6, name: 'Part-time' },\n    { id: 7, name: 'Graduate' },\n    { id: 8, name: 'PhD' },\n]\n\nconst faculties = [\n    { id: 1, name: 'Arts & Social Sciences' },\n    { id: 2, name: 'Business' },\n    { id: 3, name: 'Computing' },\n    { id: 4, name: 'Continuing and Lifelong Education' },\n    { id: 5, name: 'Dentistry' },\n    { id: 6, name: 'Design & Environment' },\n    { id: 7, name: 'Duke-NUS' },\n    { id: 8, name: 'Engineering' },\n    { id: 9, name: 'Integrative Sciences & Engineering' },\n    { id: 10, name: 'Law' },\n    { id: 11, name: 'Medicine' },\n    { id: 12, name: 'Music' },\n    { id: 13, name: 'Public Health' },\n    { id: 14, name: 'Public Policy' },\n    { id: 15, name: 'Science' },\n    { id: 16, name: 'University Scholars Program' },\n    { id: 17, name: 'Yale-NUS' },\n]\n\nexport default function AccountTab() {\n    const [user, setUser] = useState(null)\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [course, setCourse] = useState(\"\")\n    const [year, setYear] = useState(years[0])\n    const [faculty, setFaculty] = useState(faculties[0])\n    const [message, setMessage] = useState('')\n    const [profilePic, setProfilePic] = useState('')\n    const [selectedFile, setSelectedFile] = useState(null)\n    const [error, setError] = useState(null)\n\n    const history = useHistory()\n\n    const S3_BUCKET = 'nustart';\n    const REGION = 'ap-southeast-1';\n    const ACCESS_KEY = 'AKIARTYBCSQYJNUGQWLJ';\n    const SECRET_ACCESS_KEY = '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';\n\n    const config = {\n        bucketName: S3_BUCKET,\n        region: REGION,\n        accessKeyId: ACCESS_KEY,\n        secretAccessKey: SECRET_ACCESS_KEY,\n    }\n\n    useEffect(() => {\n        async function getLogged() {\n            const u = await api.getUser()\n            // console.log(u.data)\n            // getLoggedInUser(u.data)\n            setEmail(u.data.email)\n            setName(u.data.username)\n            setProfilePic(u.data.profilePicture)\n            if (u.data.accountType === \"STUDENT\") {\n                setCourse(u.data.course)\n                const y = years.filter((y) => y.name === u.data.yr.toString())[0]\n                setYear(y)\n                // console.log(year)\n                const f = faculties.filter((f) => f.name === u.data.faculty)[0]\n                //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n                setFaculty(f)\n\n            } else if (u.data.accountType === \"STAFF\") {\n                const f = faculties.filter((f) => f.name === u.data.faculty)[0]\n                setFaculty(f)\n            }\n            setUser(u.data)\n        }\n        getLogged()\n    }, [year])\n\n    // function getLoggedInUser(u) {\n    //     console.log(u)\n    //     if (u.accountType === \"STUDENT\") {\n    //         setCourse(u.course)\n    //         const y = years.filter((y) => y.name === u.yr.toString())[0]\n    //         setYear(y)\n    //         console.log(year)\n    //         const f = faculties.filter((f) => f.name === u.faculty)[0]\n    //         //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n    //         setFaculty(f)\n    //         setEmail(u.email)\n    //         setName(u.username)\n    //         setProfilePic(u.profilePicture)\n    //     } else if (u.accountType === \"STAFF\") {\n    //         //console.log(year)\n    //         const f = faculties.filter((f) => f.name === u.faculty)[0]\n    //         //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n    //         setFaculty(f)\n    //         setEmail(u.email)\n    //         setName(u.username)\n    //         setProfilePic(u.profilePicture)\n    //     } else {\n    //         setEmail(u.email)\n    //         setName(u.username)\n    //         setProfilePic(u.profilePicture)\n    //     }\n    //     setUser(u)\n\n    // }\n\n    function classNames(...classes) {\n        return classes.filter(Boolean).join(' ')\n    }\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault()\n        console.log(selectedFile)\n        if (selectedFile === null) {\n            updateProfile(profilePic)\n        } else {\n            handleUpload(selectedFile)\n        }\n\n    }\n\n    const handleUpload = async (file) => {\n        uploadFile(file, config)\n            .then(data => {\n                updateProfile(data.location)\n            })\n            .catch(error => setError(error))\n    }\n\n    const handleFileInput = (e) => {\n        setSelectedFile(e.target.files[0])\n        // setFiles([(prev) => prev].push(e.target.files[0]))\n    }\n\n    function updateProfile(picLocation = '') {\n        //console.log(user.accountType)\n        if (user.accountType === 'ADMIN') {\n            user.email = email\n            user.username = name\n            user.profilePicture = picLocation\n            // api.editUser(user.id, user\n                // {\n                //     email: email,\n                //     username: name,\n                //     profilePicture: picLocation,\n                //     course: user.course,\n                //     yr: user.yr,\n                //     faculty: user.faculty,\n                //     accountStatus: user.accountStatus,\n                //     accountType: user.accountType,\n                //     contacts: user.contacts,\n                //     created: user.created,\n                //     deleted: user.deleted,\n                //     likedGuides: user.likedGuides,\n                //     likedPosts: user.likedPosts,\n                //     password: user.password\n                // }\n            // ).then(response => setUser(response.data))\n                // .then(() => window.location.reload())\n            // .then(() => setMessage('Profile updated successfully.'))\n        } else if (user.accountType === 'STAFF') {\n            user.email = email\n            user.username = name\n            user.profilePicture = picLocation\n            user.faculty = faculty.name\n            // api.editUser(user.id, user\n                // {\n                //     email: email,\n                //     username: name,\n                //     profilePicture: picLocation,\n                //     course: user.course,\n                //     yr: user.yr,\n                //     faculty: faculty.name,\n                //     accountStatus: user.accountStatus,\n                //     accountType: user.accountType,\n                //     contacts: user.contacts,\n                //     created: user.created,\n                //     deleted: user.deleted,\n                //     likedGuides: user.likedGuides,\n                //     likedPosts: user.likedPosts,\n                //     password: user.password\n                // }\n            // ).then(response => setUser(response.data))\n            //     .then(() => window.location.reload())\n            // .then(() => setMessage('Profile updated successfully.'))\n        } else {\n            user.email = email\n            user.username = name\n            user.profilePicture = picLocation\n            user.course = course\n            user.yr = year.name\n            user.faculty = faculty.name\n            // api.editUser(user.id, user\n                // {\n                //     email: email,\n                //     username: name,\n                //     profilePicture: picLocation,\n                //     course: course,\n                //     yr: year.name,\n                //     faculty: faculty.name,\n                //     accountStatus: user.accountStatus,\n                //     accountType: user.accountType,\n                //     contacts: user.contacts,\n                //     created: user.created,\n                //     deleted: user.deleted,\n                //     likedGuides: user.likedGuides,\n                //     likedPosts: user.likedPosts,\n                //     password: user.password\n                // }\n            // ).then(response => setUser(response.data))\n                // .then(() => window.location.reload())\n            // .then(() => setMessage('Profile updated successfully.'))\n        }\n        api.editUser(user.id, user).then(response => console.log(response.data))\n    }\n\n    return (\n        user &&\n        <div className=\"pt-3 space-y-6 sm:pt-5 sm:space-y-5\">\n            <form onSubmit={handleSubmit}>\n                <div className=\"p-5 space-y-3 sm:space-y-5\">\n                    {message &&\n                        <div className=\"rounded-md bg-green-50 p-4\">\n                            <div className=\"flex\">\n                                <div className=\"flex-shrink-0\">\n                                    <CheckCircleIcon className=\"h-5 w-5 text-green-400\" aria-hidden=\"true\" />\n                                </div>\n                                <div className=\"ml-3\">\n                                    <h3 className=\"text-sm font-medium text-green-800\">Your profile was updated successfully</h3>\n                                    <div className=\"mt-2 text-sm text-green-700\">\n                                        {message.message}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    }\n                    <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start\">\n\n                        <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                            Name\n                        </label>\n                        <div className=\"mt-1 sm:mt-0 sm:col-span-2 max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\">\n                            <InputText\n                                type=\"text\"\n                                name=\"username\"\n                                id=\"username\"\n                                autoComplete=\"given-name\"\n                                required={true}\n                                value={name}\n                                onChange={(e) => setName(e.target.value)}\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                            Email\n                        </label>\n                        <div className=\"col-span-2 shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\">\n                            <InputText\n                                type=\"email\"\n                                name=\"email\"\n                                id=\"email\"\n                                autoComplete=\"email\"\n                                required={true}\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"col-span-3\">\n                        <label className=\"block sm:border-t sm:border-gray-200 sm:pt-5 text-sm font-medium text-gray-700\">Profile picture</label>\n                        {!selectedFile ?\n                            <div >\n                                <UploadImage handleFileInput={handleFileInput} accept=\".jpg, .png, .gif\" />\n                            </div>\n                            : <div className=\"relative inline-flex items-center rounded-full border border-gray-300 px-3 py-0.5 \">\n                                {selectedFile.name}\n                                <button className=\"text-gray-700\" onClick={() => setSelectedFile(null)}>\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"ml-1 h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                                    </svg>\n                                </button>\n                            </div>\n                        }\n                    </div>\n\n                    {user.accountType === \"STUDENT\"\n                        ?\n                        <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                            <label htmlFor=\"country\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                                Year\n                            </label>\n                            <Listbox value={year} onChange={setYear}>\n                                <div className=\"mt-1 relative\">\n                                    <Listbox.Button className=\"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\">\n                                        <span className=\"block truncate\">{year.name}</span>\n                                        <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                                            <SelectorIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                                        </span>\n                                    </Listbox.Button>\n\n                                    <Transition as={Fragment} leave=\"transition ease-in duration-100\" leaveFrom=\"opacity-100\" leaveTo=\"opacity-0\">\n                                        <Listbox.Options className=\"absolute z-10 mt-1 max-w-lg block w-full bg-white shadow-sm max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:max-w-xs sm:text-sm\">\n                                            {years.map((y) => (\n                                                <Listbox.Option\n                                                    key={y.id}\n                                                    className={({ active }) =>\n                                                        classNames(\n                                                            active ? 'text-white bg-rose-600' : 'text-gray-900',\n                                                            'cursor-default select-none relative py-2 pl-8 pr-4'\n                                                        )\n                                                    }\n                                                    value={y}\n                                                >\n                                                    {({ selected, active }) => (\n                                                        <>\n                                                            <span className={classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate')}>\n                                                                {y.name}\n                                                            </span>\n\n                                                            {selected ? (\n                                                                <span\n                                                                    className={classNames(\n                                                                        active ? 'text-white' : 'text-rose-600',\n                                                                        'absolute inset-y-0 left-0 flex items-center pl-1.5'\n                                                                    )}\n                                                                >\n                                                                    <CheckIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                                                                </span>\n                                                            ) : null}\n                                                        </>\n                                                    )}\n                                                </Listbox.Option>\n                                            ))}\n                                        </Listbox.Options>\n                                    </Transition>\n                                </div>\n                            </Listbox>\n\n                        </div>\n                        : null\n                    }\n                    {user.accountType !== \"ADMIN\"\n                        ? <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                            <label htmlFor=\"street-address\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                                Faculty\n                            </label>\n                            <Listbox value={faculty} onChange={setFaculty}>\n                                <div className=\"mt-3 relative\">\n                                    <Listbox.Button className=\"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\">\n                                        <span className=\"block truncate\">{faculty.name}</span>\n                                        <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                                            <SelectorIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                                        </span>\n                                    </Listbox.Button>\n\n                                    <Transition as={Fragment} leave=\"transition ease-in duration-100\" leaveFrom=\"opacity-100\" leaveTo=\"opacity-0\">\n                                        <Listbox.Options className=\"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\">\n                                            {faculties.map((faculty) => (\n                                                <Listbox.Option\n                                                    key={faculty.id}\n                                                    className={({ active }) =>\n                                                        classNames(\n                                                            active ? 'text-white bg-rose-600' : 'text-gray-900',\n                                                            'cursor-default select-none relative py-2 pl-8 pr-4'\n                                                        )\n                                                    }\n                                                    value={faculty}\n                                                >\n                                                    {({ selected, active }) => (\n                                                        <>\n                                                            <span className={classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate')}>\n                                                                {faculty.name}\n                                                            </span>\n\n                                                            {selected ? (\n                                                                <span\n                                                                    className={classNames(\n                                                                        active ? 'text-white' : 'text-rose-600',\n                                                                        'absolute inset-y-0 left-0 flex items-center pl-1.5'\n                                                                    )}\n                                                                >\n                                                                    <CheckIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                                                                </span>\n                                                            ) : null}\n                                                        </>\n                                                    )}\n                                                </Listbox.Option>\n                                            ))}\n                                        </Listbox.Options>\n                                    </Transition>\n                                </div>\n                            </Listbox>\n                        </div>\n                        : null\n                    }\n\n                    {user.accountType === \"STUDENT\"\n                        ? <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                            <label htmlFor=\"course\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                                Course\n                            </label>\n                            <div className=\"mt-1 sm:mt-0 sm:col-span-2\">\n                                <input\n                                    type=\"text\"\n                                    name=\"course\"\n                                    id=\"course\"\n                                    autoComplete=\"course\"\n                                    value={course}\n                                    onChange={(e) => setCourse(e.target.value)}\n                                    className=\"max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n                                />\n                            </div>\n                        </div>\n                        : null\n                    }\n\n                    <div className=\"pt-5\">\n                        <div className=\"flex justify-end\">\n                            <button\n                                type=\"button\"\n                                className=\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\"\n                                onClick={() => history.goBack()}\n                            >\n                                Cancel\n                            </button>\n                            <button\n                                type=\"submit\"\n                                className=\"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\"\n                            >\n                                Save\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}