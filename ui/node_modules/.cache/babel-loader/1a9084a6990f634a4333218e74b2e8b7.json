{"ast":null,"code":"var _jsxFileName = \"/Users/remuskwan/development/nus/is3106/project/ui/src/app/containers/ProfilePage/profileTab.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect } from 'react';\nimport { Listbox, Transition } from '@headlessui/react';\nimport { ChevronRightIcon, CheckIcon, SelectorIcon, StarIcon, UserAddIcon } from '@heroicons/react/solid';\nimport { CalendarIcon, HomeIcon, BriefcaseIcon, AcademicCapIcon, AnnotationIcon, LibraryIcon } from '@heroicons/react/outline';\nimport SideBar from '../../components/sideBar';\nimport NavBar from '../../components/navBar';\nimport ContactForm from '../../components/contacts/ContactForm';\nimport ContactList from '../../components/contacts/ContactList';\nimport NewButton from '../../components/newButton';\nimport api from '../../util/api';\nimport { getUser } from '../../util/Common';\nimport { useHistory } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst years = [{\n  id: 1,\n  name: '1'\n}, {\n  id: 2,\n  name: '2'\n}, {\n  id: 3,\n  name: '3'\n}, {\n  id: 4,\n  name: '4'\n}, {\n  id: 5,\n  name: '5'\n}, {\n  id: 6,\n  name: 'Part-time'\n}, {\n  id: 7,\n  name: 'Graduate'\n}, {\n  id: 8,\n  name: 'PhD'\n}, {\n  id: 9,\n  name: 'admin'\n}];\nconst faculties = [{\n  id: 1,\n  name: 'Arts & Social Sciences'\n}, {\n  id: 2,\n  name: 'Business'\n}, {\n  id: 3,\n  name: 'Computing'\n}, {\n  id: 4,\n  name: 'Continuing and Lifelong Education'\n}, {\n  id: 5,\n  name: 'Dentistry'\n}, {\n  id: 6,\n  name: 'Design & Environment'\n}, {\n  id: 7,\n  name: 'Duke-NUS'\n}, {\n  id: 8,\n  name: 'Engineering'\n}, {\n  id: 9,\n  name: 'Integrative Sciences & Engineering'\n}, {\n  id: 10,\n  name: 'Law'\n}, {\n  id: 11,\n  name: 'Medicine'\n}, {\n  id: 12,\n  name: 'Music'\n}, {\n  id: 13,\n  name: 'Public Health'\n}, {\n  id: 14,\n  name: 'Public Policy'\n}, {\n  id: 15,\n  name: 'Science'\n}, {\n  id: 16,\n  name: 'University Scholars Program'\n}, {\n  id: 17,\n  name: 'Yale-NUS'\n}];\nconst defaultUser = {\n  \"accountStatus\": \"ACTIVE\",\n  \"accountType\": \"ADMIN\",\n  \"contacts\": [],\n  \"created\": \"2021-11-03T16:00:00Z[UTC]\",\n  \"deleted\": false,\n  \"email\": \"admin01@mail.com\",\n  \"favoriteGuides\": [],\n  \"favoritePosts\": [],\n  \"id\": 1,\n  \"password\": \"asdf\",\n  \"username\": \"Admin01\",\n  \"yr\": 0\n};\n\nfunction classNames(...classes) {\n  return classes.filter(Boolean).join(' ');\n}\n\nexport default function ProfileTab() {\n  _s();\n\n  const [user, setUser] = useState(defaultUser);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [course, setCourse] = useState(\"\");\n  const [year, setYear] = useState(years[0]);\n  const [faculty, setFaculty] = useState(faculties[0]);\n  const [selectedFile, setSelectedFile] = useState();\n  const [isFilePicked, setIsFilePicked] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    async function getLogged() {\n      const u = await api.getUser(); //console.log(u.data)\n\n      getLoggedInUser(u.data);\n    }\n\n    getLogged();\n  }, []);\n\n  function getLoggedInUser(u) {\n    if (u.accountType === \"STUDENT\") {\n      setCourse(u.course);\n      const y = years.filter(y => y.name === u.yr.toString())[0];\n      setYear(y); //console.log(y)\n      //console.log(year)\n\n      const f = faculties.filter(f => f.name === u.faculty)[0]; //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n\n      setFaculty(f);\n      setEmail(u.email);\n      setName(u.username);\n    } else if (u.accountType === \"STAFF\") {\n      //console.log(year)\n      const f = faculties.filter(f => f.name === u.faculty)[0]; //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n\n      setFaculty(f);\n      setEmail(u.email);\n      setName(u.username);\n    } else {\n      setEmail(u.email);\n      setName(u.username);\n    }\n\n    setUser(u);\n    setSelectedFile(u.profilePicture);\n  }\n\n  const changeHandler = event => {\n    setSelectedFile(event.target.files[0]);\n    setIsFilePicked(true);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    updateProfile();\n  };\n\n  function updateProfile() {\n    api.editUser(user.id, {\n      email: email,\n      profilePicture: user.profilePicture,\n      username: name,\n      faculty: faculty.name,\n      yr: year.name,\n      course: course\n    }); //.then(response => console.log(response.data))\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pt-8 space-y-6 sm:pt-10 sm:space-y-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 space-y-6 sm:space-y-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 sm:mt-0 sm:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            id: \"username\",\n            autoComplete: \"given-name\",\n            value: name,\n            onChange: e => {\n              setName(e.target.value);\n            },\n            className: \"max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 sm:mt-0 sm:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            name: \"email\",\n            type: \"email\",\n            autoComplete: \"email\",\n            value: email,\n            onChange: e => {\n              setEmail(e.target.value);\n            },\n            className: \"max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), user.accountType === \"STUDENT\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"country\",\n          className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n          children: \"Year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Listbox, {\n          value: year,\n          onChange: setYear,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1 relative\",\n            children: [/*#__PURE__*/_jsxDEV(Listbox.Button, {\n              className: \"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block truncate\",\n                children: year.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\",\n                children: /*#__PURE__*/_jsxDEV(SelectorIcon, {\n                  className: \"h-5 w-5 text-gray-400\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Transition, {\n              as: Fragment,\n              leave: \"transition ease-in duration-100\",\n              leaveFrom: \"opacity-100\",\n              leaveTo: \"opacity-0\",\n              children: /*#__PURE__*/_jsxDEV(Listbox.Options, {\n                className: \"absolute z-10 mt-1 max-w-lg block w-full bg-white shadow-sm max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:max-w-xs sm:text-sm\",\n                children: years.map(y => /*#__PURE__*/_jsxDEV(Listbox.Option, {\n                  className: ({\n                    active\n                  }) => classNames(active ? 'text-white bg-rose-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-8 pr-4'),\n                  value: y,\n                  children: ({\n                    selected,\n                    active\n                  }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate'),\n                      children: y.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 57\n                    }, this), selected ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: classNames(active ? 'text-white' : 'text-rose-600', 'absolute inset-y-0 left-0 flex items-center pl-1.5'),\n                      children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n                        className: \"h-5 w-5\",\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 226,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 61\n                    }, this) : null]\n                  }, void 0, true)\n                }, y.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }, this) : null, user.accountType !== \"ADMIN\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"street-address\",\n          className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n          children: \"Faculty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Listbox, {\n          value: faculty,\n          onChange: setFaculty,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 relative\",\n            children: [/*#__PURE__*/_jsxDEV(Listbox.Button, {\n              className: \"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block truncate\",\n                children: faculty.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\",\n                children: /*#__PURE__*/_jsxDEV(SelectorIcon, {\n                  className: \"h-5 w-5 text-gray-400\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Transition, {\n              as: Fragment,\n              leave: \"transition ease-in duration-100\",\n              leaveFrom: \"opacity-100\",\n              leaveTo: \"opacity-0\",\n              children: /*#__PURE__*/_jsxDEV(Listbox.Options, {\n                className: \"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\",\n                children: faculties.map(faculty => /*#__PURE__*/_jsxDEV(Listbox.Option, {\n                  className: ({\n                    active\n                  }) => classNames(active ? 'text-white bg-rose-600' : 'text-gray-900', 'cursor-default select-none relative py-2 pl-8 pr-4'),\n                  value: faculty,\n                  children: ({\n                    selected,\n                    active\n                  }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate'),\n                      children: faculty.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 57\n                    }, this), selected ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: classNames(active ? 'text-white' : 'text-rose-600', 'absolute inset-y-0 left-0 flex items-center pl-1.5'),\n                      children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n                        className: \"h-5 w-5\",\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 61\n                    }, this) : null]\n                  }, void 0, true)\n                }, faculty.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 23\n      }, this) : null, user.accountType === \"STUDENT\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"course\",\n          className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n          children: \"Course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 sm:mt-0 sm:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"course\",\n            id: \"course\",\n            autoComplete: \"course\",\n            value: course,\n            onChange: e => {\n              setCourse(e.target.value);\n            },\n            className: \"max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 23\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5 sm:border-b\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"postal-code\",\n          className: \"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\",\n          children: \"Profile Picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"h-12 w-12 rounded-full overflow-hidden bg-gray-100\",\n            children: isFilePicked ? /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"mx-auto h-12 w-auto\",\n              src: selectedFile,\n              alt: \":)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"mx-auto h-12 w-auto\",\n              src: user.profilePicture,\n              alt: \":)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 flex text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"file-upload\",\n              className: \"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-grey-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Change\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"file-upload\",\n                name: \"file-upload\",\n                type: \"file\",\n                className: \"sr-only\",\n                onChange: changeHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"ml-3 bg-transparent py-2 px-3 border border-transparent rounded-md text-sm font-medium text-rose-600 hover:text-blue-gray-700 focus:outline-none focus:border-blue-gray-300 focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-gray-50 focus:ring-blue-500\" //onClick={() => console.log('remove picture')}\n              ,\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\",\n            onClick: () => history.goBack(),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: handleSubmit,\n            className: \"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProfileTab, \"KWBN8DixPI8JJy1G7xY+lUYbRZo=\", false, function () {\n  return [useHistory];\n});\n\n_c = ProfileTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileTab\");","map":{"version":3,"sources":["/Users/remuskwan/development/nus/is3106/project/ui/src/app/containers/ProfilePage/profileTab.js"],"names":["Fragment","useState","useEffect","Listbox","Transition","ChevronRightIcon","CheckIcon","SelectorIcon","StarIcon","UserAddIcon","CalendarIcon","HomeIcon","BriefcaseIcon","AcademicCapIcon","AnnotationIcon","LibraryIcon","SideBar","NavBar","ContactForm","ContactList","NewButton","api","getUser","useHistory","years","id","name","faculties","defaultUser","classNames","classes","filter","Boolean","join","ProfileTab","user","setUser","setName","email","setEmail","course","setCourse","year","setYear","faculty","setFaculty","selectedFile","setSelectedFile","isFilePicked","setIsFilePicked","history","getLogged","u","getLoggedInUser","data","accountType","y","yr","toString","f","username","profilePicture","changeHandler","event","target","files","handleSubmit","evt","preventDefault","updateProfile","editUser","e","value","map","active","selected","goBack"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect } from 'react'\nimport { Listbox, Transition } from '@headlessui/react'\nimport {\n    ChevronRightIcon,\n    CheckIcon,\n    SelectorIcon,\n    StarIcon,\n    UserAddIcon,\n} from '@heroicons/react/solid'\nimport {\n    CalendarIcon,\n    HomeIcon,\n    BriefcaseIcon,\n    AcademicCapIcon,\n    AnnotationIcon,\n    LibraryIcon,\n} from '@heroicons/react/outline'\nimport SideBar from '../../components/sideBar'\nimport NavBar from '../../components/navBar'\nimport ContactForm from '../../components/contacts/ContactForm'\nimport ContactList from '../../components/contacts/ContactList'\nimport NewButton from '../../components/newButton'\nimport api from '../../util/api'\nimport { getUser } from '../../util/Common'\nimport { useHistory } from 'react-router'\n\nconst years = [\n    { id: 1, name: '1' },\n    { id: 2, name: '2' },\n    { id: 3, name: '3' },\n    { id: 4, name: '4' },\n    { id: 5, name: '5' },\n    { id: 6, name: 'Part-time' },\n    { id: 7, name: 'Graduate' },\n    { id: 8, name: 'PhD' },\n    { id: 9, name: 'admin' },\n]\n\nconst faculties = [\n    { id: 1, name: 'Arts & Social Sciences' },\n    { id: 2, name: 'Business' },\n    { id: 3, name: 'Computing' },\n    { id: 4, name: 'Continuing and Lifelong Education' },\n    { id: 5, name: 'Dentistry' },\n    { id: 6, name: 'Design & Environment' },\n    { id: 7, name: 'Duke-NUS' },\n    { id: 8, name: 'Engineering' },\n    { id: 9, name: 'Integrative Sciences & Engineering' },\n    { id: 10, name: 'Law' },\n    { id: 11, name: 'Medicine' },\n    { id: 12, name: 'Music' },\n    { id: 13, name: 'Public Health' },\n    { id: 14, name: 'Public Policy' },\n    { id: 15, name: 'Science' },\n    { id: 16, name: 'University Scholars Program' },\n    { id: 17, name: 'Yale-NUS' },\n]\n\nconst defaultUser = {\n    \"accountStatus\": \"ACTIVE\",\n    \"accountType\": \"ADMIN\",\n    \"contacts\": [],\n    \"created\": \"2021-11-03T16:00:00Z[UTC]\",\n    \"deleted\": false,\n    \"email\": \"admin01@mail.com\",\n    \"favoriteGuides\": [],\n    \"favoritePosts\": [],\n    \"id\": 1,\n    \"password\": \"asdf\",\n    \"username\": \"Admin01\",\n    \"yr\": 0\n}\n\nfunction classNames(...classes) {\n    return classes.filter(Boolean).join(' ')\n}\n\nexport default function ProfileTab() {\n    const [user, setUser] = useState(defaultUser)\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [course, setCourse] = useState(\"\")\n    const [year, setYear] = useState(years[0])\n    const [faculty, setFaculty] = useState(faculties[0])\n    const [selectedFile, setSelectedFile] = useState();\n    const [isFilePicked, setIsFilePicked] = useState(false);\n\n    const history = useHistory()\n\n    useEffect(() => {\n        async function getLogged() {\n            const u = await api.getUser()\n            //console.log(u.data)\n            getLoggedInUser(u.data)\n        }\n        getLogged()\n    }, [])\n\n    function getLoggedInUser(u) {\n        if (u.accountType === \"STUDENT\") {\n            setCourse(u.course)\n            const y = years.filter((y) => y.name === u.yr.toString())[0]\n            setYear(y)\n            //console.log(y)\n            //console.log(year)\n            const f = faculties.filter((f) => f.name === u.faculty)[0]\n            //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n            setFaculty(f)\n            setEmail(u.email)\n            setName(u.username)\n        } else if (u.accountType === \"STAFF\") {\n            //console.log(year)\n            const f = faculties.filter((f) => f.name === u.faculty)[0]\n            //console.log(faculties.filter((f) => f.name === u.faculty)[0])\n            setFaculty(f)\n            setEmail(u.email)\n            setName(u.username)\n        } else {\n            setEmail(u.email)\n            setName(u.username)\n        }\n        setUser(u)\n\n        setSelectedFile(u.profilePicture)\n    }\n\n    const changeHandler = (event) => {\n        setSelectedFile(event.target.files[0]);\n        setIsFilePicked(true);\n    };\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault()\n        updateProfile()\n    }\n\n    function updateProfile() {\n        api.editUser(user.id, {\n            email: email,\n            profilePicture: user.profilePicture,\n            username: name,\n            faculty: faculty.name,\n            yr: year.name,\n            course: course,\n        })//.then(response => console.log(response.data))\n    }\n\n    return (\n        <div className=\"pt-8 space-y-6 sm:pt-10 sm:space-y-5\">\n            <div className=\"p-5 space-y-6 sm:space-y-5\">\n                <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start\">\n                    <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                        Name\n                    </label>\n                    <div className=\"mt-1 sm:mt-0 sm:col-span-2\">\n                        <input\n                            type=\"text\"\n                            name=\"username\"\n                            id=\"username\"\n                            autoComplete=\"given-name\"\n                            value={name}\n                            onChange={(e) => { setName(e.target.value) }}\n                            className=\"max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n                        />\n                    </div>\n                </div>\n\n                <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                    <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                        Email\n                    </label>\n                    <div className=\"mt-1 sm:mt-0 sm:col-span-2\">\n                        <input\n                            id=\"email\"\n                            name=\"email\"\n                            type=\"email\"\n                            autoComplete=\"email\"\n                            value={email}\n                            onChange={(e) => { setEmail(e.target.value) }}\n                            className=\"max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n                        />\n                    </div>\n                </div>\n\n                {user.accountType === \"STUDENT\"\n                    ?\n                    <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                        <label htmlFor=\"country\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                            Year\n                        </label>\n                        <Listbox value={year} onChange={setYear}>\n                            <div className=\"mt-1 relative\">\n                                <Listbox.Button className=\"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\">\n                                    <span className=\"block truncate\">{year.name}</span>\n                                    <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                                        <SelectorIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                                    </span>\n                                </Listbox.Button>\n\n                                <Transition as={Fragment} leave=\"transition ease-in duration-100\" leaveFrom=\"opacity-100\" leaveTo=\"opacity-0\">\n                                    <Listbox.Options className=\"absolute z-10 mt-1 max-w-lg block w-full bg-white shadow-sm max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:max-w-xs sm:text-sm\">\n                                        {years.map((y) => (\n                                            <Listbox.Option\n                                                key={y.id}\n                                                className={({ active }) =>\n                                                    classNames(\n                                                        active ? 'text-white bg-rose-600' : 'text-gray-900',\n                                                        'cursor-default select-none relative py-2 pl-8 pr-4'\n                                                    )\n                                                }\n                                                value={y}\n                                            >\n                                                {({ selected, active }) => (\n                                                    <>\n                                                        <span className={classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate')}>\n                                                            {y.name}\n                                                        </span>\n\n                                                        {selected ? (\n                                                            <span\n                                                                className={classNames(\n                                                                    active ? 'text-white' : 'text-rose-600',\n                                                                    'absolute inset-y-0 left-0 flex items-center pl-1.5'\n                                                                )}\n                                                            >\n                                                                <CheckIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                                                            </span>\n                                                        ) : null}\n                                                    </>\n                                                )}\n                                            </Listbox.Option>\n                                        ))}\n                                    </Listbox.Options>\n                                </Transition>\n                            </div>\n                        </Listbox>\n                        {/* <div className=\"mt-1 sm:mt-0 sm:col-span-2\">\n            <select\n              id=\"country\"\n              name=\"country\"\n              autoComplete=\"country-name\"\n              className=\"max-w-lg block focus:ring-rose-500 focus:border-rose-500 w-full shadow-sm sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n            >\n              <option>United States</option>\n              <option>Canada</option>\n              <option>Mexico</option>\n            </select>\n          </div> */}\n                    </div>\n                    : null\n                }\n                {user.accountType !== \"ADMIN\"\n                    ? <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                        <label htmlFor=\"street-address\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                            Faculty\n                        </label>\n                        <Listbox value={faculty} onChange={setFaculty}>\n                            <div className=\"mt-3 relative\">\n                                <Listbox.Button className=\"relative w-full bg-white border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-rose-500 focus:border-rose-500 sm:text-sm\">\n                                    <span className=\"block truncate\">{faculty.name}</span>\n                                    <span className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                                        <SelectorIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                                    </span>\n                                </Listbox.Button>\n\n                                <Transition as={Fragment} leave=\"transition ease-in duration-100\" leaveFrom=\"opacity-100\" leaveTo=\"opacity-0\">\n                                    <Listbox.Options className=\"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\">\n                                        {faculties.map((faculty) => (\n                                            <Listbox.Option\n                                                key={faculty.id}\n                                                className={({ active }) =>\n                                                    classNames(\n                                                        active ? 'text-white bg-rose-600' : 'text-gray-900',\n                                                        'cursor-default select-none relative py-2 pl-8 pr-4'\n                                                    )\n                                                }\n                                                value={faculty}\n                                            >\n                                                {({ selected, active }) => (\n                                                    <>\n                                                        <span className={classNames(selected ? 'font-semibold' : 'font-normal', 'block truncate')}>\n                                                            {faculty.name}\n                                                        </span>\n\n                                                        {selected ? (\n                                                            <span\n                                                                className={classNames(\n                                                                    active ? 'text-white' : 'text-rose-600',\n                                                                    'absolute inset-y-0 left-0 flex items-center pl-1.5'\n                                                                )}\n                                                            >\n                                                                <CheckIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                                                            </span>\n                                                        ) : null}\n                                                    </>\n                                                )}\n                                            </Listbox.Option>\n                                        ))}\n                                    </Listbox.Options>\n                                </Transition>\n                            </div>\n                        </Listbox>\n                    </div>\n                    : null\n                }\n\n                {user.accountType === \"STUDENT\"\n                    ? <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5\">\n                        <label htmlFor=\"course\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                            Course\n                        </label>\n                        <div className=\"mt-1 sm:mt-0 sm:col-span-2\">\n                            <input\n                                type=\"text\"\n                                name=\"course\"\n                                id=\"course\"\n                                autoComplete=\"course\"\n                                value={course}\n                                onChange={(e) => { setCourse(e.target.value) }}\n                                className=\"max-w-lg block w-full shadow-sm focus:ring-rose-500 focus:border-rose-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\"\n                            />\n                        </div>\n                    </div>\n                    : null\n                }\n\n                <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5 sm:border-b\">\n                    <label htmlFor=\"postal-code\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\n                        Profile Picture\n                    </label>\n                    <div className=\"mt-1 flex items-center\">\n                        <span className=\"h-12 w-12 rounded-full overflow-hidden bg-gray-100\">\n                            {isFilePicked\n                                ?\n                                <img\n                                    className=\"mx-auto h-12 w-auto\"\n                                    src={selectedFile}\n                                    alt=\":)\"\n                                />\n                                :\n                                <img\n                                    className=\"mx-auto h-12 w-auto\"\n                                    src={user.profilePicture}\n                                    alt=\":)\"\n                                />\n                            }\n                        </span>\n                        <div className=\"p-3 flex text-sm text-gray-600\">\n                            <label\n                                htmlFor=\"file-upload\"\n                                className=\"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-grey-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\"\n                            >\n                                <span>Change</span>\n                                <input id=\"file-upload\" name=\"file-upload\" type=\"file\" className=\"sr-only\" onChange={changeHandler} />\n                            </label>\n                            <button\n                                type=\"button\"\n                                className=\"ml-3 bg-transparent py-2 px-3 border border-transparent rounded-md text-sm font-medium text-rose-600 hover:text-blue-gray-700 focus:outline-none focus:border-blue-gray-300 focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-gray-50 focus:ring-blue-500\"\n                                //onClick={() => console.log('remove picture')}\n                            >\n                                Remove\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"pt-5\">\n                    <div className=\"flex justify-end\">\n                        <button\n                            type=\"button\"\n                            className=\"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\"\n                            onClick={() => history.goBack()}\n                        >\n                            Cancel\n                        </button>\n                        <button\n                            type=\"submit\"\n                            onClick={handleSubmit}\n                            className=\"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\"\n                        >\n                            Save\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}