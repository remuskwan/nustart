{"ast":null,"code":"var _jsxFileName = \"/Users/remuskwan/development/nus/is3106/project/ui/src/app/containers/UsersPage/BlockTab.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect, useRef } from 'react';\nimport { Transition, Dialog } from '@headlessui/react';\nimport { ChevronRightIcon } from '@heroicons/react/solid';\nimport { BanIcon, CalendarIcon, CheckCircleIcon, SearchIcon, ExclamationIcon } from '@heroicons/react/outline';\nimport api from '../../util/api';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BlockTab() {\n  _s();\n\n  const [allUsers, setAllUsers] = useState([]);\n  const [open, setOpen] = useState(false);\n  const cancelButtonRef = useRef(null);\n  useEffect(() => {\n    let isMounted = true;\n    api.getUsers().then(users => {\n      if (isMounted) setAllUsers(users.data); // add conditional check\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  function blockUser(user) {\n    // axios.put(`http://localhost:8080/NUStartApplication-war/webresources/users/${user.id}`,\n    //     {\n    //         accountStatus: \"ACTIVE\",\n    //         email: user.email,\n    //         faculty: user.faculty,\n    //         course: user.course,\n    //         profilePicture: user.profilePicture,\n    //         password: user.password,\n    //         yr: user.yr,\n    //     }\n    // )\n    // setOpen(false)\n    api.editUser(user.id, {\n      accountStatus: \"BLOCKED\",\n      email: user.email,\n      faculty: user.faculty,\n      course: user.course,\n      profilePicture: user.profilePicture,\n      password: user.password,\n      yr: user.yr\n    }).then(() => api.getUsers()).then(response => setAllUsers(response.data));\n  }\n\n  function unblockUser(user) {\n    api.editUser(user.id, {\n      accountStatus: \"ACTIVE\",\n      email: user.email,\n      faculty: user.faculty,\n      course: user.course,\n      profilePicture: user.profilePicture,\n      password: user.password,\n      yr: user.yr\n    }).then(() => api.getUsers()).then(response => setAllUsers(response.data));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow overflow-hidden sm:rounded-md\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        role: \"list\",\n        className: \"divide-y divide-gray-200\",\n        children: allUsers.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-4 flex items-center sm:px-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"truncate\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex text-sm items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xl font-medium text-rose-500 truncate\",\n                    children: user.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"ml-3 flex-shrink-0 font-normal text-gray-500\",\n                    children: user.accountType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 flex\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center text-sm text-gray-500\",\n                    children: user.accountStatus\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex overflow-hidden -space-x-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-5 flex items-center\",\n              children: user.accountStatus === \"BLOCKED\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-rose-500 hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\",\n                onClick: () => unblockUser(user),\n                children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                  className: \"-ml-0.5 mr-2 h-4 w-4\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 45\n                }, this), \"Unblock\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-rose-500 hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\",\n                onClick: () => blockUser(user),\n                children: [/*#__PURE__*/_jsxDEV(BanIcon, {\n                  className: \"mr-3 h-4 w-4\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 45\n                }, this), \"Block\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this)\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BlockTab, \"qPPKQlu5IlAnKpkq3MDu9hHFMgg=\");\n\n_c = BlockTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlockTab\");","map":{"version":3,"sources":["/Users/remuskwan/development/nus/is3106/project/ui/src/app/containers/UsersPage/BlockTab.js"],"names":["Fragment","useState","useEffect","useRef","Transition","Dialog","ChevronRightIcon","BanIcon","CalendarIcon","CheckCircleIcon","SearchIcon","ExclamationIcon","api","Link","BlockTab","allUsers","setAllUsers","open","setOpen","cancelButtonRef","isMounted","getUsers","then","users","data","blockUser","user","editUser","id","accountStatus","email","faculty","course","profilePicture","password","yr","response","unblockUser","map","accountType"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect, useRef } from 'react'\nimport { Transition, Dialog } from '@headlessui/react'\nimport {\n    ChevronRightIcon,\n} from '@heroicons/react/solid'\nimport {\n    BanIcon,\n    CalendarIcon,\n    CheckCircleIcon,\n    SearchIcon,\n    ExclamationIcon\n} from '@heroicons/react/outline'\nimport api from '../../util/api'\nimport { Link } from 'react-router-dom'\n\nexport default function BlockTab() {\n    const [allUsers, setAllUsers] = useState([])\n    const [open, setOpen] = useState(false)\n    const cancelButtonRef = useRef(null)\n\n    useEffect(() => {\n        let isMounted = true;\n        api.getUsers().then(users => {\n            if (isMounted) setAllUsers(users.data);    // add conditional check\n        })\n        return () => { isMounted = false };\n    }, [])\n\n    function blockUser(user) {\n        // axios.put(`http://localhost:8080/NUStartApplication-war/webresources/users/${user.id}`,\n        //     {\n        //         accountStatus: \"ACTIVE\",\n        //         email: user.email,\n        //         faculty: user.faculty,\n        //         course: user.course,\n        //         profilePicture: user.profilePicture,\n        //         password: user.password,\n        //         yr: user.yr,\n        //     }\n        // )\n        // setOpen(false)\n        api.editUser(user.id, {\n            accountStatus: \"BLOCKED\",\n            email: user.email,\n            faculty: user.faculty,\n            course: user.course,\n            profilePicture: user.profilePicture,\n            password: user.password,\n            yr: user.yr,\n        }).then(() => api.getUsers()).then(response => setAllUsers(response.data))\n    }\n\n    function unblockUser(user) {\n        api.editUser(user.id, {\n            accountStatus: \"ACTIVE\",\n            email: user.email,\n            faculty: user.faculty,\n            course: user.course,\n            profilePicture: user.profilePicture,\n            password: user.password,\n            yr: user.yr,\n        }).then(() => api.getUsers()).then(response => setAllUsers(response.data))\n    }\n\n    return (\n        <div>\n            {/* <div className=\"px-6 pt-6 pb-4\">\n                <form className=\"mt-6 flex space-x-4\" action=\"#\">\n                    <div className=\"flex-1 min-w-0\">\n                        <div className=\"relative rounded-md shadow-sm\">\n                        </div>\n                    </div>\n                </form>\n            </div> */}\n            <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n                <ul role=\"list\" className=\"divide-y divide-gray-200\">\n                    {allUsers.map((user) => (\n                        <li key={user.id}>\n                            <div className=\"px-4 py-4 flex items-center sm:px-6\">\n                                <div className=\"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between\">\n                                    <div className=\"truncate\">\n                                        <div className=\"flex text-sm items-center\">\n                                            <p className=\"text-xl font-medium text-rose-500 truncate\">{user.email}</p>\n                                            <p className=\"ml-3 flex-shrink-0 font-normal text-gray-500\">{user.accountType}</p>\n                                        </div>\n                                        <div className=\"mt-2 flex\">\n                                            <div className=\"flex items-center text-sm text-gray-500\">\n                                                {user.accountStatus}\n                                                {/* <CalendarIcon className=\"ml-2 flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                                                <p>\n                                                    Created on <time dateTime={user.created}>{user.created}</time>\n                                                </p> */}\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5\">\n                                        <div className=\"flex overflow-hidden -space-x-1\">\n\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"ml-5 flex items-center\">\n                                    {user.accountStatus === \"BLOCKED\"\n                                        ?\n                                        <button\n                                            type=\"button\"\n                                            className=\"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-rose-500 hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\"\n                                            onClick={() => unblockUser(user)}\n                                        >\n                                            <CheckCircleIcon className=\"-ml-0.5 mr-2 h-4 w-4\" aria-hidden=\"true\" />\n                                            Unblock\n                                        </button>\n                                        :\n                                        <button\n                                            type=\"button\"\n                                            className=\"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-rose-500 hover:bg-rose-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500\"\n                                            onClick={() => blockUser(user)}\n                                        >\n                                            <BanIcon className=\"mr-3 h-4 w-4\" aria-hidden=\"true\"\n                                            />\n                                            Block\n                                        </button>\n\n                                    }\n                                    {/* <div>\n                                        <a\n                                            // href={`/profile/${user.id}`}\n                                            href='#'\n                                            className=\"ml-3 inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50\"\n                                            onClick={() => console.log(user.id)}\n                                        >\n                                            View\n                                        </a>\n                                    </div> */}\n                                </div>\n                            </div>\n                            {/* <ConfirmationDialog user={user} /> */}\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}